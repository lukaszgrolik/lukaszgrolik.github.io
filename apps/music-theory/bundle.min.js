/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},858:t=>{t.exports=function(t){if(Array.isArray(t))return t}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}},122:(t,e,n)=>{"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{Z:()=>i})},154:t=>{function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e},884:t=>{t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return n}}},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(t,e,n)=>{var i=n(858),s=n(884),r=n(379),o=n(521);t.exports=function(t,e){return i(t)||s(t,e)||r(t,e)||o()}},379:(t,e,n)=>{var i=n(228);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},717:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},911:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CacheProvider:()=>ot,ClassNames:()=>xt,Global:()=>vt,ThemeContext:()=>lt,ThemeProvider:()=>ht,createElement:()=>gt,css:()=>_t,jsx:()=>gt,keyframes:()=>yt,useTheme:()=>ct,withEmotionCache:()=>at,withTheme:()=>dt});var i=n(294),s=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),r=Math.abs,o=String.fromCharCode;function a(t){return t.trim()}function l(t,e,n){return t.replace(e,n)}function c(t,e){return 0|t.charCodeAt(e)}function u(t,e,n){return t.slice(e,n)}function h(t){return t.length}function d(t){return t.length}function p(t,e){return e.push(t),t}var f=1,m=1,g=0,v=0,_=0,y="";function b(t,e,n,i,s,r,o){return{value:t,root:e,parent:n,type:i,props:s,children:r,line:f,column:m,length:o,return:""}}function w(t,e,n){return b(t,e.root,e.parent,n,e.props,e.children,0)}function x(){return _=v<g?c(y,v++):0,m++,10===_&&(m=1,f++),_}function k(){return c(y,v)}function S(){return v}function T(t,e){return u(y,t,e)}function C(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(t){return f=m=1,g=h(y=t),v=0,[]}function M(t){return y="",t}function O(t){return a(T(v-1,P(91===t?t+2:40===t?t+1:t)))}function E(t){for(;(_=k())&&_<33;)x();return C(t)>2||C(_)>3?"":" "}function P(t){for(;x();)switch(_){case t:return v;case 34:case 39:return P(34===t||39===t?t:_);case 40:41===t&&P(t);break;case 92:x()}return v}function D(t,e){for(;x()&&t+_!==57&&(t+_!==84||47!==k()););return"/*"+T(e,v-1)+"*"+o(47===t?t:x())}function R(t){for(;!C(k());)x();return T(t,v)}var N="-ms-",I="-webkit-",F="comm",j="rule",q="decl";function V(t,e){for(var n="",i=d(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function L(t,e,n,i){switch(t.type){case"@import":case q:return t.return=t.return||t.value;case F:return"";case j:t.value=t.props.join(",")}return h(n=V(t.children,i))?t.return=t.value+"{"+n+"}":""}function z(t,e){switch(function(t,e){return(((e<<2^c(t,0))<<2^c(t,1))<<2^c(t,2))<<2^c(t,3)}(t,e)){case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return I+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return I+t+"-moz-"+t+N+t+t;case 6828:case 4268:return I+t+N+t+t;case 6165:return I+t+N+"flex-"+t+t;case 5187:return I+t+l(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return I+t+N+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return I+t+N+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return I+t+N+l(t,"shrink","negative")+t;case 5292:return I+t+N+l(t,"basis","preferred-size")+t;case 6060:return I+"box-"+l(t,"-grow","")+I+t+N+l(t,"grow","positive")+t;case 4554:return I+l(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,I+"$1"),/(image-set)/,I+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,I+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+I+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,I+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(t)-1-e>6)switch(c(t,e+1)){case 109:return l(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-$2-$3")+t;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-$3")+t;case 115:return z(l(t,"stretch","fill-available"),e)+t}break;case 4949:if(115!==c(t,e+1))break;case 6444:switch(c(t,h(t)-3-(~function(t,e){return t.indexOf("!important")}(t)&&10))){case 107:case 111:return l(t,t,I+t)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+I+(45===c(t,14)?"inline-":"")+"box$3$1"+I+"$2$3$1"+N+"$2box$3")+t}break;case 5936:switch(c(t,e+11)){case 114:return I+t+N+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return I+t+N+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return I+t+N+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return I+t+N+t+t}return t}function B(t){return M(U("",null,null,null,[""],t=A(t),0,[0],t))}function U(t,e,n,i,s,r,a,c,u){for(var d=0,f=0,m=a,g=0,v=0,_=0,y=1,b=1,w=1,T=0,C="",A=s,M=r,P=i,N=C;b;)switch(_=T,T=x()){case 34:case 39:case 91:case 40:N+=O(T);break;case 9:case 10:case 13:case 32:N+=E(_);break;case 47:switch(k()){case 42:case 47:p($(D(x(),S()),e,n),u);break;default:N+="/"}break;case 123*y:c[d++]=h(N)*w;case 125*y:case 59:case 0:switch(T){case 0:case 125:b=0;case 59+f:v>0&&p(v>32?H(N+";",i,n,m-1):H(l(N," ","")+";",i,n,m-2),u);break;case 59:N+=";";default:if(p(P=W(N,e,n,d,f,s,c,C,A=[],M=[],m),r),123===T)if(0===f)U(N,e,P,P,A,r,m,c,M);else switch(g){case 100:case 109:case 115:U(t,P,P,i&&p(W(t,P,P,0,0,s,c,C,s,A=[],m),M),s,M,m,c,i?A:M);break;default:U(N,P,P,P,[""],M,m,c,M)}}d=f=v=0,y=w=1,C=N="",m=a;break;case 58:m=1+h(N),v=_;default:switch(N+=o(T),T*y){case 38:w=f>0?1:(N+="\f",-1);break;case 44:c[d++]=(h(N)-1)*w,w=1;break;case 64:45===k()&&(N+=O(x())),g=k(),f=h(C=N+=R(S())),T++;break;case 45:45===_&&2==h(N)&&(y=0)}}return r}function W(t,e,n,i,s,o,c,h,p,f,m){for(var g=s-1,v=0===s?o:[""],_=d(v),y=0,w=0,x=0;y<i;++y)for(var k=0,S=u(t,g+1,g=r(w=c[y])),T=t;k<_;++k)(T=a(w>0?v[k]+" "+S:l(S,/&\f/g,v[k])))&&(p[x++]=T);return b(t,e,n,0===s?j:h,p,f,m)}function $(t,e,n){return b(t,e,n,F,o(_),u(t,2,-2),0)}function H(t,e,n,i){return b(t,e,n,q,u(t,0,i),u(t,i+1,-1),i)}var G=new WeakMap,Q=function(t){if("rule"===t.type&&t.parent&&t.length){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)n=n.parent;if((1!==t.props.length||58===e.charCodeAt(0)||G.get(n))&&!i){G.set(t,!0);for(var s=[],r=function(t,e){return M(function(t,e){var n=-1,i=44;do{switch(C(i)){case 0:38===i&&12===k()&&(e[n]=1),t[n]+=R(v-1);break;case 2:t[n]+=O(i);break;case 4:if(44===i){t[++n]=58===k()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(i)}}while(i=x());return t}(A(t),e))}(e,s),a=n.props,l=0,c=0;l<r.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?r[l].replace(/&\f/g,a[u]):a[u]+" "+r[l]}}},K=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},Y=[function(t,e,n,i){if(!t.return)switch(t.type){case q:t.return=z(t.value,t.length);break;case"@keyframes":return V([w(l(t.value,"@","@"+I),t,"")],i);case j:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return V([w(l(e,/:(read-\w+)/,":-moz-$1"),t,"")],i);case"::placeholder":return V([w(l(e,/:(plac\w+)/,":-webkit-input-$1"),t,""),w(l(e,/:(plac\w+)/,":-moz-$1"),t,""),w(l(e,/:(plac\w+)/,N+"input-$1"),t,"")],i)}return""}))}}];const X=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){document.head.appendChild(t),t.setAttribute("data-s","")}))}var i,r,o=t.stylisPlugins||Y,a={},l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(t){var n=t.getAttribute("data-emotion").split(" ");if(n[0]===e){for(var i=1;i<n.length;i++)a[n[i]]=!0;l.push(t)}}));var c,u,h,p,f=[L,(p=function(t){c.insert(t)},function(t){t.root||(t=t.return)&&p(t)})],m=(u=[Q,K].concat(o,f),h=d(u),function(t,e,n,i){for(var s="",r=0;r<h;r++)s+=u[r](t,e,n,i)||"";return s});r=function(t,e,n,i){c=n,V(B(t?t+"{"+e.styles+"}":e.styles),m),i&&(g.inserted[e.name]=!0)};var g={key:e,sheet:new s({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend}),nonce:t.nonce,inserted:a,registered:{},insert:r};return g.sheet.hydrate(l),g};var Z=n(122);const J=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var i=t(n);return e.set(n,i),i}};var tt=n(679),et=n.n(tt),nt=n(444),it=n(454),st=Object.prototype.hasOwnProperty,rt=(0,i.createContext)("undefined"!=typeof HTMLElement?X({key:"css"}):null),ot=rt.Provider,at=function(t){return(0,i.forwardRef)((function(e,n){var s=(0,i.useContext)(rt);return t(e,s,n)}))},lt=(0,i.createContext)({}),ct=function(){return(0,i.useContext)(lt)},ut=J((function(t){return J((function(e){return function(t,e){return"function"==typeof e?e(t):(0,Z.Z)({},t,{},e)}(t,e)}))})),ht=function(t){var e=(0,i.useContext)(lt);return t.theme!==e&&(e=ut(e)(t.theme)),(0,i.createElement)(lt.Provider,{value:e},t.children)};function dt(t){var e=t.displayName||t.name||"Component",n=function(e,n){var s=(0,i.useContext)(lt);return(0,i.createElement)(t,(0,Z.Z)({theme:s,ref:n},e))},s=(0,i.forwardRef)(n);return s.displayName="WithTheme("+e+")",et()(s,t)}var pt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ft=function(t,e){var n={};for(var i in e)st.call(e,i)&&(n[i]=e[i]);return n[pt]=t,n},mt=at((function(t,e,n){var s=t.css;"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var r=t[pt],o=[s],a="";"string"==typeof t.className?a=(0,nt.f)(e.registered,o,t.className):null!=t.className&&(a=t.className+" ");var l=(0,it.O)(o,void 0,"function"==typeof s||Array.isArray(s)?(0,i.useContext)(lt):void 0);(0,nt.M)(e,l,"string"==typeof r),a+=e.key+"-"+l.name;var c={};for(var u in t)st.call(t,u)&&"css"!==u&&u!==pt&&(c[u]=t[u]);return c.ref=n,c.className=a,(0,i.createElement)(r,c)}));n(154);var gt=function(t,e){var n=arguments;if(null==e||!st.call(e,"css"))return i.createElement.apply(void 0,n);var s=n.length,r=new Array(s);r[0]=mt,r[1]=ft(t,e);for(var o=2;o<s;o++)r[o]=n[o];return i.createElement.apply(null,r)},vt=at((function(t,e){var n=t.styles,r=(0,it.O)([n],void 0,"function"==typeof n||Array.isArray(n)?(0,i.useContext)(lt):void 0),o=(0,i.useRef)();return(0,i.useLayoutEffect)((function(){var t=e.key+"-global",n=new s({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),i=document.querySelector('style[data-emotion="'+t+" "+r.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==i&&n.hydrate([i]),o.current=n,function(){n.flush()}}),[e]),(0,i.useLayoutEffect)((function(){void 0!==r.next&&(0,nt.M)(e,r.next,!0);var t=o.current;if(t.tags.length){var n=t.tags[t.tags.length-1].nextElementSibling;t.before=n,t.flush()}e.insert("",r,t,!1)}),[e,r.name]),null}));function _t(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,it.O)(e)}var yt=function(){var t=_t.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},bt=function t(e){for(var n=e.length,i=0,s="";i<n;i++){var r=e[i];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))o=t(r);else for(var a in o="",r)r[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=r}o&&(s&&(s+=" "),s+=o)}}return s};function wt(t,e,n){var i=[],s=(0,nt.f)(t,i,n);return i.length<2?n:s+e(i)}var xt=at((function(t,e){var n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=(0,it.O)(n,e.registered);return(0,nt.M)(e,s,!1),e.key+"-"+s.name},s={css:n,cx:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return wt(e.registered,n,bt(i))},theme:(0,i.useContext)(lt)};return t.children(s)}))},454:(t,e,n)=>{"use strict";n.d(e,{O:()=>m});const i=function(t){for(var e,n=0,i=0,s=t.length;s>=4;++i,s-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},s={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var r=n(717),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(t){return 45===t.charCodeAt(1)},c=function(t){return null!=t&&"boolean"!=typeof t},u=(0,r.Z)((function(t){return l(t)?t:t.replace(o,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(a,(function(t,e,n){return p={name:e,styles:n,next:p},e}))}return 1===s[t]||l(t)||"number"!=typeof e||0===e?e:e+"px"};function d(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)p={name:i.name,styles:i.styles,next:p},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=d(t,e,n[s])+";";else for(var r in n){var o=n[r];if("object"!=typeof o)null!=e&&void 0!==e[o]?i+=r+"{"+e[o]+"}":c(o)&&(i+=u(r)+":"+h(r,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=e&&void 0!==e[o[0]]){var a=d(t,e,o);switch(r){case"animation":case"animationName":i+=u(r)+":"+a+";";break;default:i+=r+"{"+a+"}"}}else for(var l=0;l<o.length;l++)c(o[l])&&(i+=u(r)+":"+h(r,o[l])+";")}return i}(t,e,n);case"function":if(void 0!==t){var s=p,r=n(t);return p=s,d(t,e,r)}}if(null==e)return n;var o=e[n];return void 0!==o?o:n}var p,f=/label:\s*([^\s;\n{]+)\s*;/g,m=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var s=!0,r="";p=void 0;var o=t[0];null==o||void 0===o.raw?(s=!1,r+=d(n,e,o)):r+=o[0];for(var a=1;a<t.length;a++)r+=d(n,e,t[a]),s&&(r+=o[a]);f.lastIndex=0;for(var l,c="";null!==(l=f.exec(r));)c+="-"+l[1];return{name:i(r)+c,styles:r,next:p}}},524:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g}),n(154);var i=n(294),s=n(122),r=n(717),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const a=(0,r.Z)((function(t){return o.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var l=n(911),c=n(444),u=n(454),h=a,d=function(t){return"theme"!==t},p=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?h:d},f=function(t,e,n){var i;if(e){var s=e.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(e){return t.__emotion_forwardProp(e)&&s(e)}:s}return"function"!=typeof i&&n&&(i=t.__emotion_forwardProp),i};var m=function t(e,n){var r,o,a=e.__emotion_real===e,h=a&&e.__emotion_base||e;void 0!==n&&(r=n.label,o=n.target);var d=f(e,n,a),m=d||p(h),g=!m("as");return function(){var v=arguments,_=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&_.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)_.push.apply(_,v);else{_.push(v[0][0]);for(var y=v.length,b=1;b<y;b++)_.push(v[b],v[0][b])}var w=(0,l.withEmotionCache)((function(t,e,n){var s=g&&t.as||h,r="",a=[],f=t;if(null==t.theme){for(var v in f={},t)f[v]=t[v];f.theme=(0,i.useContext)(l.ThemeContext)}"string"==typeof t.className?r=(0,c.f)(e.registered,a,t.className):null!=t.className&&(r=t.className+" ");var y=(0,u.O)(_.concat(a),e.registered,f);(0,c.M)(e,y,"string"==typeof s),r+=e.key+"-"+y.name,void 0!==o&&(r+=" "+o);var b=g&&void 0===d?p(s):m,w={};for(var x in t)g&&"as"===x||b(x)&&(w[x]=t[x]);return w.className=r,w.ref=n,(0,i.createElement)(s,w)}));return w.displayName=void 0!==r?r:"Styled("+("string"==typeof h?h:h.displayName||h.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=h,w.__emotion_styles=_,w.__emotion_forwardProp=d,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(e,i){return t(e,(0,s.Z)({},n,{},i,{shouldForwardProp:f(w,i,!0)})).apply(void 0,_)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){m[t]=m(t)}));const g=m},444:(t,e,n)=>{"use strict";function i(t,e,n){var i="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):i+=n+" "})),i}n.d(e,{f:()=>i,M:()=>s});var s=function(t,e,n){var i=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles),void 0===t.inserted[e.name]){var s=e;do{t.insert(e===s?"."+i:"",s,t.sheet,!0),s=s.next}while(void 0!==s)}}},630:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AbcNotation:()=>L,Array:()=>s,Chord:()=>qt,ChordDictionary:()=>An,ChordType:()=>wt,Collection:()=>X,Core:()=>i,DurationValue:()=>Ut,Interval:()=>Jt,Key:()=>Xe,Midi:()=>le,Mode:()=>cn,Note:()=>Me,PcSet:()=>Cn,Pcset:()=>dt,Progression:()=>hn,Range:()=>pn,RomanNumeral:()=>je,Scale:()=>_n,ScaleDictionary:()=>Mn,ScaleType:()=>Pt,TimeSignature:()=>Sn,Tonal:()=>Tn,accToAlt:()=>_,altToAcc:()=>v,coordToInterval:()=>P,coordToNote:()=>x,decode:()=>p,deprecate:()=>o,distance:()=>R,encode:()=>h,fillStr:()=>r,interval:()=>M,isNamed:()=>a,isPitch:()=>l,note:()=>y,stepToLetter:()=>g,tokenizeInterval:()=>C,tokenizeNote:()=>w,transpose:()=>D});var i={};n.r(i),n.d(i,{accToAlt:()=>_,altToAcc:()=>v,coordToInterval:()=>P,coordToNote:()=>x,decode:()=>p,deprecate:()=>o,distance:()=>R,encode:()=>h,fillStr:()=>r,interval:()=>M,isNamed:()=>a,isPitch:()=>l,note:()=>y,stepToLetter:()=>g,tokenizeInterval:()=>C,tokenizeNote:()=>w,transpose:()=>D});var s={};n.r(s),n.d(s,{compact:()=>U,permutations:()=>G,range:()=>z,rotate:()=>B,shuffle:()=>H,sortedNoteNames:()=>W,sortedUniqNoteNames:()=>$});const r=(t,e)=>Array(Math.abs(e)+1).join(t);function o(t,e,n){return function(...i){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,i)}}function a(t){return null!==t&&"object"==typeof t&&"string"==typeof t.name}function l(t){return null!==t&&"object"==typeof t&&"number"==typeof t.step&&"number"==typeof t.alt}const c=[0,2,4,-1,1,3,5],u=c.map((t=>Math.floor(7*t/12)));function h(t){const{step:e,alt:n,oct:i,dir:s=1}=t,r=c[e]+7*n;return void 0===i?[s*r]:[s*r,s*(i-u[e]-4*n)]}const d=[3,0,4,1,5,2,6];function p(t){const[e,n,i]=t,s=d[function(t){const e=(t+1)%7;return e<0?7+e:e}(e)],r=Math.floor((e+1)/7);return void 0===n?{step:s,alt:r,dir:i}:{step:s,alt:r,oct:n+4*r+u[s],dir:i}}const f={empty:!0,name:"",pc:"",acc:""},m=new Map,g=t=>"CDEFGAB".charAt(t),v=t=>t<0?r("b",-t):r("#",t),_=t=>"b"===t[0]?-t.length:t.length;function y(t){const e=m.get(t);if(e)return e;const n="string"==typeof t?function(t){const e=w(t);if(""===e[0]||""!==e[3])return f;const n=e[0],i=e[1],s=e[2],r=(n.charCodeAt(0)+3)%7,o=_(i),a=s.length?+s:void 0,l=h({step:r,alt:o,oct:a}),c=n+i+s,u=n+i,d=(k[r]+o+120)%12,p=void 0===a?(12,((k[r]+o)%12+12)%12-1188):k[r]+o+12*(a+1),m=p>=0&&p<=127?p:null;return{empty:!1,acc:i,alt:o,chroma:d,coord:l,freq:void 0===a?null:440*Math.pow(2,(p-69)/12),height:p,letter:n,midi:m,name:c,oct:a,pc:u,step:r}}(t):l(t)?y(function(t){const{step:e,alt:n,oct:i}=t,s=g(e);if(!s)return"";const r=s+v(n);return i||0===i?r+i:r}(t)):a(t)?y(t.name):f;return m.set(t,n),n}const b=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function w(t){const e=b.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function x(t){return y(p(t))}const k=[0,2,4,5,7,9,11],S={empty:!0,name:"",acc:""},T=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$");function C(t){const e=T.exec(`${t}`);return null===e?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}const A={};function M(t){return"string"==typeof t?A[t]||(A[t]=function(t){const e=C(t);if(""===e[0])return S;const n=+e[0],i=e[1],s=(Math.abs(n)-1)%7,r=E[s];if("M"===r&&"P"===i)return S;const o="M"===r?"majorable":"perfectable",a=""+n+i,l=n<0?-1:1,c=8===n||-8===n?n:l*(s+1),u=function(t,e){return"M"===e&&"majorable"===t||"P"===e&&"perfectable"===t?0:"m"===e&&"majorable"===t?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*("perfectable"===t?e.length:e.length+1):0}(o,i),d=Math.floor((Math.abs(n)-1)/7);return{empty:!1,name:a,num:n,q:i,step:s,alt:u,dir:l,type:o,simple:c,semitones:l*(O[s]+u+12*d),chroma:(l*(O[s]+u)%12+12)%12,coord:h({step:s,alt:u,oct:d,dir:l}),oct:d}}(t)):l(t)?M(function(t){const{step:e,alt:n,oct:i=0,dir:s}=t;return s?(s<0?"-":"")+(e+1+7*i)+function(t,e){return 0===e?"majorable"===t?"M":"P":-1===e&&"majorable"===t?"m":e>0?r("A",e):r("d","perfectable"===t?e:e+1)}("M"===E[e]?"majorable":"perfectable",n):""}(t)):a(t)?M(t.name):S}const O=[0,2,4,5,7,9,11],E="PMMPPMM";function P(t){const[e,n=0]=t;return M(p(7*e+12*n<0?[-e,-n,-1]:[e,n,1]))}function D(t,e){const n=y(t),i=M(e);if(n.empty||i.empty)return"";const s=n.coord,r=i.coord;return x(1===s.length?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]]).name}function R(t,e){const n=y(t),i=y(e);if(n.empty||i.empty)return"";const s=n.coord,r=i.coord,o=r[0]-s[0];return P([o,2===s.length&&2===r.length?r[1]-s[1]:-Math.floor(7*o/12)]).name}const N=(t,e)=>Array(e+1).join(t),I=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function F(t){const e=I.exec(t);return e?[e[1],e[2],e[3]]:["","",""]}function j(t){const[e,n,i]=F(t);if(""===n)return"";let s=4;for(let t=0;t<i.length;t++)s+=","===i.charAt(t)?-1:1;const r="_"===e[0]?e.replace(/_/g,"b"):"^"===e[0]?e.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+r+(s+1):n+r+s}function q(t){const e=y(t);if(e.empty||!e.oct)return"";const{letter:n,acc:i,oct:s}=e;return("b"===i[0]?i.replace(/b/g,"_"):i.replace(/#/g,"^"))+(s>4?n.toLowerCase():n)+(5===s?"":s>4?N("'",s-5):N(",",4-s))}var V={abcToScientificNotation:j,scientificToAbcNotation:q,tokenize:F,transpose:function(t,e){return q(D(j(t),e))},distance:function(t,e){return R(j(t),j(e))}};const L=V;function z(t,e){return t<e?function(t,e){const n=[];for(;e--;n[e]=e+t);return n}(t,e-t+1):function(t,e){const n=[];for(;e--;n[e]=t-e);return n}(t,t-e+1)}function B(t,e){const n=e.length,i=(t%n+n)%n;return e.slice(i,n).concat(e.slice(0,i))}function U(t){return t.filter((t=>0===t||t))}function W(t){return t.map((t=>y(t))).filter((t=>!t.empty)).sort(((t,e)=>t.height-e.height)).map((t=>t.name))}function $(t){return W(t).filter(((t,e,n)=>0===e||t!==n[e-1]))}function H(t,e=Math.random){let n,i,s=t.length;for(;s;)n=Math.floor(e()*s--),i=t[s],t[s]=t[n],t[n]=i;return t}function G(t){return 0===t.length?[[]]:G(t.slice(1)).reduce(((e,n)=>e.concat(t.map(((e,i)=>{const s=n.slice();return s.splice(i,0,t[0]),s})))),[])}function Q(t,e){return t<e?function(t,e){const n=[];for(;e--;n[e]=e+t);return n}(t,e-t+1):function(t,e){const n=[];for(;e--;n[e]=t-e);return n}(t,t-e+1)}function K(t,e){const n=e.length,i=(t%n+n)%n;return e.slice(i,n).concat(e.slice(0,i))}function Y(t){return t.filter((t=>0===t||t))}const X={compact:Y,permutations:function t(e){return 0===e.length?[[]]:t(e.slice(1)).reduce(((t,n)=>t.concat(e.map(((t,i)=>{const s=n.slice();return s.splice(i,0,e[0]),s})))),[])},range:Q,rotate:K,shuffle:function(t,e=Math.random){let n,i,s=t.length;for(;s;)n=Math.floor(e()*s--),i=t[s],t[s]=t[n],t[n]=i;return t}},Z={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},J=t=>Number(t).toString(2),tt=t=>parseInt(t,2),et=/^[01]{12}$/;function nt(t){return et.test(t)}const it={[Z.chroma]:Z};function st(t){const e=nt(t)?t:"number"==typeof(n=t)&&n>=0&&n<=4095?J(t):Array.isArray(t)?function(t){if(0===t.length)return Z.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let i=0;i<t.length;i++)e=y(t[i]),e.empty&&(e=M(t[i])),e.empty||(n[e.chroma]=1);return n.join("")}(t):(t=>t&&nt(t.chroma))(t)?t.chroma:Z.chroma;var n;return it[e]=it[e]||function(t){const e=tt(t),n=function(t){const e=t.split("");return e.map(((t,n)=>K(n,e).join("")))}(t).map(tt).filter((t=>t>=2048)).sort()[0];return{empty:!1,name:"",setNum:e,chroma:t,normalized:J(n),intervals:at(t)}}(e)}const rt=o("Pcset.pcset","Pcset.get",st),ot=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function at(t){const e=[];for(let n=0;n<12;n++)"1"===t.charAt(n)&&e.push(ot[n]);return e}function lt(t,e=!0){const n=st(t).chroma.split("");return Y(n.map(((t,i)=>{const s=K(i,n);return e&&"0"===s[0]?null:s.join("")})))}function ct(t){const e=st(t).setNum;return t=>{const n=st(t).setNum;return e&&e!==n&&(n&e)===n}}function ut(t){const e=st(t).setNum;return t=>{const n=st(t).setNum;return e&&e!==n&&(n|e)===n}}function ht(t){const e=st(t);return t=>{const n=y(t);return e&&!n.empty&&"1"===e.chroma.charAt(n.chroma)}}const dt={get:st,chroma:t=>st(t).chroma,num:t=>st(t).setNum,intervals:t=>st(t).intervals,chromas:function(){return Q(2048,4095).map(J)},isSupersetOf:ut,isSubsetOf:ct,isNoteIncludedIn:ht,isEqual:function(t,e){return st(t).setNum===st(e).setNum},filter:function(t){const e=ht(t);return t=>t.filter(e)},modes:lt,pcset:rt},pt={...Z,name:"",quality:"Unknown",intervals:[],aliases:[]};let ft=[],mt={};function gt(t){return mt[t]||pt}const vt=o("ChordType.chordType","ChordType.get",gt);function _t(){return ft.slice()}const yt=o("ChordType.entries","ChordType.all",_t);function bt(t,e,n){const i=function(t){const e=e=>-1!==t.indexOf(e);return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}(t),s={...st(t),name:n||"",quality:i,intervals:t,aliases:e};ft.push(s),s.name&&(mt[s.name]=s),mt[s.setNum]=s,mt[s.chroma]=s,s.aliases.forEach((t=>function(t,e){mt[e]=t}(s,t)))}[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach((([t,e,n])=>bt(t.split(" "),n.split(" "),e))),ft.sort(((t,e)=>t.setNum-e.setNum));const wt={names:function(){return ft.map((t=>t.name)).filter((t=>t))},symbols:function(){return ft.map((t=>t.aliases[0])).filter((t=>t))},get:gt,all:_t,add:bt,removeAll:function(){ft=[],mt={}},keys:function(){return Object.keys(mt)},entries:yt,chordType:vt};const xt={...Z,intervals:[],aliases:[]};let kt=[],St={};function Tt(){return kt.map((t=>t.name))}function Ct(t){return St[t]||xt}const At=o("ScaleDictionary.scaleType","ScaleType.get",Ct);function Mt(){return kt.slice()}const Ot=o("ScaleDictionary.entries","ScaleType.all",Mt);function Et(t,e,n=[]){const i={...st(t),name:e,intervals:t,aliases:n};return kt.push(i),St[i.name]=i,St[i.setNum]=i,St[i.chroma]=i,i.aliases.forEach((t=>function(t,e){St[e]=t}(i,t))),i}[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 3m 4d 5d 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","·superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 5d 5P 6M 7m","romanian minor"],["1P 2M 3m 4A 5P 6M 7m","dorian #4"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach((([t,e,...n])=>Et(t.split(" "),e,n)));const Pt={names:Tt,get:Ct,all:Mt,add:Et,removeAll:function(){kt=[],St={}},keys:function(){return Object.keys(St)},entries:Ot,scaleType:At},Dt={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},Rt=/^(6|64|7|9|11|13)$/;function Nt(t){const[e,n,i,s]=w(t);return""===e?["",t]:"A"===e&&"ug"===s?["","aug"]:s||"4"!==i&&"5"!==i?Rt.test(i)?[e+n,i+s]:[e+n+i,s]:[e+n,i]}function It(t){if(""===t)return Dt;if(Array.isArray(t)&&2===t.length)return Ft(t[1],t[0]);{const[e,n]=Nt(t),i=Ft(n,e);return i.empty?Ft(t):i}}function Ft(t,e,n){const i=gt(t),s=y(e||""),r=y(n||"");if(i.empty||e&&s.empty||n&&r.empty)return Dt;const o=R(s.pc,r.pc),a=i.intervals.indexOf(o)+1;if(!r.empty&&!a)return Dt;const l=Array.from(i.intervals);for(let t=1;t<a;t++){const t=l[0][0],e=l[0][1],n=parseInt(t,10)+7;l.push(`${n}${e}`),l.shift()}const c=s.empty?[]:l.map((t=>D(s,t)));t=-1!==i.aliases.indexOf(t)?t:i.aliases[0];const u=`${s.empty?"":s.pc}${t}${r.empty||a<=1?"":"/"+r.pc}`,h=`${e?s.pc+" ":""}${i.name}${a>1&&n?" over "+r.pc:""}`;return{...i,name:h,symbol:u,type:i.name,root:r.name,intervals:l,rootDegree:a,tonic:s.name,notes:c}}var jt={getChord:Ft,get:It,detect:function(t){const e=t.map((t=>y(t).pc)).filter((t=>t));if(0===y.length)return[];const n=function(t,e){const n=t[0],i=y(n).chroma,s=(t=>{const e=t.reduce(((t,e)=>{const n=y(e).chroma;return void 0!==n&&(t[n]=t[n]||y(e).name),t}),{});return t=>e[t]})(t),r=lt(t,!1),o=[];return r.forEach(((t,e)=>{const r=_t().filter((e=>e.chroma===t));r.forEach((t=>{const r=t.aliases[0],a=s(e);e!==i?o.push({weight:.5,name:`${a}${r}/${n}`}):o.push({weight:1,name:`${a}${r}`})}))})),o}(e);return n.filter((t=>t.weight)).sort(((t,e)=>e.weight-t.weight)).map((t=>t.name))},chordScales:function(t){const e=ut(It(t).chroma);return Mt().filter((t=>e(t.chroma))).map((t=>t.name))},extended:function(t){const e=It(t),n=ut(e.chroma);return _t().filter((t=>n(t.chroma))).map((t=>e.tonic+t.aliases[0]))},reduced:function(t){const e=It(t),n=ct(e.chroma);return _t().filter((t=>n(t.chroma))).map((t=>e.tonic+t.aliases[0]))},tokenize:Nt,transpose:function(t,e){const[n,i]=Nt(t);return n?D(n,e)+i:t},chord:o("Chord.chord","Chord.get",It)};const qt=jt,Vt=[];[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach((([t,e,n])=>function(t,e,n){Vt.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:e,names:n})}(t,e,n)));const Lt={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]},zt=/^([^.]+)(\.*)$/;function Bt(t){const[e,n,i]=zt.exec(t)||[],s=Vt.find((t=>t.shorthand===n||t.names.includes(n)));if(!s)return Lt;const r=function(t,e){const n=Math.pow(2,e);let i=t[0]*n,s=t[1]*n;const r=i;for(let t=0;t<e;t++)i+=r/Math.pow(2,t+1);for(;i%2==0&&s%2==0;)i/=2,s/=2;return[i,s]}(s.fraction,i.length),o=r[0]/r[1];return{...s,name:t,dots:i,value:o,fraction:r}}const Ut={names:function(){return Vt.reduce(((t,e)=>(e.names.forEach((e=>t.push(e))),t)),[])},shorthands:function(){return Vt.map((t=>t.shorthand))},get:Bt,value:t=>Bt(t).value,fraction:t=>Bt(t).fraction},Wt=M;function $t(t){const e=M(t);return e.empty?"":e.simple+e.q}const Ht=[1,2,2,3,3,4,5,5,6,6,7,7],Gt="P m M m M P d P m M m M".split(" "),Qt=R,Kt=Zt(((t,e)=>[t[0]+e[0],t[1]+e[1]])),Yt=Zt(((t,e)=>[t[0]-e[0],t[1]-e[1]]));function Xt(t,e){const n=Wt(t);if(n.empty)return"";const[i,s,r]=n.coord;return P([i+e,s,r]).name}function Zt(t){return(e,n)=>{const i=M(e).coord,s=M(n).coord;if(i&&s)return P(t(i,s)).name}}const Jt={names:function(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")},get:Wt,name:t=>M(t).name,num:t=>M(t).num,semitones:t=>M(t).semitones,quality:t=>M(t).q,fromSemitones:function(t){const e=t<0?-1:1,n=Math.abs(t),i=n%12,s=Math.floor(n/12);return e*(Ht[i]+7*s)+Gt[i]},distance:Qt,invert:function(t){const e=M(t);return e.empty?"":M({step:(7-e.step)%7,alt:"perfectable"===e.type?-e.alt:-(e.alt+1),oct:e.oct,dir:e.dir}).name},simplify:$t,add:Kt,addTo:t=>e=>Kt(t,e),substract:Yt,transposeFifths:Xt};function te(t){return+t>=0&&+t<=127}function ee(t){if(te(t))return+t;const e=y(t);return e.empty?null:e.midi}const ne=Math.log(2),ie=Math.log(440);function se(t){const e=12*(Math.log(t)-ie)/ne+69;return Math.round(100*e)/100}const re="C C# D D# E F F# G G# A A# B".split(" "),oe="C Db D Eb E F Gb G Ab A Bb B".split(" ");function ae(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const n=(!0===e.sharps?re:oe)[t%12];return e.pitchClass?n:n+(Math.floor(t/12)-1)}const le={isMidi:te,toMidi:ee,midiToFreq:function(t,e=440){return Math.pow(2,(t-69)/12)*e},midiToNoteName:ae,freqToMidi:se},ce=["C","D","E","F","G","A","B"],ue=t=>t.name,he=t=>t.map(y).filter((t=>!t.empty)),de=y,pe=D,fe=D,me=t=>e=>pe(e,t),ge=me,ve=t=>e=>pe(t,e),_e=ve;function ye(t,e){const n=de(t);if(n.empty)return"";const[i,s]=n.coord;return x(void 0===s?[i+e]:[i+e,s]).name}const be=ye,we=(t,e)=>t.height-e.height;function xe(t,e){return e=e||we,he(t).sort(e).map(ue)}function ke(t){return xe(t,we).filter(((t,e,n)=>0===e||t!==n[e-1]))}const Se=Ce(!0),Te=Ce(!1);function Ce(t){return e=>{const n=de(e);if(n.empty)return"";const i=t?n.alt>0:n.alt<0,s=null===n.midi;return ae(n.midi||n.chroma,{sharps:i,pitchClass:s})}}var Ae={names:function(t){return void 0===t?ce.slice():Array.isArray(t)?he(t).map(ue):[]},get:de,name:t=>de(t).name,pitchClass:t=>de(t).pc,accidentals:t=>de(t).acc,octave:t=>de(t).oct,midi:t=>de(t).midi,ascending:we,descending:(t,e)=>e.height-t.height,sortedNames:xe,sortedUniqNames:ke,fromMidi:function(t){return ae(t)},fromMidiSharps:function(t){return ae(t,{sharps:!0})},freq:t=>de(t).freq,fromFreq:function(t){return ae(se(t))},fromFreqSharps:function(t){return ae(se(t),{sharps:!0})},chroma:t=>de(t).chroma,transpose:pe,tr:fe,transposeBy:me,trBy:ge,transposeFrom:ve,trFrom:_e,transposeFifths:ye,trFifths:be,simplify:Se,enharmonic:Te};const Me=Ae,Oe={empty:!0,name:"",chordType:""},Ee={};function Pe(t){return"string"==typeof t?Ee[t]||(Ee[t]=function(t){const[e,n,i,s]=(r=t,Re.exec(r)||["","","",""]);var r;if(!i)return Oe;const o=i.toUpperCase(),a=Ie.indexOf(o),l=_(n);return{empty:!1,name:e,roman:i,interval:M({step:a,alt:l,dir:1}).name,acc:n,chordType:s,alt:l,step:a,major:i===o,oct:0,dir:1}}(t)):"number"==typeof t?Pe(Ie[t]||""):l(t)?Pe(v((e=t).alt)+Ie[e.step]):a(t)?Pe(t.name):Oe;var e}const De=o("RomanNumeral.romanNumeral","RomanNumeral.get",Pe),Re=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/,Ne="I II III IV V VI VII",Ie=Ne.split(" "),Fe=Ne.toLowerCase().split(" "),je={names:function(t=!0){return(t?Ie:Fe).slice()},get:Pe,romanNumeral:De},qe=Object.freeze([]),Ve={type:"major",tonic:"",alteration:0,keySignature:""},Le={tonic:"",grades:qe,intervals:qe,scale:qe,chords:qe,chordsHarmonicFunction:qe,chordScales:qe},ze={...Ve,...Le,type:"major",minorRelative:"",scale:qe,secondaryDominants:qe,secondaryDominantsMinorRelative:qe,substituteDominants:qe,substituteDominantsMinorRelative:qe},Be={...Ve,type:"minor",relativeMajor:"",natural:Le,harmonic:Le,melodic:Le},Ue=(t,e,n="")=>e.map(((e,i)=>`${t[i]}${n}${e}`));function We(t,e,n,i){return s=>{const r=t.map((t=>Pe(t).interval||"")),o=r.map((t=>D(s,t)));return{tonic:s,grades:t,intervals:r,scale:o,chords:Ue(o,e),chordsHarmonicFunction:n.slice(),chordScales:Ue(o,i," ")}}}const $e=(t,e)=>{const n=y(t),i=y(e);return n.empty||i.empty?0:i.coord[0]-n.coord[0]},He=We("I II III IV V VI VII".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),Ge=We("I II bIII IV V bVI bVII".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),Qe=We("I II bIII IV V bVI VII".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),Ke=We("I II bIII IV V VI VII".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var Ye={majorKey:function(t){const e=y(t).pc;if(!e)return ze;const n=He(e),i=$e("C",e),s=e=>{const n=Pe(e);return n.empty?"":D(t,n.interval)+n.chordType};return{...n,type:"major",minorRelative:D(e,"-3m"),alteration:i,keySignature:v(i),secondaryDominants:"- VI7 VII7 I7 II7 III7 -".split(" ").map(s),secondaryDominantsMinorRelative:"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -".split(" ").map(s),substituteDominants:"- bIII7 IV7 bV7 bVI7 bVII7 -".split(" ").map(s),substituteDominantsMinorRelative:"- IIIm7 Im7 IIbm7 VIm7 IVm7 -".split(" ").map(s)}},majorTonicFromKeySignature:function(t){return"number"==typeof t?ye("C",t):"string"==typeof t&&/^b+|#+$/.test(t)?ye("C",_(t)):null},minorKey:function(t){const e=y(t).pc;if(!e)return Be;const n=$e("C",e)-3;return{type:"minor",tonic:e,relativeMajor:D(e,"3m"),alteration:n,keySignature:v(n),natural:Ge(e),harmonic:Qe(e),melodic:Ke(e)}}};const Xe=Ye,Ze=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Je={...Z,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},tn=Ze.map((function(t){const[e,n,i,s,r,o,a]=t,l=a?[a]:[],c=Number(n).toString(2);return{empty:!1,intervals:at(c),modeNum:e,chroma:c,normalized:c,name:s,setNum:n,alt:i,triad:r,seventh:o,aliases:l}})),en={};function nn(t){return"string"==typeof t?en[t.toLowerCase()]||Je:t&&t.name?nn(t.name):Je}tn.forEach((t=>{en[t.name]=t,t.aliases.forEach((e=>{en[e]=t}))}));const sn=o("Mode.mode","Mode.get",nn);function rn(){return tn.slice()}const on=o("Mode.mode","Mode.all",rn);function an(t){return(e,n)=>{const i=nn(e);if(i.empty)return[];const s=K(i.modeNum,t),r=i.intervals.map((t=>D(n,t)));return s.map(((t,e)=>r[e]+t))}}function ln(t,e){const n=nn(e),i=nn(t);return n.empty||i.empty?"":$t(Xt("1P",i.alt-n.alt))}const cn={get:nn,names:function(){return tn.map((t=>t.name))},all:rn,distance:ln,relativeTonic:function(t,e,n){return D(n,ln(t,e))},notes:function(t,e){return nn(t).intervals.map((t=>D(e,t)))},triads:an(Ze.map((t=>t[4]))),seventhChords:an(Ze.map((t=>t[5]))),entries:on,mode:sn};var un={fromRomanNumerals:function(t,e){return e.map(Pe).map((e=>D(t,M(e))+e.chordType))},toRomanNumerals:function(t,e){return e.map((e=>{const[n,i]=Nt(e);return Pe(M(R(t,n))).name+i}))}};const hn=un;function dn(t){const e=Y(t.map(ee));return t.length&&e.length===t.length?e.reduce(((t,e)=>{const n=t[t.length-1];return t.concat(Q(n,e).slice(1))}),[e[0]]):[]}const pn={numeric:dn,chromatic:function(t,e){return dn(t).map((t=>ae(t,e)))}},fn={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function mn(t){if("string"!=typeof t)return["",""];const e=t.indexOf(" "),n=y(t.substring(0,e));if(n.empty){const e=y(t);return e.empty?["",t]:[e.name,""]}const i=t.substring(n.name.length+1);return[n.name,i.length?i:""]}function gn(t){const e=Array.isArray(t)?t:mn(t),n=y(e[0]).name,i=Ct(e[1]);if(i.empty)return fn;const s=i.name,r=n?i.intervals.map((t=>D(n,t))):[],o=n?n+" "+s:s;return{...i,name:o,type:s,tonic:n,notes:r}}function vn(t){const e=t.map((t=>y(t).pc)).filter((t=>t)),n=e[0],i=ke(e);return K(i.indexOf(n),i)}const _n={get:gn,names:Tt,extended:function(t){const e=ut(gn(t).chroma);return Mt().filter((t=>e(t.chroma))).map((t=>t.name))},modeNames:function(t){const e=gn(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return lt(e.chroma).map(((t,e)=>{const i=gn(t).name;return i?[n[e],i]:["",""]})).filter((t=>t[0]))},reduced:function(t){const e=ct(gn(t).chroma);return Mt().filter((t=>e(t.chroma))).map((t=>t.name))},scaleChords:function(t){const e=ct(gn(t).chroma);return _t().filter((t=>e(t.chroma))).map((t=>t.aliases[0]))},scaleNotes:vn,tokenize:mn,rangeOf:function(t){const e=function(t){const e=Array.isArray(t)?vn(t):gn(t).notes,n=e.map((t=>y(t).chroma));return t=>{const i="number"==typeof t?t:y(t).height;if(void 0===i)return;const s=i%12,r=Math.floor(i/12)-1,o=n.indexOf(s);return-1!==o?e[o]+r:void 0}}(t);return(t,n)=>{const i=y(t).height,s=y(n).height;return void 0===i||void 0===s?[]:Q(i,s).map(e).filter((t=>t))}},scale:o("Scale.scale","Scale.get",gn)},yn={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},bn=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"],wn=/^(\d?\d(?:\+\d)*)\/(\d)$/,xn=new Map;function kn(t){if("string"==typeof t){const[e,n,i]=wn.exec(t)||[];return kn([n,i])}const[e,n]=t,i=+n;if("number"==typeof e)return[e,i];const s=e.split("+").map((t=>+t));return 1===s.length?[s[0],i]:[s,i]}const Sn={names:function(){return bn.slice()},parse:kn,get:function(t){const e=xn.get(t);if(e)return e;const n=function([t,e]){const n=Array.isArray(t)?t.reduce(((t,e)=>t+e),0):t,i=e;if(0===n||0===i)return yn;return{empty:!1,name:Array.isArray(t)?`${t.join("+")}/${e}`:`${t}/${e}`,type:4===i||2===i?"simple":8===i&&n%3==0?"compound":"irregular",upper:n,lower:i,additive:Array.isArray(t)?t:[]}}(kn(t));return xn.set(t,n),n}},Tn=i,Cn=dt,An=wt,Mn=Pt},382:function(t,e,n){!function(t,e,n,i){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=s(e),o=s(n),a=s(i),l=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},c=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},u=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var i=n.startTime,s=n.target,r=n.timeConstant;return s+(e-s)*Math.exp((i-t)/r)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},g=function(t){return"setValue"===t.type},v=function(t){return"setValueCurve"===t.type},_=function t(e,n,i,s){var r=e[n];return void 0===r?s:m(r)||g(r)?r.value:v(r)?r.values[r.values.length-1]:d(i,t(e,n-1,r.startTime,s),r)},y=function(t,e,n,i,s){return void 0===n?[i.insertTime,s]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:v(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,_(t,e-1,n.startTime,s)]},b=function(t){return"cancelAndHold"===t.type},w=function(t){return"cancelScheduledValues"===t.type},x=function(t){return b(t)||w(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},k=function(t,e,n,i){var s=i.endTime,r=i.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(s-e)):0},S=function(t,e,n,i){return n+(t-e)/(i.endTime-e)*(i.value-n)},T=function(t,e){var n=e.duration,i=e.startTime,s=e.values;return function(t,e){var n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]}(s,(t-i)/n*(s.length-1))},C=function(t){return"setTarget"===t.type},A=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(b(t)||w(t)){var n=this._automationEvents.findIndex((function(n){return w(t)&&v(n)?n.startTime+n.duration>=e:x(n)>=e})),i=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var s=this._automationEvents[this._automationEvents.length-1];if(void 0!==i&&m(i)){if(C(s))throw new Error("The internal list is malformed.");var r=v(s)?s.startTime+s.duration:x(s),o=v(s)?s.values[s.values.length-1]:s.value,a=p(i)?k(e,r,o,i):S(e,r,o,i),d=p(i)?l(a,e,this._currenTime):c(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==s&&C(s)&&this._automationEvents.push(u(this.getValue(e),e)),void 0!==s&&v(s)&&s.startTime+s.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),s.startTime,e-s.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return x(t)>e})),_=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==_&&v(_)&&x(_)+_.duration>e)return!1;var y=p(t)?l(t.value,t.endTime,this._currenTime):f(t)?c(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(y);else{if(v(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return x(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),i=n[0];C(i)&&n.unshift(u(_(this._automationEvents,e-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex((function(e){return x(e)>t})),i=this._automationEvents[n],s=x(e)<=t?e:this._automationEvents[n-1];if(void 0!==s&&C(s)&&(void 0===i||!m(i)||i.insertTime>t))return d(t,_(this._automationEvents,n-2,s.startTime,this._defaultValue),s);if(void 0!==s&&g(s)&&(void 0===i||!m(i)))return s.value;if(void 0!==s&&v(s)&&(void 0===i||!m(i)||s.startTime+s.duration>t))return t<s.startTime+s.duration?T(t,s):s.values[s.values.length-1];if(void 0!==s&&m(s)&&(void 0===i||!m(i)))return s.value;if(void 0!==i&&p(i)){var o=y(this._automationEvents,n-1,s,i,this._defaultValue),a=r.default(o,2),l=a[0],c=a[1];return k(t,l,c,i)}if(void 0!==i&&f(i)){var u=y(this._automationEvents,n-1,s,i,this._defaultValue),h=r.default(u,2),b=h[0],w=h[1];return S(t,b,w,i)}return this._defaultValue}}]),t}();t.AutomationEventList=A,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=u,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(38),n(575),n(913))},679:(t,e,n)=>{"use strict";var i=n(864),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return i.isMemo(t)?o:a[t.$$typeof]||s}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,i){if("string"!=typeof n){if(f){var s=p(n);s&&s!==f&&t(e,s,i)}var o=u(n);h&&(o=o.concat(h(n)));for(var a=l(e),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(r[v]||i&&i[v]||m&&m[v]||a&&a[v])){var _=d(n,v);try{c(e,v,_)}catch(t){}}}}return e}},826:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},540:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Observer:()=>A,clearTimers:()=>g,enableStaticRendering:()=>_,isObserverBatched:()=>a,isUsingStaticRendering:()=>y,observer:()=>T,observerBatching:()=>o,useAsObservableSource:()=>O,useLocalObservable:()=>M,useLocalStore:()=>E,useObserver:()=>P,useStaticRendering:()=>D});var i=n(935),s=n(949);function r(t){t()}function o(t){t||(t=r),(0,s.configure)({reactionScheduler:t})}var a=function(){return!0},l=n(294);function c(t){return(0,s.getDependencyTree)(t)}var u="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function h(t){return{reaction:t,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+d}}var d=1e4,p=u?function(t){var e=new Map,n=1,i=new t((function(t){var n=e.get(t);n&&(n.reaction.dispose(),e.delete(t))}));return{addReactionToTrack:function(t,s,r){var o=n++;return i.register(r,o,t),t.current=h(s),t.current.finalizationRegistryCleanupToken=o,e.set(o,t.current),t.current},recordReactionAsCommitted:function(t){i.unregister(t),t.current&&t.current.finalizationRegistryCleanupToken&&e.delete(t.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(u):function(){var t,e=new Set;function n(){void 0===t&&(t=setTimeout(i,1e4))}function i(){t=void 0;var i=Date.now();e.forEach((function(t){var n=t.current;n&&i>=n.cleanAt&&(n.reaction.dispose(),t.current=null,e.delete(t))})),e.size>0&&n()}return{addReactionToTrack:function(t,i,s){var r;return t.current=h(i),r=t,e.add(r),n(),t.current},recordReactionAsCommitted:function(t){e.delete(t)},forceCleanupTimerToRunNowForTests:function(){t&&(clearTimeout(t),i())},resetCleanupScheduleForTests:function(){var n,i;if(e.size>0){try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r=s.next();!r.done;r=s.next()){var o=r.value,a=o.current;a&&(a.reaction.dispose(),o.current=null)}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}}}(),f=p.addReactionToTrack,m=p.recordReactionAsCommitted,g=p.resetCleanupScheduleForTests,v=(p.forceCleanupTimerToRunNowForTests,!1);function _(t){v=t}function y(){return v}var b=[];function w(t){return"observer"+t}var x=function(){};function k(t,e){if(void 0===e&&(e="observed"),y())return t();var n,i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){s={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}(l.useState(new x),1)[0],r=(n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){s={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}((0,l.useState)(0),2)[1],(0,l.useCallback)((function(){n((function(t){return t+1}))}),b)),o=l.useRef(null);if(!o.current)var a=new s.Reaction(w(e),(function(){u.mounted?r():u.changedBeforeMount=!0})),u=f(o,a,i);var h,d,p=o.current.reaction;if(l.useDebugValue(p,c),l.useEffect((function(){return m(o),o.current?(o.current.mounted=!0,o.current.changedBeforeMount&&(o.current.changedBeforeMount=!1,r())):(o.current={reaction:new s.Reaction(w(e),(function(){r()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},r()),function(){o.current.reaction.dispose(),o.current=null}}),[]),p.track((function(){try{h=t()}catch(t){d=t}})),d)throw d;return h}var S=function(){return S=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},S.apply(this,arguments)};function T(t,e){if(y())return t;var n,i,s,r=S({forwardRef:!1},e),o=t.displayName||t.name,a=function(e,n){return k((function(){return t(e,n)}),o)};return a.displayName=o,n=r.forwardRef?(0,l.memo)((0,l.forwardRef)(a)):(0,l.memo)(a),i=t,s=n,Object.keys(i).forEach((function(t){C[t]||Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(i,t))})),n.displayName=o,n}var C={$$typeof:!0,render:!0,compare:!0,type:!0};function A(t){var e=t.children,n=t.render,i=e||n;return"function"!=typeof i?null:k(i)}function M(t,e){return(0,l.useState)((function(){return(0,s.observable)(t(),e,{autoBind:!0})}))[0]}A.displayName="Observer";function O(t){var e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){s={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}((0,l.useState)((function(){return(0,s.observable)(t,{},{deep:!1})})),1)[0];return(0,s.runInAction)((function(){Object.assign(e,t)})),e}function E(t,e){var n=e&&O(e);return(0,l.useState)((function(){return(0,s.observable)(t(n),void 0,{autoBind:!0})}))[0]}function P(t,e){return void 0===e&&(e="observed"),k(t,e)}function D(t){_(t)}o(i.unstable_batchedUpdates)},949:(t,e,n)=>{"use strict";function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(n.length?" "+n.join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/mobx6/src/errors.ts":"[MobX] "+t)}n.r(e),n.d(e,{$mobx:()=>L,FlowCancellationError:()=>Ve,ObservableMap:()=>Kn,ObservableSet:()=>Zn,Reaction:()=>ae,_allowStateChanges:()=>yt,_allowStateChangesInsideComputed:()=>xe,_allowStateReadsEnd:()=>Ht,_allowStateReadsStart:()=>$t,_autoAction:()=>we,_endAction:()=>_t,_getAdministration:()=>gi,_getGlobalState:()=>Jt,_interceptReads:()=>We,_isComputingDerivation:()=>Vt,_resetGlobalState:()=>te,_startAction:()=>vt,action:()=>be,autorun:()=>Se,comparer:()=>$,computed:()=>ct,configure:()=>De,createAtom:()=>U,entries:()=>tn,extendObservable:()=>Re,flow:()=>ze,flowResult:()=>Ue,get:()=>rn,getAtom:()=>mi,getDebugName:()=>vi,getDependencyTree:()=>Ne,getObserverTree:()=>Fe,has:()=>sn,intercept:()=>$e,isAction:()=>ke,isBoxedObservable:()=>Pt,isComputed:()=>Ge,isComputedProp:()=>Qe,isFlowCancellationError:()=>Le,isObservable:()=>Ye,isObservableArray:()=>Un,isObservableMap:()=>Yn,isObservableObject:()=>oi,isObservableProp:()=>Xe,isObservableSet:()=>Jn,keys:()=>Ze,makeAutoObservable:()=>On,makeObservable:()=>Mn,observable:()=>ot,observe:()=>on,onBecomeObserved:()=>Me,onBecomeUnobserved:()=>Oe,onReactionError:()=>le,reaction:()=>Ae,remove:()=>nn,runInAction:()=>xe,set:()=>en,spy:()=>pe,toJS:()=>cn,trace:()=>un,transaction:()=>dn,untracked:()=>Bt,values:()=>Je,when:()=>pn});var s={};function r(){return"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:s}var o=Object.assign,a=Object.getOwnPropertyDescriptor,l=Object.defineProperty,c=Object.prototype,u=[];Object.freeze(u);var h={};Object.freeze(h);var d="undefined"!=typeof Proxy,p=Object.toString();function f(){d||i("Proxy not available")}function m(){return++Zt.mobxGuid}function g(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var v=function(){};function _(t){return"function"==typeof t}function y(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function b(t){return null!==t&&"object"==typeof t}function w(t){var e;if(!b(t))return!1;var n=Object.getPrototypeOf(t);return null==n||(null==(e=n.constructor)?void 0:e.toString())===p}function x(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function k(t,e,n){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function S(t,e,n){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function T(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return b(t)&&!0===t[n]}}function C(t){return t instanceof Map}function A(t){return t instanceof Set}var M=void 0!==Object.getOwnPropertySymbols;function O(t){var e=Object.keys(t);if(!M)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter((function(e){return c.propertyIsEnumerable.call(t,e)}))):e}var E="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:M?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function P(t){return"string"==typeof t?t:"symbol"==typeof t?t.toString():new String(t).toString()}function D(t){return null===t?null:"object"==typeof t?""+t:t}function R(t,e){return c.hasOwnProperty.call(t,e)}var N=Object.getOwnPropertyDescriptors||function(t){var e={};return E(t).forEach((function(n){e[n]=a(t,n)})),e},I=Symbol("mobx-decorators"),F=Symbol("mobx-applied-decorators");function j(t){return o((function(e,n){void 0===n?q(t,e):V(e,n,t)}),{annotationType_:t})}function q(t,e){return o((function(n,i){V(n,i,t,e)}),{annotationType_:t,arg_:e})}function V(t,e,n,i){var s,r=a(t,I);r?s=r.value:k(t,I,s={}),s[e]={annotationType_:n,arg_:i}}var L=Symbol("mobx administration"),z=function(){function t(t){void 0===t&&(t="Atom@"+m()),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Dt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.reportObserved=function(){return oe(this)},e.reportChanged=function(){se(),function(t){t.lowestObserverState_!==Dt.STALE_&&(t.lowestObserverState_=Dt.STALE_,t.observers_.forEach((function(t){t.dependenciesState_===Dt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Dt.STALE_})))}(this),re()},e.toString=function(){return this.name_},t}(),B=T("Atom",z);function U(t,e,n){void 0===e&&(e=v),void 0===n&&(n=v);var i=new z(t);return e!==v&&Me(i,e),n!==v&&Oe(i,n),i}var W,$={identity:function(t,e){return t===e},structural:function(t,e){return yi(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return yi(t,e,1)}};function H(t,e,n){return Ye(t)?t:Array.isArray(t)?ot.array(t,{name:n}):w(t)?ot.object(t,void 0,{name:n}):C(t)?ot.map(t,{name:n}):A(t)?ot.set(t,{name:n}):t}function G(t){return t}var Q="observable",K="observable.ref",Y="observable.shallow",X="observable.struct",Z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function J(t){return t||Z}function tt(t){return!0===t.deep?H:!1===t.deep?G:nt(t.defaultDecorator)}Object.freeze(Z);var et=((W={}).observable=H,W[K]=G,W[Y]=function(t,e,n){return null==t||oi(t)||Un(t)||Yn(t)||Jn(t)?t:Array.isArray(t)?ot.array(t,{name:n,deep:!1}):w(t)?ot.object(t,void 0,{name:n,deep:!1}):C(t)?ot.map(t,{name:n,deep:!1}):A(t)?ot.set(t,{name:n,deep:!1}):void 0},W[X]=function(t,e){return yi(t,e)?e:t},W);function nt(t){var e;return t?null!=(e=et[t.annotationType_])?e:i(12):H}function it(t,e,n){if(!y(e)){if(Ye(t))return t;var i=w(t)?ot.object(t,e,n):Array.isArray(t)?ot.array(t,e):C(t)?ot.map(t,e):A(t)?ot.set(t,e):t;return i!==t?i:ot.box(t)}V(t,e,Q)}it.annotationType_=Q;var st,rt,ot=o(it,{box:function(t,e){var n=J(e);return new Et(t,tt(n),n.name,!0,n.equals)},array:function(t,e){var n=J(e);return(!1===Zt.useProxies||!1===n.proxy?fi:Nn)(t,tt(n),n.name)},map:function(t,e){var n=J(e);return new Kn(t,tt(n),n.name)},set:function(t,e){var n=J(e);return new Zn(t,tt(n),n.name)},object:function(t,e,n){var i=J(n),s={};return ni(s,null==n?void 0:n.name,tt(i)),Re(!1===Zt.useProxies||!1===i.proxy?s:function(t){f();var e=new Proxy(t,vn);return t[L].proxy_=e,e}(s),t,e,n)},ref:j(K),shallow:j(Y),deep:j(Q),struct:j(X)}),at="computed",lt="computed.struct",ct=function(t,e,n){if(y(e))return V(t,e,at);if(w(t))return q(at,t);var i=w(e)?e:{};return i.get=t,i.name=i.name||t.name||"",new Nt(i)};ct.annotationType_=at,ct.struct=o((function(t,e){V(t,e,lt)}),{annotationType_:lt});var ut,ht=0,dt=1,pt=null!=(st=null==(rt=a((function(){}),"name"))?void 0:rt.configurable)&&st,ft={value:"action",configurable:!0,writable:!1,enumerable:!1};function mt(t,e,n,i){function s(){return gt(t,n,e,i||this,arguments)}return void 0===n&&(n=!1),s.isMobxAction=!0,pt&&(ft.value=t,Object.defineProperty(s,"name",ft)),s}function gt(t,e,n,i,s){var r=vt(0,e);try{return n.apply(i,s)}catch(t){throw r.error_=t,t}finally{_t(r)}}function vt(t,e,n,i){var s=Zt.trackingDerivation,r=!e||!s;se();var o=Zt.allowStateChanges;r&&(Ut(),o=bt(!0));var a={runAsAction_:r,prevDerivation_:s,prevAllowStateChanges_:o,prevAllowStateReads_:$t(!0),notifySpy_:!1,startTime_:0,actionId_:dt++,parentActionId_:ht};return ht=a.actionId_,a}function _t(t){ht!==t.actionId_&&i(30),ht=t.parentActionId_,void 0!==t.error_&&(Zt.suppressReactionErrors=!0),wt(t.prevAllowStateChanges_),Ht(t.prevAllowStateReads_),re(),t.runAsAction_&&Wt(t.prevDerivation_),Zt.suppressReactionErrors=!1}function yt(t,e){var n=bt(t);try{return e()}finally{wt(n)}}function bt(t){var e=Zt.allowStateChanges;return Zt.allowStateChanges=t,e}function wt(t){Zt.allowStateChanges=t}function xt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kt(t,e,n){return e&&xt(t.prototype,e),n&&xt(t,n),t}function St(){return St=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},St.apply(this,arguments)}function Tt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Mt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}ut=Symbol.toPrimitive;var Ot,Et=function(t){function e(e,n,i,s,r){var o;return void 0===i&&(i="ObservableValue@"+m()),void 0===s&&(s=!0),void 0===r&&(r=$.default),(o=t.call(this,i)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=i,o.equals=r,o.value_=n(e,void 0,i),o}Tt(e,t);var n=e.prototype;return n.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function(t){this.value_,(t=this.prepareNewValue_(t))!==Zt.UNCHANGED&&this.setNewValue_(t)},n.prepareNewValue_=function(t){if(_n(this)){var e=bn(this,{object:this,type:Pn,newValue:t});if(!e)return Zt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Zt.UNCHANGED:t},n.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),wn(this)&&kn(this,{type:Pn,object:this,newValue:t,oldValue:e})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(t){return yn(this,t)},n.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Pn,newValue:this.value_,oldValue:void 0}),xn(this,t)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return D(this.get())},n[ut]=function(){return this.valueOf()},e}(z),Pt=T("ObservableValue",Et);Ot=Symbol.toPrimitive;var Dt,Rt,Nt=function(){function t(t){this.dependenciesState_=Dt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Dt.UP_TO_DATE_,this.unboundDepsCount_=0,this.mapid_="#"+m(),this.value_=new Ft(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Rt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||i(31),this.derivation=t.get,this.name_=t.name||"ComputedValue@"+m(),t.set&&(this.setter_=mt(this.name_+"-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?$.structural:$.default),this.scope_=t.context,this.requiresReaction_=!!t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){!function(t){t.lowestObserverState_===Dt.UP_TO_DATE_&&(t.lowestObserverState_=Dt.POSSIBLY_STALE_,t.observers_.forEach((function(t){t.dependenciesState_===Dt.UP_TO_DATE_&&(t.dependenciesState_=Dt.POSSIBLY_STALE_,t.onBecomeStale_())})))}(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==Zt.inBatch||0!==this.observers_.size||this.keepAlive_){if(oe(this),qt(this)){var t=Zt.trackingContext;this.keepAlive_&&!t&&(Zt.trackingContext=this),this.trackAndCompute()&&function(t){t.lowestObserverState_!==Dt.STALE_&&(t.lowestObserverState_=Dt.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===Dt.POSSIBLY_STALE_?e.dependenciesState_=Dt.STALE_:e.dependenciesState_===Dt.UP_TO_DATE_&&(t.lowestObserverState_=Dt.UP_TO_DATE_)})))}(this),Zt.trackingContext=t}}else qt(this)&&(this.warnAboutUntrackedRead_(),se(),this.value_=this.computeValue_(!1),re());var e=this.value_;if(jt(e))throw e.cause;return e},e.set=function(t){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},e.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===Dt.NOT_TRACKING_,n=this.computeValue_(!0),i=e||jt(t)||jt(n)||!this.equals_(t,n);return i&&(this.value_=n),i},e.computeValue_=function(t){this.isComputing_=!0;var e,n=bt(!1);if(t)e=Lt(this,this.derivation,this.scope_);else if(!0===Zt.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(t){e=new Ft(t)}return wt(n),this.isComputing_=!1,e},e.suspend_=function(){this.keepAlive_||(zt(this),this.value_=void 0)},e.observe_=function(t,e){var n=this,i=!0,s=void 0;return Se((function(){var r=n.get();if(!i||e){var o=Ut();t({observableKind:"computed",debugObjectName:n.name_,type:Pn,object:n,newValue:r,oldValue:s}),Wt(o)}i=!1,s=r}))},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return D(this.get())},e[Ot]=function(){return this.valueOf()},t}(),It=T("ComputedValue",Nt);!function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"}(Dt||(Dt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Rt||(Rt={}));var Ft=function(t){this.cause=void 0,this.cause=t};function jt(t){return t instanceof Ft}function qt(t){switch(t.dependenciesState_){case Dt.UP_TO_DATE_:return!1;case Dt.NOT_TRACKING_:case Dt.STALE_:return!0;case Dt.POSSIBLY_STALE_:for(var e=$t(!0),n=Ut(),i=t.observing_,s=i.length,r=0;r<s;r++){var o=i[r];if(It(o)){if(Zt.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return Wt(n),Ht(e),!0}if(t.dependenciesState_===Dt.STALE_)return Wt(n),Ht(e),!0}}return Gt(t),Wt(n),Ht(e),!1}}function Vt(){return null!==Zt.trackingDerivation}function Lt(t,e,n){var i=$t(!0);Gt(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Zt.runId;var s,r=Zt.trackingDerivation;if(Zt.trackingDerivation=t,Zt.inBatch++,!0===Zt.disableErrorBoundaries)s=e.call(n);else try{s=e.call(n)}catch(t){s=new Ft(t)}return Zt.inBatch--,Zt.trackingDerivation=r,function(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Dt.UP_TO_DATE_,s=0,r=t.unboundDepsCount_,o=0;o<r;o++){var a=n[o];0===a.diffValue_&&(a.diffValue_=1,s!==o&&(n[s]=a),s++),a.dependenciesState_>i&&(i=a.dependenciesState_)}for(n.length=s,t.newObserving_=null,r=e.length;r--;){var l=e[r];0===l.diffValue_&&ne(l,t),l.diffValue_=0}for(;s--;){var c=n[s];1===c.diffValue_&&(c.diffValue_=0,ee(c,t))}i!==Dt.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}(t),Ht(i),s}function zt(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ne(e[n],t);t.dependenciesState_=Dt.NOT_TRACKING_}function Bt(t){var e=Ut();try{return t()}finally{Wt(e)}}function Ut(){var t=Zt.trackingDerivation;return Zt.trackingDerivation=null,t}function Wt(t){Zt.trackingDerivation=t}function $t(t){var e=Zt.allowStateReads;return Zt.allowStateReads=t,e}function Ht(t){Zt.allowStateReads=t}function Gt(t){if(t.dependenciesState_!==Dt.UP_TO_DATE_){t.dependenciesState_=Dt.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Dt.UP_TO_DATE_}}var Qt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Kt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1},Yt=!0,Xt=!1,Zt=function(){var t=r();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Yt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Kt).version&&(Yt=!1),Yt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Kt):(setTimeout((function(){Xt||i(35)}),1),new Kt)}();function Jt(){return Zt}function te(){var t=new Kt;for(var e in t)-1===Qt.indexOf(e)&&(Zt[e]=t[e]);Zt.allowStateChanges=!Zt.enforceActions}function ee(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ne(t,e){t.observers_.delete(e),0===t.observers_.size&&ie(t)}function ie(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,Zt.pendingUnobservations.push(t))}function se(){Zt.inBatch++}function re(){if(0==--Zt.inBatch){ue();for(var t=Zt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Nt&&n.suspend_())}Zt.pendingUnobservations=[]}}function oe(t){var e=Zt.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Zt.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&Zt.inBatch>0&&ie(t),!1)}var ae=function(){function t(t,e,n,i){void 0===t&&(t="Reaction@"+m()),void 0===i&&(i=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Dt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.mapid_="#"+m(),this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Rt.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=n,this.requiresObservable_=i}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Zt.pendingReactions.push(this),ue())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){if(se(),this.isScheduled_=!1,qt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}re()}},e.track=function(t){if(!this.isDisposed_){se(),this.isRunning_=!0;var e=Zt.trackingContext;Zt.trackingContext=this;var n=Lt(this,t,void 0);Zt.trackingContext=e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&zt(this),jt(n)&&this.reportExceptionInDerivation_(n.cause),re()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Zt.disableErrorBoundaries)throw t;var n="[mobx] uncaught error in '"+this+"'";Zt.suppressReactionErrors||console.error(n,t),Zt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(se(),zt(this),re()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[L]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),un(this,t)},t}();function le(t){return Zt.globalReactionErrorHandlers.push(t),function(){var e=Zt.globalReactionErrorHandlers.indexOf(t);e>=0&&Zt.globalReactionErrorHandlers.splice(e,1)}}var ce=function(t){return t()};function ue(){Zt.inBatch>0||Zt.isRunningReactions||ce(he)}function he(){Zt.isRunningReactions=!0;for(var t=Zt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,s=n.length;i<s;i++)n[i].runReaction_()}Zt.isRunningReactions=!1}var de=T("Reaction",ae);function pe(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fe="action",me="action.bound",ge="autoAction",ve="autoAction.bound",_e="<unnamed action>";function ye(t,e){var n=function(n,i){return _(n)?mt(n.name||_e,n,t):_(i)?mt(n,i,t):y(i)?V(n,i,e):y(n)?q(e,n):void 0};return n.annotationType_=e,n}var be=ye(!1,fe),we=ye(!0,ge);function xe(t){return gt(t.name,!1,t,this,void 0)}function ke(t){return _(t)&&!0===t.isMobxAction}function Se(t,e){void 0===e&&(e=h);var n,i=e&&e.name||t.name||"Autorun@"+m();if(e.scheduler||e.delay){var s=Ce(e),r=!1;n=new ae(i,(function(){r||(r=!0,s((function(){r=!1,n.isDisposed_||n.track(o)})))}),e.onError,e.requiresObservable)}else n=new ae(i,(function(){this.track(o)}),e.onError,e.requiresObservable);function o(){t(n)}return n.schedule_(),n.getDisposer_()}be.bound=j(me),we.bound=j(ve);var Te=function(t){return t()};function Ce(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Te}function Ae(t,e,n){void 0===n&&(n=h);var i,s,r,o=n.name||"Reaction@"+m(),a=be(o,n.onError?(i=n.onError,s=e,function(){try{return s.apply(this,arguments)}catch(t){i.call(this,t)}}):e),l=!n.scheduler&&!n.delay,c=Ce(n),u=!0,d=!1,p=void 0,f=n.compareStructural?$.structural:n.equals||$.default,g=new ae(o,(function(){u||l?v():d||(d=!0,c(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!g.isDisposed_){var e=!1;g.track((function(){var n=yt(!1,(function(){return t(g)}));e=u||!f(r,n),p=r,r=n})),(u&&n.fireImmediately||!u&&e)&&a(r,p,g),u=!1}}return g.schedule_(),g.getDisposer_()}function Me(t,e,n){return Ee("onBO",t,e,n)}function Oe(t,e,n){return Ee("onBUO",t,e,n)}function Ee(t,e,n,i){var s="function"==typeof i?mi(e,n):mi(e),r=_(i)?i:n,o=t+"L";return s[o]?s[o].add(r):s[o]=new Set([r]),function(){var t=s[o];t&&(t.delete(r),0===t.size&&delete s[o])}}var Pe="always";function De(t){!0===t.isolateGlobalState&&function(){if((Zt.pendingReactions.length||Zt.inBatch||Zt.isRunningReactions)&&i(36),Xt=!0,Yt){var t=r();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),Zt=new Kt}}();var e,n,s=t.useProxies,o=t.enforceActions;if(void 0!==s&&(Zt.useProxies=s===Pe||"never"!==s&&"undefined"!=typeof Proxy),"ifavailable"===s&&(Zt.verifyProxies=!0),void 0!==o){var a=o===Pe?Pe:"observed"===o;Zt.enforceActions=a,Zt.allowStateChanges=!0!==a&&a!==Pe}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries"].forEach((function(e){e in t&&(Zt[e]=!!t[e])})),Zt.allowStateReads=!Zt.observableRequiresReaction,t.reactionScheduler&&(e=t.reactionScheduler,n=ce,ce=function(t){return e((function(){return n(t)}))})}function Re(t,e,n,i){var s=J(i),r=ni(t,s.name,tt(s));se();try{var o=N(e);O(o).forEach((function(e){An(r,t,e,o[e],!n||!(e in n)||n[e],!0,!!(null==i?void 0:i.autoBind))}))}finally{re()}return t}function Ne(t,e){return Ie(mi(t,e))}function Ie(t){var e,n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=(e=t.observing_,Array.from(new Set(e))).map(Ie)),n}function Fe(t,e){return je(mi(t,e))}function je(t){var e={name:t.name_};return function(t){return t.observers_&&t.observers_.size>0}(t)&&(e.observers=Array.from(function(t){return t.observers_}(t)).map(je)),e}var qe=0;function Ve(){this.message="FLOW_CANCELLED"}function Le(t){return t instanceof Ve}Ve.prototype=Object.create(Error.prototype);var ze=Object.assign((function(t,e){if(y(e))return V(t,e,"flow");var n=t,i=n.name||"<unnamed flow>",s=function(){var t,e=this,s=arguments,r=++qe,o=be(i+" - runid: "+r+" - init",n).apply(e,s),a=void 0,l=new Promise((function(e,n){var s=0;function l(t){var e;a=void 0;try{e=be(i+" - runid: "+r+" - yield "+s++,o.next).call(o,t)}catch(t){return n(t)}u(e)}function c(t){var e;a=void 0;try{e=be(i+" - runid: "+r+" - yield "+s++,o.throw).call(o,t)}catch(t){return n(t)}u(e)}function u(t){if(!_(null==t?void 0:t.then))return t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,c);t.then(u,n)}t=n,l(void 0)}));return l.cancel=be(i+" - runid: "+r+" - cancel",(function(){try{a&&Be(a);var e=o.return(void 0),n=Promise.resolve(e.value);n.then(v,v),Be(n),t(new Ve)}catch(e){t(e)}})),l};return s.isMobXFlow=!0,s}),{annotationType_:"flow"});function Be(t){_(t.cancel)&&t.cancel()}function Ue(t){return t}function We(t,e,n){var i;return Yn(t)||Un(t)||Pt(t)?i=gi(t):oi(t)&&(i=gi(t,e)),i.dehancer="function"==typeof e?e:n,function(){i.dehancer=void 0}}function $e(t,e,n){return _(n)?function(t,e,n){return gi(t,e).intercept_(n)}(t,e,n):function(t,e){return gi(t).intercept_(e)}(t,e)}function He(t,e){if(void 0!==e){if(!1===oi(t))return!1;if(!t[L].values_.has(e))return!1;var n=mi(t,e);return It(n)}return It(t)}function Ge(t){return He(t)}function Qe(t,e){return He(t,e)}function Ke(t,e){return!!t&&(void 0!==e?!!oi(t)&&t[L].values_.has(e):oi(t)||!!t[L]||B(t)||de(t)||It(t))}function Ye(t){return Ke(t)}function Xe(t,e){return Ke(t,e)}function Ze(t){return oi(t)?t[L].getKeys_():Yn(t)||Jn(t)?Array.from(t.keys()):Un(t)?t.map((function(t,e){return e})):void i(5)}function Je(t){return oi(t)?Ze(t).map((function(e){return t[e]})):Yn(t)?Ze(t).map((function(e){return t.get(e)})):Jn(t)?Array.from(t.values()):Un(t)?t.slice():void i(6)}function tn(t){return oi(t)?Ze(t).map((function(e){return[e,t[e]]})):Yn(t)?Ze(t).map((function(e){return[e,t.get(e)]})):Jn(t)?Array.from(t.entries()):Un(t)?t.map((function(t,e){return[e,t]})):void i(7)}function en(t,e,n){if(2!==arguments.length||Jn(t))if(oi(t)){var s=t[L],r=s.values_.get(e);r?s.write_(e,n):s.addObservableProp_(e,n,s.defaultEnhancer_)}else Yn(t)?t.set(e,n):Jn(t)?t.add(e):Un(t)?("number"!=typeof e&&(e=parseInt(e,10)),e<0&&i("Invalid index: '"+e+"'"),se(),e>=t.length&&(t.length=e+1),t[e]=n,re()):i(8);else{se();var o=e;try{for(var a in o)en(t,a,o[a])}finally{re()}}}function nn(t,e){oi(t)?t[L].remove_(e):Yn(t)||Jn(t)?t.delete(e):Un(t)?("number"!=typeof e&&(e=parseInt(e,10)),t.splice(e,1)):i(9)}function sn(t,e){return oi(t)?gi(t).has_(e):Yn(t)||Jn(t)?t.has(e):Un(t)?e>=0&&e<t.length:void i(10)}function rn(t,e){if(sn(t,e))return oi(t)?t[e]:Yn(t)?t.get(e):Un(t)?t[e]:void i(11)}function on(t,e,n,i){return _(n)?function(t,e,n,i){return gi(t,e).observe_(n,i)}(t,e,n,i):function(t,e,n){return gi(t).observe_(e,n)}(t,e,n)}function an(t,e,n){return t.set(e,n),n}function ln(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!Ye(t))return t;if(Pt(t))return ln(t.get(),e);if(e.has(t))return e.get(t);if(Un(t)){var n=an(e,t,new Array(t.length));return t.forEach((function(t,i){n[i]=ln(t,e)})),n}if(Jn(t)){var i=an(e,t,new Set);return t.forEach((function(t){i.add(ln(t,e))})),i}if(Yn(t)){var s=an(e,t,new Map);return t.forEach((function(t,n){s.set(n,ln(t,e))})),s}Ze(t);var r=an(e,t,{});return O(t).forEach((function(n){r[n]=ln(t[n],e)})),r}function cn(t,e){return ln(t,new Map)}function un(){i("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];"boolean"==typeof n[n.length-1]&&(t=n.pop());var r=hn(n);if(!r)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing_===Rt.NONE&&console.log("[mobx.trace] '"+r.name_+"' tracing enabled"),r.isTracing_=t?Rt.BREAK:Rt.LOG}function hn(t){switch(t.length){case 0:return Zt.trackingDerivation;case 1:return mi(t[0]);case 2:return mi(t[0],t[1])}}function dn(t,e){void 0===e&&(e=void 0),se();try{return t.apply(e)}finally{re()}}function pn(t,e,n){return 1===arguments.length||e&&"object"==typeof e?mn(t,e):fn(t,e,n||{})}function fn(t,e,n){var i;"number"==typeof n.timeout&&(i=setTimeout((function(){if(!r[L].isDisposed_){r();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+m();var s=mt(n.name+"-effect",e),r=Se((function(e){yt(!1,t)&&(e.dispose(),i&&clearTimeout(i),s())}),n);return r}function mn(t,e){var n,i=new Promise((function(i,s){var r=fn(t,i,St({},e,{onError:s}));n=function(){r(),s("WHEN_CANCELLED")}}));return i.cancel=n,i}function gn(t){return t[L]}var vn={has:function(t,e){if(e===L||"constructor"===e)return!0;var n=gn(t);return y(e)?n.has_(e):e in t},get:function(t,e){if(e===L||"constructor"===e)return t[e];var n=gn(t),i=n.values_.get(e);if(i instanceof z){var s=i.get();return void 0===s&&n.has_(e),s}return y(e)&&n.has_(e),t[e]},set:function(t,e,n){return!!y(e)&&(en(t,e,n),!0)},deleteProperty:function(t,e){return!!y(e)&&(gn(t).remove_(e),!0)},ownKeys:function(t){return gn(t).keysAtom_.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){i(13)}};function _n(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function yn(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),g((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function bn(t,e){var n=Ut();try{for(var s=[].concat(t.interceptors_||[]),r=0,o=s.length;r<o&&((e=s[r](e))&&!e.type&&i(14),e);r++);return e}finally{Wt(n)}}function wn(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function xn(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),g((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function kn(t,e){var n=Ut(),i=t.changeListeners_;if(i){for(var s=0,r=(i=i.slice()).length;s<r;s++)i[s](e);Wt(n)}}var Sn=Symbol("mobx-cached-annotations");function Tn(t,e,n,i,s){k(t,e,s?we(n||e,i):be(n||e,i))}function Cn(t,e,n){return t.get?ct:!t.set&&(_(t.value)?x(t.value)?ze:!ke(t.value)&&(n?we.bound:we):null!=e?e:ot.deep)}function An(t,e,n,s,r,o,a){var c=t.target_,u=r;if(!0===r&&(r=Cn(s,ot,a)),!1!==r){if(!r||!0===r||!r.annotationType_)return i(2,n);var h=r.annotationType_;switch(h){case ge:case fe:var d=s.value;_(d)||i(3,n),e===c||o?Tn(c,n,r.arg_,d,h===ge):ke(e[n])||Tn(e,n,r.arg_,d,h===ge);break;case ve:case me:var p=s.value;_(p)||i(3,n),Tn(c,n,r.arg_,p.bind(t.proxy_||c),h===ve);break;case"flow":e===c||o?k(c,n,ze(s.value)):function(t){return!0===(null==t?void 0:t.isMobXFlow)}(e[n])||k(e,n,ze(s.value));break;case at:case lt:s.get||i(4,n),t.addComputedProp_(c,n,St({get:s.get,set:s.set,compareStructural:r.annotationType_===lt},r.arg_));break;case Q:case K:case Y:case X:var f=!0===u?t.defaultEnhancer_:nt(r);t.addObservableProp_(n,s.value,f)}}else o&&l(c,n,s)}function Mn(t,e,n){var s=!!(null==n?void 0:n.autoBind),r=ni(t,null==n?void 0:n.name,nt(null==n?void 0:n.defaultDecorator));se();try{if(!e)return function(t){if(t[F])return!0;for(var e=t,n=[];e&&e!==c;){var i=a(e,I);if(i){if(!n.length)for(var s in i.value)if(!R(t,s)&&!R(e,s))return!0;n.unshift(i.value)}e=Object.getPrototypeOf(e)}n.forEach((function(e){Mn(t,e)})),k(t,F,!0),n.length}(t),t;E(e).forEach((function(n){var o=e[n],l=function(t,e){for(var n=t;n&&n!==c;){var s=a(n,e);if(s)return[s,n];n=Object.getPrototypeOf(n)}i(1,e)}(t,n),u=l[0],h=l[1];An(r,h,n,u,o,!1,s)}))}finally{re()}return t}function On(t,e,n){var i,s=Object.getPrototypeOf(t),r=null==s||s===c;return!r&&R(s,Sn)?i=s[Sn]:(function(t,e,n){var i,s=!!(null==n?void 0:n.autoBind),r=void 0===(null==n?void 0:n.deep)?null!=(i=null==n?void 0:n.defaultDecorator)?i:ot.deep:(null==n?void 0:n.deep)?ot.deep:ot.ref;Object.entries(N(t)).forEach((function(t){var n=t[0],i=t[1];n in e||"constructor"===n||(e[n]=Cn(i,r,s))}))}(t,i=St({},e),n),r||(function(t,e,n){Object.entries(N(t)).forEach((function(t){var i=t[0],s=t[1];i in e||"constructor"===i||(s.get?e[i]=ct:_(s.value)&&(e[i]=x(s.value)?ze:(null==n?void 0:n.autoBind)?we.bound:we))}))}(s,i,n),k(s,Sn,i))),Mn(t,i,n),t}var En="splice",Pn="update",Dn={get:function(t,e){var n=t[L];return e===L?n:"length"===e?n.getArrayLength_():"string"!=typeof e||isNaN(e)?R(In,e)?In[e]:t[e]:n.get_(parseInt(e))},set:function(t,e,n){var i=t[L];return"length"===e&&i.setArrayLength_(n),"symbol"==typeof e||isNaN(e)?t[e]=n:i.set_(parseInt(e),n),!0},preventExtensions:function(){i(15)}},Rn=function(){function t(t,e,n,i){this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new z(t||"ObservableArray@"+m()),this.enhancer_=function(n,i){return e(n,i,t+"[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return yn(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),xn(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||t<0)&&i("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var n=new Array(t-e),s=0;s<t-e;s++)n[s]=void 0;this.spliceWithArray_(e,0,n)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&pi(t+e+1)},e.spliceWithArray_=function(t,e,n){var i=this;this.atom_;var s=this.values_.length;if(void 0===t?t=0:t>s?t=s:t<0&&(t=Math.max(0,s+t)),e=1===arguments.length?s-t:null==e?0:Math.max(0,Math.min(e,s-t)),void 0===n&&(n=u),_n(this)){var r=bn(this,{object:this.proxy_,type:En,index:t,removedCount:e,added:n});if(!r)return u;e=r.removedCount,n=r.added}if(n=0===n.length?n:n.map((function(t){return i.enhancer_(t,void 0)})),this.legacyMode_){var o=n.length-e;this.updateArrayLength_(s,o)}var a=this.spliceItemsIntoValues_(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice_(t,n,a),this.dehanceValues_(a)},e.spliceItemsIntoValues_=function(t,e,n){var i;if(n.length<1e4)return(i=this.values_).splice.apply(i,[t,e].concat(n));var s=this.values_.slice(t,t+e),r=this.values_.slice(t+e);this.values_.length=t+n.length-e;for(var o=0;o<n.length;o++)this.values_[t+o]=n[o];for(var a=0;a<r.length;a++)this.values_[t+n.length+a]=r[a];return s},e.notifyArrayChildUpdate_=function(t,e,n){var i=!this.owned_&&!1,s=wn(this),r=s||i?{observableKind:"array",object:this.proxy_,type:Pn,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:n}:null;this.atom_.reportChanged(),s&&kn(this,r)},e.notifyArraySplice_=function(t,e,n){var i=!this.owned_&&!1,s=wn(this),r=s||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:En,index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom_.reportChanged(),s&&kn(this,r)},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var n=this.values_;if(t<n.length){this.atom_;var s=n[t];if(_n(this)){var r=bn(this,{type:Pn,object:this.proxy_,index:t,newValue:e});if(!r)return;e=r.newValue}(e=this.enhancer_(e,s))!==s&&(n[t]=e,this.notifyArrayChildUpdate_(t,e,s))}else t===n.length?this.spliceWithArray_(t,0,[e]):i(17,t,n.length)},t}();function Nn(t,e,n,i){void 0===n&&(n="ObservableArray@"+m()),void 0===i&&(i=!1),f();var s=new Rn(n,e,i,!1);S(s.values_,L,s);var r=new Proxy(s.values_,Dn);if(s.proxy_=r,t&&t.length){var o=bt(!0);s.spliceWithArray_(0,0,t),wt(o)}return r}var In={clear:function(){return this.splice(0)},replace:function(t){var e=this[L];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=this[L];switch(arguments.length){case 0:return[];case 1:return r.spliceWithArray_(t);case 2:return r.spliceWithArray_(t,e)}return r.spliceWithArray_(t,e,i)},spliceWithArray:function(t,e,n){return this[L].spliceWithArray_(t,e,n)},push:function(){for(var t=this[L],e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[L].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[L],e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return Zt.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Zt.trackingDerivation&&i(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[L],n=e.dehanceValues_(e.values_).indexOf(t);return n>-1&&(this.splice(n,1),!0)}};function Fn(t,e){"function"==typeof Array.prototype[t]&&(In[t]=e(t))}function jn(t){return function(){var e=this[L];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function qn(t){return function(e,n){var i=this,s=this[L];return s.atom_.reportObserved(),s.dehanceValues_(s.values_)[t]((function(t,s){return e.call(n,t,s,i)}))}}function Vn(t){return function(){var e=this,n=this[L];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(t,n,i){return s(t,n,i,e)},i[t].apply(i,arguments)}}Fn("concat",jn),Fn("flat",jn),Fn("includes",jn),Fn("indexOf",jn),Fn("join",jn),Fn("lastIndexOf",jn),Fn("slice",jn),Fn("toString",jn),Fn("toLocaleString",jn),Fn("every",qn),Fn("filter",qn),Fn("find",qn),Fn("findIndex",qn),Fn("flatMap",qn),Fn("forEach",qn),Fn("map",qn),Fn("some",qn),Fn("reduce",Vn),Fn("reduceRight",Vn);var Ln,zn,Bn=T("ObservableArrayAdministration",Rn);function Un(t){return b(t)&&Bn(t[L])}var Wn={},$n="add",Hn="delete";Ln=Symbol.iterator,zn=Symbol.toStringTag;var Gn,Qn,Kn=function(){function t(t,e,n){void 0===e&&(e=H),void 0===n&&(n="ObservableMap@"+m()),this.enhancer_=void 0,this.name_=void 0,this[L]=Wn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=n,_(Map)||i(18),this.keysAtom_=U(this.name_+".keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(t)}var e=t.prototype;return e.has_=function(t){return this.data_.has(t)},e.has=function(t){var e=this;if(!Zt.trackingDerivation)return this.has_(t);var n=this.hasMap_.get(t);if(!n){var i=n=new Et(this.has_(t),G,this.name_+"."+P(t)+"?",!1);this.hasMap_.set(t,i),Oe(i,(function(){return e.hasMap_.delete(t)}))}return n.get()},e.set=function(t,e){var n=this.has_(t);if(_n(this)){var i=bn(this,{type:n?Pn:$n,object:this,newValue:e,name:t});if(!i)return this;e=i.newValue}return n?this.updateValue_(t,e):this.addValue_(t,e),this},e.delete=function(t){var e=this;if(this.keysAtom_,_n(this)&&!bn(this,{type:Hn,object:this,name:t}))return!1;if(this.has_(t)){var n=wn(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Hn,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return dn((function(){e.keysAtom_.reportChanged(),e.updateHasMapEntry_(t,!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)})),n&&kn(this,i),!0}return!1},e.updateHasMapEntry_=function(t,e){var n=this.hasMap_.get(t);n&&n.setNewValue_(e)},e.updateValue_=function(t,e){var n=this.data_.get(t);if((e=n.prepareNewValue_(e))!==Zt.UNCHANGED){var i=wn(this),s=i?{observableKind:"map",debugObjectName:this.name_,type:Pn,object:this,oldValue:n.value_,name:t,newValue:e}:null;n.setNewValue_(e),i&&kn(this,s)}},e.addValue_=function(t,e){var n=this;this.keysAtom_,dn((function(){var i=new Et(e,n.enhancer_,n.name_+"."+P(t),!1);n.data_.set(t,i),e=i.value_,n.updateHasMapEntry_(t,!0),n.keysAtom_.reportChanged()}));var i=wn(this),s=i?{observableKind:"map",debugObjectName:this.name_,type:$n,object:this,name:t,newValue:e}:null;i&&kn(this,s)},e.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var t=this,e=this.keys();return xi({next:function(){var n=e.next(),i=n.done,s=n.value;return{done:i,value:i?void 0:t.get(s)}}})},e.entries=function(){var t=this,e=this.keys();return xi({next:function(){var n=e.next(),i=n.done,s=n.value;return{done:i,value:i?void 0:[s,t.get(s)]}}})},e[Ln]=function(){return this.entries()},e.forEach=function(t,e){for(var n,i=Mt(this);!(n=i()).done;){var s=n.value,r=s[0],o=s[1];t.call(e,o,r,this)}},e.merge=function(t){var e=this;return Yn(t)&&(t=new Map(t)),dn((function(){w(t)?O(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=t[0],i=t[1];return e.set(n,i)})):C(t)?(t.constructor!==Map&&i(19,t),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&i(20,t)})),this},e.clear=function(){var t=this;dn((function(){Bt((function(){for(var e,n=Mt(t.keys());!(e=n()).done;){var i=e.value;t.delete(i)}}))}))},e.replace=function(t){var e=this;return dn((function(){for(var n,s=function(t){if(C(t)||Yn(t))return t;if(Array.isArray(t))return new Map(t);if(w(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return i(21,t)}(t),r=new Map,o=!1,a=Mt(e.data_.keys());!(n=a()).done;){var l=n.value;if(!s.has(l))if(e.delete(l))o=!0;else{var c=e.data_.get(l);r.set(l,c)}}for(var u,h=Mt(s.entries());!(u=h()).done;){var d=u.value,p=d[0],f=d[1],m=e.data_.has(p);if(e.set(p,f),e.data_.has(p)){var g=e.data_.get(p);r.set(p,g),m||(o=!0)}}if(!o)if(e.data_.size!==r.size)e.keysAtom_.reportChanged();else for(var v=e.data_.keys(),_=r.keys(),y=v.next(),b=_.next();!y.done;){if(y.value!==b.value){e.keysAtom_.reportChanged();break}y=v.next(),b=_.next()}e.data_=r})),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(t,e){return xn(this,t)},e.intercept_=function(t){return yn(this,t)},kt(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:zn,get:function(){return"Map"}}]),t}(),Yn=T("ObservableMap",Kn),Xn={};Gn=Symbol.iterator,Qn=Symbol.toStringTag;var Zn=function(){function t(t,e,n){void 0===e&&(e=H),void 0===n&&(n="ObservableSet@"+m()),this.name_=void 0,this[L]=Xn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,_(Set)||i(22),this.atom_=U(this.name_),this.enhancer_=function(t,i){return e(t,i,n)},t&&this.replace(t)}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.clear=function(){var t=this;dn((function(){Bt((function(){for(var e,n=Mt(t.data_.values());!(e=n()).done;){var i=e.value;t.delete(i)}}))}))},e.forEach=function(t,e){for(var n,i=Mt(this);!(n=i()).done;){var s=n.value;t.call(e,s,s,this)}},e.add=function(t){var e=this;if(this.atom_,_n(this)&&!bn(this,{type:$n,object:this,newValue:t}))return this;if(!this.has(t)){dn((function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()}));var n=wn(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:$n,object:this,newValue:t}:null;n&&kn(this,i)}return this},e.delete=function(t){var e=this;if(_n(this)&&!bn(this,{type:Hn,object:this,oldValue:t}))return!1;if(this.has(t)){var n=wn(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:Hn,object:this,oldValue:t}:null;return dn((function(){e.atom_.reportChanged(),e.data_.delete(t)})),n&&kn(this,i),!0}return!1},e.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},e.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return xi({next:function(){var i=t;return t+=1,i<n.length?{value:[e[i],n[i]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var t=this,e=0,n=Array.from(this.data_.values());return xi({next:function(){return e<n.length?{value:t.dehanceValue_(n[e++]),done:!1}:{done:!0}}})},e.replace=function(t){var e=this;return Jn(t)&&(t=new Set(t)),dn((function(){Array.isArray(t)||A(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&i("Cannot initialize set from "+t)})),this},e.observe_=function(t,e){return xn(this,t)},e.intercept_=function(t){return yn(this,t)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Gn]=function(){return this.values()},kt(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Qn,get:function(){return"Set"}}]),t}(),Jn=T("ObservableSet",Zn),ti="remove",ei=function(){function t(t,e,n,i){void 0===e&&(e=new Map),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultEnhancer_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.pendingKeys_=void 0,this.keysValue_=[],this.isStaledKeysValue_=!0,this.target_=t,this.values_=e,this.name_=n,this.defaultEnhancer_=i,this.keysAtom_=new z(n+".keys")}var e=t.prototype;return e.read_=function(t){return this.values_.get(t).get()},e.write_=function(t,e){var n=this.target_,i=this.values_.get(t);if(i instanceof Nt)i.set(e);else{if(_n(this)){var s=bn(this,{type:Pn,object:this.proxy_||n,name:t,newValue:e});if(!s)return;e=s.newValue}if((e=i.prepareNewValue_(e))!==Zt.UNCHANGED){var r=wn(this),o=r?{type:Pn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||n,oldValue:i.value_,name:t,newValue:e}:null;i.setNewValue_(e),r&&kn(this,o)}}},e.has_=function(t){var e=this.pendingKeys_||(this.pendingKeys_=new Map),n=e.get(t);if(n)return n.get();var i=!!this.values_.get(t);return n=new Et(i,G,this.name_+"."+P(t)+"?",!1),e.set(t,n),n.get()},e.addObservableProp_=function(t,e,n){void 0===n&&(n=this.defaultEnhancer_);var i=this.target_;if(_n(this)){var s=bn(this,{object:this.proxy_||i,name:t,type:$n,newValue:e});if(!s)return;e=s.newValue}var r=new Et(e,n,this.name_+"."+P(t),!1);this.values_.set(t,r),e=r.value_,l(i,t,function(t){return ii[t]||(ii[t]={configurable:!0,enumerable:!0,get:function(){return this[L].read_(t)},set:function(e){this[L].write_(t,e)}})}(t)),this.notifyPropertyAddition_(t,e)},e.addComputedProp_=function(t,e,n){var i=this.target_;n.name=n.name||this.name_+"."+P(e),n.context=this.proxy_||i,this.values_.set(e,new Nt(n)),l(t,e,function(t){return si[t]||(si[t]={configurable:!0,enumerable:!1,get:function(){return this[L].read_(t)},set:function(e){this[L].write_(t,e)}})}(e))},e.remove_=function(t){if(this.values_.has(t)){var e=this.target_;if(_n(this)&&!bn(this,{object:this.proxy_||e,name:t,type:ti}))return;try{se();var n=wn(this),i=this.values_.get(t),s=i&&i.get();if(i&&i.set(void 0),this.reportKeysChanged(),this.values_.delete(t),this.pendingKeys_){var r=this.pendingKeys_.get(t);r&&r.set(!1)}delete this.target_[t];var o=n?{type:ti,observableKind:"object",object:this.proxy_||e,debugObjectName:this.name_,oldValue:s,name:t}:null;n&&kn(this,o)}finally{re()}}},e.observe_=function(t,e){return xn(this,t)},e.intercept_=function(t){return yn(this,t)},e.notifyPropertyAddition_=function(t,e){var n=wn(this),i=n?{type:$n,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;if(n&&kn(this,i),this.pendingKeys_){var s=this.pendingKeys_.get(t);s&&s.set(!0)}this.reportKeysChanged()},e.getKeys_=function(){if(this.keysAtom_.reportObserved(),!this.isStaledKeysValue_)return this.keysValue_;this.keysValue_=[];for(var t,e=Mt(this.values_);!(t=e()).done;){var n=t.value,i=n[0];n[1]instanceof Et&&this.keysValue_.push(i)}return this.isStaledKeysValue_=!1,this.keysValue_},e.reportKeysChanged=function(){this.isStaledKeysValue_=!0,this.keysAtom_.reportChanged()},t}();function ni(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=H),R(t,L))return t[L];w(t)||(e=(t.constructor.name||"ObservableObject")+"@"+m()),e||(e="ObservableObject@"+m());var i=new ei(t,new Map,P(e),n);return k(t,L,i),i}var ii=Object.create(null),si=Object.create(null),ri=T("ObservableObjectAdministration",ei);function oi(t){return!!b(t)&&ri(t[L])}var ai,li,ci=0,ui=function(){};ai=ui,li=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(ai.prototype,li):void 0!==ai.prototype.__proto__?ai.prototype.__proto__=li:ai.prototype=li;var hi=function(t){function e(e,n,i,s){var r;void 0===i&&(i="ObservableArray@"+m()),void 0===s&&(s=!1),r=t.call(this)||this;var o=new Rn(i,n,s,!0);if(o.proxy_=Ct(r),S(Ct(r),L,o),e&&e.length){var a=bt(!0);r.spliceWithArray(0,0,e),wt(a)}return r}Tt(e,t);var n=e.prototype;return n.concat=function(){this[L].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),e.map((function(t){return Un(t)?t.slice():t})))},n[Symbol.iterator]=function(){var t=this,e=0;return xi({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},kt(e,[{key:"length",get:function(){return this[L].getArrayLength_()},set:function(t){this[L].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),e}(ui);function di(t){l(hi.prototype,""+t,function(t){return{enumerable:!1,configurable:!0,get:function(){return this[L].get_(t)},set:function(e){this[L].set_(t,e)}}}(t))}function pi(t){if(t>ci){for(var e=ci;e<t+100;e++)di(e);ci=t}}function fi(t,e,n){return new hi(t,e,n)}function mi(t,e){if("object"==typeof t&&null!==t){if(Un(t))return void 0!==e&&i(23),t[L].atom_;if(Jn(t))return t[L];if(Yn(t)){if(void 0===e)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||i(25,e,vi(t)),n}if(oi(t)){if(!e)return i(26);var s=t[L].values_.get(e);return s||i(27,e,vi(t)),s}if(B(t)||It(t)||de(t))return t}else if(_(t)&&de(t[L]))return t[L];i(28)}function gi(t,e){return t||i(29),void 0!==e?gi(mi(t,e)):B(t)||It(t)||de(t)||Yn(t)||Jn(t)?t:t[L]?t[L]:void i(24,t)}function vi(t,e){return(void 0!==e?mi(t,e):oi(t)||Yn(t)||Jn(t)?gi(t):mi(t)).name_}Object.entries(In).forEach((function(t){var e=t[0],n=t[1];"concat"!==e&&k(hi.prototype,e,n)})),pi(1e3);var _i=c.toString;function yi(t,e,n){return void 0===n&&(n=-1),bi(t,e,n)}function bi(t,e,n,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;if(!_(r)&&"object"!==r&&"object"!=typeof e)return!1;var o=_i.call(t);if(o!==_i.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=wi(t),e=wi(e);var a="[object Array]"===o;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(_(l)&&l instanceof l&&_(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),s=s||[];for(var u=(i=i||[]).length;u--;)if(i[u]===t)return s[u]===e;if(i.push(t),s.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!bi(t[u],e[u],n-1,i,s))return!1}else{var h,d=Object.keys(t);if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(!R(e,h=d[u])||!bi(t[h],e[h],n-1,i,s))return!1}return i.pop(),s.pop(),!0}function wi(t){return Un(t)?t.slice():C(t)||Yn(t)||A(t)||Jn(t)?Array.from(t.entries()):t}function xi(t){return t[Symbol.iterator]=ki,t}function ki(){return this}["Symbol","Map","Set","Symbol"].forEach((function(t){void 0===r()[t]&&i("MobX requires global '"+t+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:pe,extras:{getDebugName:vi},$mobx:L})},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var o,a,l=s(t),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(l[u]=o[u]);if(e){a=e(o);for(var h=0;h<a.length;h++)i.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},779:(t,e,n)=>{var i=n(826);t.exports=function t(e,n,s){return i(n)||(s=n||s,n=[]),s=s||{},e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(t,e)}(e,n):i(e)?function(e,n,i){for(var s=[],r=0;r<e.length;r++)s.push(t(e[r],n,i).source);return u(new RegExp("(?:"+s.join("|")+")",h(i)),n)}(e,n,s):function(t,e,n){return d(r(t,n),e,n)}(e,n,s)},t.exports.parse=r,t.exports.compile=function(t,e){return a(r(t,e),e)},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=d;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(t,e){for(var n,i=[],r=0,o=0,a="",u=e&&e.delimiter||"/";null!=(n=s.exec(t));){var h=n[0],d=n[1],p=n.index;if(a+=t.slice(o,p),o=p+h.length,d)a+=d[1];else{var f=t[o],m=n[2],g=n[3],v=n[4],_=n[5],y=n[6],b=n[7];a&&(i.push(a),a="");var w=null!=m&&null!=f&&f!==m,x="+"===y||"*"===y,k="?"===y||"*"===y,S=n[2]||u,T=v||_;i.push({name:g||r++,prefix:m||"",delimiter:S,optional:k,repeat:x,partial:w,asterisk:!!b,pattern:T?c(T):b?".*":"[^"+l(S)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&i.push(a),i}function o(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function a(t,e){for(var n=new Array(t.length),s=0;s<t.length;s++)"object"==typeof t[s]&&(n[s]=new RegExp("^(?:"+t[s].pattern+")$",h(e)));return function(e,s){for(var r="",a=e||{},l=(s||{}).pretty?o:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!=typeof u){var h,d=a[u.name];if(null==d){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(i(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=l(d[p]),!n[c].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===p?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?encodeURI(d).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[c].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');r+=u.prefix+h}}else r+=u}return r}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function d(t,e,n){i(e)||(n=e||n,e=[]);for(var s=(n=n||{}).strict,r=!1!==n.end,o="",a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)o+=l(c);else{var d=l(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+d+p+")*"),o+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var f=l(n.delimiter||"/"),m=o.slice(-f.length)===f;return s||(o=(m?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=r?"$":s&&m?"":"(?="+f+"|$)",u(new RegExp("^"+o,h(n)),e)}},703:(t,e,n)=>{"use strict";var i=n(414);function s(){}function r(){}r.resetWarningCache=s,t.exports=function(){function t(t,e,n,s,r,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:s};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(t,e,n)=>{"use strict";var i=n(294),s=n(418),r=n(840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));var a=new Set,l={};function c(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(l[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(t,e,n,i,s,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,i){var s=v.hasOwnProperty(e)?v[e]:null;(null!==s?0===s.type:!i&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,i){if(null==e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,s,i)&&(n=null),i||null===s?function(t){return!!p.call(m,t)||!p.call(f,t)&&(d.test(t)?m[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=null===n?3!==s.type&&"":n:(e=s.attributeName,i=s.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,S=60107,T=60108,C=60114,A=60109,M=60110,O=60112,E=60113,P=60120,D=60115,R=60116,N=60121,I=60128,F=60129,j=60130,q=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),k=V("react.portal"),S=V("react.fragment"),T=V("react.strict_mode"),C=V("react.profiler"),A=V("react.provider"),M=V("react.context"),O=V("react.forward_ref"),E=V("react.suspense"),P=V("react.suspense_list"),D=V("react.memo"),R=V("react.lazy"),N=V("react.block"),V("react.scope"),I=V("react.opaque.id"),F=V("react.debug_trace_mode"),j=V("react.offscreen"),q=V("react.legacy_hidden")}var L,z="function"==typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function U(t){if(void 0===L)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var W=!1;function $(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var i=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){i=t}t.call(e.prototype)}else{try{throw Error()}catch(t){i=t}t()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),r=i.stack.split("\n"),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==r[a])return"\n"+s[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?U(t):""}function H(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return $(t.type,!1);case 11:return $(t.type.render,!1);case 22:return $(t.type._render,!1);case 1:return $(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case T:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case D:return G(t.type);case N:return G(t._render);case R:e=t._payload,t=t._init;try{return G(t(e))}catch(t){}}return null}function Q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=K(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Z(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=Q(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Q(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?st(t,e.type,n):e.hasOwnProperty("defaultValue")&&st(t,e.type,Q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function it(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function st(t,e,n){"number"===e&&Z(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function rt(t,e){return t=s({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ot(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Q(n),e=null,s=0;s<t.length;s++){if(t[s].value===n)return t[s].selected=!0,void(i&&(t[s].defaultSelected=!0));null!==e||t[s].disabled||(e=t[s])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return s({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Q(n)}}function ct(t,e){var n=Q(e.value),i=Q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ft,mt,gt=(mt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ft=ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=bt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}Object.keys(_t).forEach((function(t){yt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var xt=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,At=null,Mt=null;function Ot(t){if(t=ns(t)){if("function"!=typeof Ct)throw Error(o(280));var e=t.stateNode;e&&(e=ss(e),Ct(t.stateNode,t.type,e))}}function Et(t){At?Mt?Mt.push(t):Mt=[t]:At=t}function Pt(){if(At){var t=At,e=Mt;if(Mt=At=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Dt(t,e){return t(e)}function Rt(t,e,n,i,s){return t(e,n,i,s)}function Nt(){}var It=Dt,Ft=!1,jt=!1;function qt(){null===At&&null===Mt||(Nt(),Pt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var i=ss(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var Lt=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(mt){Lt=!1}function Bt(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Ut=!1,Wt=null,$t=!1,Ht=null,Gt={onError:function(t){Ut=!0,Wt=t}};function Qt(t,e,n,i,s,r,o,a,l){Ut=!1,Wt=null,Bt.apply(Gt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Xt(t){if(Kt(t)!==t)throw Error(o(188))}function Zt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Xt(s),t;if(r===i)return Xt(s),e;r=r.sibling}throw Error(o(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Jt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,ie,se=!1,re=[],oe=null,ae=null,le=null,ce=new Map,ue=new Map,he=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,i,s){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:s,targetContainers:[i]}}function fe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ue.delete(e.pointerId)}}function me(t,e,n,i,s,r){return null===t||t.nativeEvent!==r?(t=pe(e,n,i,s,r),null!==e&&null!==(e=ns(e))&&ee(e),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==s&&-1===e.indexOf(s)&&e.push(s),t)}function ge(t){var e=es(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Yt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){r.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ns(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){ve(t)&&n.delete(e)}function ye(){for(se=!1;0<re.length;){var t=re[0];if(null!==t.blockedOn){null!==(t=ns(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&re.shift()}null!==oe&&ve(oe)&&(oe=null),null!==ae&&ve(ae)&&(ae=null),null!==le&&ve(le)&&(le=null),ce.forEach(_e),ue.forEach(_e)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,se||(se=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ye)))}function we(t){function e(e){return be(e,t)}if(0<re.length){be(re[0],t);for(var n=1;n<re.length;n++){var i=re[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==le&&be(le,t),ce.forEach(e),ue.forEach(e),n=0;n<he.length;n++)(i=he[n]).blockedOn===t&&(i.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ge(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Se={},Te={};function Ce(t){if(Se[t])return Se[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Ae=Ce("animationend"),Me=Ce("animationiteration"),Oe=Ce("animationstart"),Ee=Ce("transitionend"),Pe=new Map,De=new Map,Re=["abort","abort",Ae,"animationEnd",Me,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ee,"transitionEnd","waiting","waiting"];function Ne(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],s=t[n+1];s="on"+(s[0].toUpperCase()+s.slice(1)),De.set(i,e),Pe.set(i,s),c(s,[i])}}(0,r.unstable_now)();var Ie=8;function Fe(t){if(0!=(1&t))return Ie=15,1;if(0!=(2&t))return Ie=14,2;if(0!=(4&t))return Ie=13,4;var e=24&t;return 0!==e?(Ie=12,e):0!=(32&t)?(Ie=11,32):0!=(e=192&t)?(Ie=10,e):0!=(256&t)?(Ie=9,256):0!=(e=3584&t)?(Ie=8,e):0!=(4096&t)?(Ie=7,4096):0!=(e=4186112&t)?(Ie=6,e):0!=(e=62914560&t)?(Ie=5,e):67108864&t?(Ie=4,67108864):0!=(134217728&t)?(Ie=3,134217728):0!=(e=805306368&t)?(Ie=2,e):0!=(1073741824&t)?(Ie=1,1073741824):(Ie=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Ie=0;var i=0,s=0,r=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(0!==r)i=r,s=Ie=15;else if(0!=(r=134217727&n)){var l=r&~o;0!==l?(i=Fe(l),s=Ie):0!=(a&=r)&&(i=Fe(a),s=Ie)}else 0!=(r=n&~o)?(i=Fe(r),s=Ie):0!==a&&(i=Fe(a),s=Ie);if(0===i)return 0;if(i=n&((0>(i=31-Ue(i))?0:1<<i)<<1)-1,0!==e&&e!==i&&0==(e&o)){if(Fe(e),s<=Ie)return e;Ie=s}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)s=1<<(n=31-Ue(e)),i|=t[n],e&=~s;return i}function qe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Le(24&~e))?Ve(10,e):t;case 10:return 0===(t=Le(192&~e))?Ve(8,e):t;case 8:return 0===(t=Le(3584&~e))&&0===(t=Le(4186112&~e))&&(t=512),t;case 2:return 0===(e=Le(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function Le(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Be(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,(t=t.eventTimes)[e=31-Ue(e)]=n}var Ue=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/$e|0)|0},We=Math.log,$e=Math.LN2,He=r.unstable_UserBlockingPriority,Ge=r.unstable_runWithPriority,Qe=!0;function Ke(t,e,n,i){Ft||Nt();var s=Xe,r=Ft;Ft=!0;try{Rt(s,t,e,n,i)}finally{(Ft=r)||qt()}}function Ye(t,e,n,i){Ge(He,Xe.bind(null,t,e,n,i))}function Xe(t,e,n,i){var s;if(Qe)if((s=0==(4&e))&&0<re.length&&-1<de.indexOf(t))t=pe(null,t,e,n,i),re.push(t);else{var r=Ze(t,e,n,i);if(null===r)s&&fe(t,i);else{if(s){if(-1<de.indexOf(t))return t=pe(r,t,e,n,i),void re.push(t);if(function(t,e,n,i,s){switch(e){case"focusin":return oe=me(oe,t,e,n,i,s),!0;case"dragenter":return ae=me(ae,t,e,n,i,s),!0;case"mouseover":return le=me(le,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return ce.set(r,me(ce.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,ue.set(r,me(ue.get(r)||null,t,e,n,i,s)),!0}return!1}(r,t,e,n,i))return;fe(t,i)}Ni(t,e,i,null,n)}}}function Ze(t,e,n,i){var s=Tt(i);if(null!==(s=es(s))){var r=Kt(s);if(null===r)s=null;else{var o=r.tag;if(13===o){if(null!==(s=Yt(r)))return s;s=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ni(t,e,i,s,n),null}var Je=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,i=n.length,s="value"in Je?Je.value:Je.textContent,r=s.length;for(t=0;t<i&&n[t]===s[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===s[r-e];e++);return en=s.slice(t,1<e?1-e:void 0)}function sn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function an(t){function e(e,n,i,s,r){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rn:on,this.isPropagationStopped=on,this}return s(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),pn=s({},hn,{view:0,detail:0}),fn=an(pn),mn=s({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(ln=t.screenX-un.screenX,cn=t.screenY-un.screenY):cn=ln=0,un=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),gn=an(mn),vn=an(s({},mn,{dataTransfer:0})),_n=an(s({},pn,{relatedTarget:0})),yn=an(s({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=s({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=an(bn),xn=an(s({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Tn[t])&&!!e[t]}function An(){return Cn}var Mn=s({},pn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=sn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(t){return"keypress"===t.type?sn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?sn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),On=an(Mn),En=an(s({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(s({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Dn=an(s({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=s({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Rn),In=[9,13,27,32],Fn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var qn=h&&"TextEvent"in window&&!jn,Vn=h&&(!Fn||jn&&8<jn&&11>=jn),Ln=String.fromCharCode(32),zn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Wn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!$n[t.type]:"textarea"===e}function Gn(t,e,n,i){Et(i),0<(e=Fi(e,"onChange")).length&&(n=new dn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Qn=null,Kn=null;function Yn(t){Mi(t,0)}function Xn(t){if(X(is(t)))return t}function Zn(t,e){if("change"===t)return e}var Jn=!1;if(h){var ti;if(h){var ei="oninput"in document;if(!ei){var ni=document.createElement("div");ni.setAttribute("oninput","return;"),ei="function"==typeof ni.oninput}ti=ei}else ti=!1;Jn=ti&&(!document.documentMode||9<document.documentMode)}function ii(){Qn&&(Qn.detachEvent("onpropertychange",si),Kn=Qn=null)}function si(t){if("value"===t.propertyName&&Xn(Kn)){var e=[];if(Gn(e,Kn,t,Tt(t)),t=Yn,Ft)t(e);else{Ft=!0;try{Dt(t,e)}finally{Ft=!1,qt()}}}}function ri(t,e,n){"focusin"===t?(ii(),Kn=n,(Qn=e).attachEvent("onpropertychange",si)):"focusout"===t&&ii()}function oi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Kn)}function ai(t,e){if("click"===t)return Xn(e)}function li(t,e){if("input"===t||"change"===t)return Xn(e)}var ci="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},ui=Object.prototype.hasOwnProperty;function hi(t,e){if(ci(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ui.call(e,n[i])||!ci(t[n[i]],e[n[i]]))return!1;return!0}function di(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pi(t,e){var n,i=di(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=di(i)}}function fi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mi(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Z((t=e.contentWindow).document)}return e}function gi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vi=h&&"documentMode"in document&&11>=document.documentMode,_i=null,yi=null,bi=null,wi=!1;function xi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==_i||_i!==Z(i)||(i="selectionStart"in(i=_i)&&gi(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&hi(bi,i)||(bi=i,0<(i=Fi(yi,"onSelect")).length&&(e=new dn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_i)))}Ne("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ne("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ne(Re,2);for(var ki="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Si=0;Si<ki.length;Si++)De.set(ki[Si],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Ai(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,s,r,a,l,c){if(Qt.apply(this,arguments),Ut){if(!Ut)throw Error(o(198));var u=Wt;Ut=!1,Wt=null,$t||($t=!0,Ht=u)}}(i,e,void 0,t),t.currentTarget=null}function Mi(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break t;Ai(s,a,c),r=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break t;Ai(s,a,c),r=l}}}if($t)throw t=Ht,$t=!1,Ht=null,t}function Oi(t,e){var n=rs(e),i=t+"__bubble";n.has(i)||(Ri(e,t,2,!1),n.add(i))}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){t[Ei]||(t[Ei]=!0,a.forEach((function(e){Ci.has(e)||Di(e,!1,t,null),Di(e,!0,t,null)})))}function Di(t,e,n,i){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===t&&9!==n.nodeType&&(r=n.ownerDocument),null!==i&&!e&&Ci.has(t)){if("scroll"!==t)return;s|=2,r=i}var o=rs(r),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(s|=4),Ri(r,t,s,e),o.add(a))}function Ri(t,e,n,i){var s=De.get(e);switch(void 0===s?2:s){case 0:s=Ke;break;case 1:s=Ye;break;default:s=Xe}n=s.bind(null,e,n,t),s=void 0,!Lt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(s=!0),i?void 0!==s?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):void 0!==s?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ni(t,e,n,i,s){var r=i;if(0==(1&e)&&0==(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=es(a)))return;if(5===(l=o.tag)||6===l){i=r=o;continue t}a=a.parentNode}}i=i.return}!function(t,e,n){if(jt)return t();jt=!0;try{It(t,e,n)}finally{jt=!1,qt()}}((function(){var i=r,s=Tt(n),o=[];t:{var a=Pe.get(t);if(void 0!==a){var l=dn,c=t;switch(t){case"keypress":if(0===sn(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=_n;break;case"focusout":c="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ae:case Me:case Oe:l=yn;break;case Ee:l=Dn;break;case"scroll":l=fn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!=(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Vt(f,d))&&u.push(Ii(f,m,p))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!es(c)&&!c[Ji])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?es(c):null)&&(c!==(h=Kt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=En,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:is(l),p=null==c?a:is(c),(a=new u(m,f+"leave",l,n,s)).target=h,a.relatedTarget=p,m=null,es(s)===i&&((u=new u(d,f+"enter",c,n,s)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,f=0,p=u=l;p;p=ji(p))f++;for(p=0,m=d;m;m=ji(m))p++;for(;0<f-p;)u=ji(u),f--;for(;0<p-f;)d=ji(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=ji(u),d=ji(d)}u=null}else u=null;null!==l&&qi(o,a,l,u,!1),null!==c&&null!==h&&qi(o,h,c,u,!0)}if("select"===(l=(a=i?is(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Zn;else if(Hn(a))if(Jn)g=li;else{g=oi;var v=ri}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ai);switch(g&&(g=g(t,i))?Gn(o,g,n,s):(v&&v(t,a,i),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&st(a,"number",a.value)),v=i?is(i):window,t){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(_i=v,yi=i,bi=null);break;case"focusout":bi=yi=_i=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,xi(o,n,s);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":xi(o,n,s)}var _;if(Fn)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Wn?Bn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(_=nn()):(tn="value"in(Je=s)?Je.value:Je.textContent,Wn=!0)),0<(v=Fi(i,y)).length&&(y=new xn(y,t,null,n,s),o.push({event:y,listeners:v}),(_||null!==(_=Un(n)))&&(y.data=_))),(_=qn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(zn=!0,Ln);case"textInput":return(t=e.data)===Ln&&zn?null:t;default:return null}}(t,n):function(t,e){if(Wn)return"compositionend"===t||!Fn&&Bn(t,e)?(t=nn(),en=tn=Je=null,Wn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(i=Fi(i,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:i}),s.data=_)}Mi(o,e)}))}function Ii(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fi(t,e){for(var n=e+"Capture",i=[];null!==t;){var s=t,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Vt(t,n))&&i.unshift(Ii(t,r,s)),null!=(r=Vt(t,e))&&i.push(Ii(t,r,s))),t=t.return}return i}function ji(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function qi(t,e,n,i,s){for(var r=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Vt(n,r))&&o.unshift(Ii(n,l,a)):s||null!=(l=Vt(n,r))&&o.push(Ii(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}function Vi(){}var Li=null,zi=null;function Bi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ui(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Wi="function"==typeof setTimeout?setTimeout:void 0,$i="function"==typeof clearTimeout?clearTimeout:void 0;function Hi(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Gi(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Qi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Ki=0,Yi=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Yi,Zi="__reactProps$"+Yi,Ji="__reactContainer$"+Yi,ts="__reactEvents$"+Yi;function es(t){var e=t[Xi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ji]||n[Xi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Qi(t);null!==t;){if(n=t[Xi])return n;t=Qi(t)}return e}n=(t=n).parentNode}return null}function ns(t){return!(t=t[Xi]||t[Ji])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function is(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function ss(t){return t[Zi]||null}function rs(t){var e=t[ts];return void 0===e&&(e=t[ts]=new Set),e}var os=[],as=-1;function ls(t){return{current:t}}function cs(t){0>as||(t.current=os[as],os[as]=null,as--)}function us(t,e){as++,os[as]=t.current,t.current=e}var hs={},ds=ls(hs),ps=ls(!1),fs=hs;function ms(t,e){var n=t.type.contextTypes;if(!n)return hs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=e[s];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function gs(t){return null!=t.childContextTypes}function vs(){cs(ps),cs(ds)}function _s(t,e,n){if(ds.current!==hs)throw Error(o(168));us(ds,e),us(ps,n)}function ys(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,G(e)||"Unknown",r));return s({},n,i)}function bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,fs=ds.current,us(ds,t),us(ps,ps.current),!0}function ws(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=ys(t,e,fs),i.__reactInternalMemoizedMergedChildContext=t,cs(ps),cs(ds),us(ds,t)):cs(ps),us(ps,n)}var xs=null,ks=null,Ss=r.unstable_runWithPriority,Ts=r.unstable_scheduleCallback,Cs=r.unstable_cancelCallback,As=r.unstable_shouldYield,Ms=r.unstable_requestPaint,Os=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Ps=r.unstable_ImmediatePriority,Ds=r.unstable_UserBlockingPriority,Rs=r.unstable_NormalPriority,Ns=r.unstable_LowPriority,Is=r.unstable_IdlePriority,Fs={},js=void 0!==Ms?Ms:function(){},qs=null,Vs=null,Ls=!1,zs=Os(),Bs=1e4>zs?Os:function(){return Os()-zs};function Us(){switch(Es()){case Ps:return 99;case Ds:return 98;case Rs:return 97;case Ns:return 96;case Is:return 95;default:throw Error(o(332))}}function Ws(t){switch(t){case 99:return Ps;case 98:return Ds;case 97:return Rs;case 96:return Ns;case 95:return Is;default:throw Error(o(332))}}function $s(t,e){return t=Ws(t),Ss(t,e)}function Hs(t,e,n){return t=Ws(t),Ts(t,e,n)}function Gs(){if(null!==Vs){var t=Vs;Vs=null,Cs(t)}Qs()}function Qs(){if(!Ls&&null!==qs){Ls=!0;var t=0;try{var e=qs;$s(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),qs=null}catch(e){throw null!==qs&&(qs=qs.slice(t+1)),Ts(Ps,Gs),e}finally{Ls=!1}}}var Ks=w.ReactCurrentBatchConfig;function Ys(t,e){if(t&&t.defaultProps){for(var n in e=s({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Xs=ls(null),Zs=null,Js=null,tr=null;function er(){tr=Js=Zs=null}function nr(t){var e=Xs.current;cs(Xs),t.type._context._currentValue=e}function ir(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function sr(t,e){Zs=t,tr=Js=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Fo=!0),t.firstContext=null)}function rr(t,e){if(tr!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(tr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Js){if(null===Zs)throw Error(o(308));Js=e,Zs.dependencies={lanes:0,firstContext:e,responders:null}}else Js=Js.next=e;return t._currentValue}var or=!1;function ar(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function hr(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?s=r=e:r=r.next=e}else s=r=e;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dr(t,e,n,i){var r=t.updateQueue;or=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var h=t.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==o){for(d=r.baseState,a=0,h=u=c=null;;){l=o.lane;var p=o.eventTime;if((i&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var f=t,m=o;switch(l=e,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,l);break t}d=f;break t;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,d,l):f))break t;d=s({},d,l);break t;case 2:or=!0}}null!==o.callback&&(t.flags|=32,null===(l=r.effects)?r.effects=[o]:l.push(o))}else p={eventTime:p,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,a|=l;if(null===(o=o.next)){if(null===(l=r.shared.pending))break;o=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===h&&(c=d),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,qa|=a,t.lanes=a,t.memoizedState=d}}function pr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!=typeof s)throw Error(o(191,s));s.call(i)}}}var fr=(new i.Component).refs;function mr(t,e,n,i){n=null==(n=n(i,e=t.memoizedState))?e:s({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var gr={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=cl(),s=ul(t),r=cr(i,s);r.payload=e,null!=n&&(r.callback=n),ur(t,r),hl(t,s,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=cl(),s=ul(t),r=cr(i,s);r.tag=1,r.payload=e,null!=n&&(r.callback=n),ur(t,r),hl(t,s,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cl(),i=ul(t),s=cr(n,i);s.tag=2,null!=e&&(s.callback=e),ur(t,s),hl(t,i,n)}};function vr(t,e,n,i,s,r,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,o):!(e.prototype&&e.prototype.isPureReactComponent&&hi(n,i)&&hi(s,r))}function _r(t,e,n){var i=!1,s=hs,r=e.contextType;return"object"==typeof r&&null!==r?r=rr(r):(s=gs(e)?fs:ds.current,r=(i=null!=(i=e.contextTypes))?ms(t,s):hs),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=gr,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function yr(t,e,n,i){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&gr.enqueueReplaceState(e,e.state,null)}function br(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=fr,ar(t);var r=e.contextType;"object"==typeof r&&null!==r?s.context=rr(r):(r=gs(e)?fs:ds.current,s.context=ms(t,r)),dr(t,n,s,i),s.state=t.memoizedState,"function"==typeof(r=e.getDerivedStateFromProps)&&(mr(t,e,r,n),s.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(e=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),e!==s.state&&gr.enqueueReplaceState(s,s.state,null),dr(t,n,s,i),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4)}var wr=Array.isArray;function xr(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var s=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=i.refs;e===fr&&(e=i.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function kr(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Sr(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(t,e){return(t=Ul(t,e)).index=0,t.sibling=null,t}function r(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags=2,n):i:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Gl(n,t.mode,i)).return=t,e):((e=s(e,n)).return=t,e)}function c(t,e,n,i){return null!==e&&e.elementType===n.type?((i=s(e,n.props)).ref=xr(t,e,n),i.return=t,i):((i=Wl(n.type,n.key,n.props,null,t.mode,i)).ref=xr(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ql(n,t.mode,i)).return=t,e):((e=s(e,n.children||[])).return=t,e)}function h(t,e,n,i,r){return null===e||7!==e.tag?((e=$l(n,t.mode,i,r)).return=t,e):((e=s(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Gl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Wl(e.type,e.key,e.props,null,t.mode,n)).ref=xr(t,null,e),n.return=t,n;case k:return(e=Ql(e,t.mode,n)).return=t,e}if(wr(e)||B(e))return(e=$l(e,t.mode,n,null)).return=t,e;kr(t,e)}return null}function p(t,e,n,i){var s=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==s?null:l(t,e,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?n.type===S?h(t,e,n.props.children,i,s):c(t,e,n,i):null;case k:return n.key===s?u(t,e,n,i):null}if(wr(n)||B(n))return null!==s?null:h(t,e,n,i,null);kr(t,n)}return null}function f(t,e,n,i,s){if("string"==typeof i||"number"==typeof i)return l(e,t=t.get(n)||null,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case x:return t=t.get(null===i.key?n:i.key)||null,i.type===S?h(e,t,i.props.children,s,i.key):c(e,t,i,s);case k:return u(e,t=t.get(null===i.key?n:i.key)||null,i,s)}if(wr(i)||B(i))return h(e,t=t.get(n)||null,i,s,null);kr(e,i)}return null}function m(s,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(s,h,a[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(s,h),o=r(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(s,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(s,a[m],l))&&(o=r(h,o,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(s,h);m<a.length;m++)null!==(g=f(h,s,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=r(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(s,t)})),c}function g(s,a,l,c){var u=B(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(s,m,_.value,c);if(null===y){null===m&&(m=v);break}t&&m&&null===y.alternate&&e(s,m),a=r(y,a,g),null===h?u=y:h.sibling=y,h=y,m=v}if(_.done)return n(s,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(s,_.value,c))&&(a=r(_,a,g),null===h?u=_:h.sibling=_,h=_);return u}for(m=i(s,m);!_.done;g++,_=l.next())null!==(_=f(m,s,g,_.value,c))&&(t&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=r(_,a,g),null===h?u=_:h.sibling=_,h=_);return t&&m.forEach((function(t){return e(s,t)})),u}return function(t,i,r,l){var c="object"==typeof r&&null!==r&&r.type===S&&null===r.key;c&&(r=r.props.children);var u="object"==typeof r&&null!==r;if(u)switch(r.$$typeof){case x:t:{for(u=r.key,c=i;null!==c;){if(c.key===u){if(7===c.tag){if(r.type===S){n(t,c.sibling),(i=s(c,r.props.children)).return=t,t=i;break t}}else if(c.elementType===r.type){n(t,c.sibling),(i=s(c,r.props)).ref=xr(t,c,r),i.return=t,t=i;break t}n(t,c);break}e(t,c),c=c.sibling}r.type===S?((i=$l(r.props.children,t.mode,l,r.key)).return=t,t=i):((l=Wl(r.type,r.key,r.props,null,t.mode,l)).ref=xr(t,i,r),l.return=t,t=l)}return a(t);case k:t:{for(c=r.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(t,i.sibling),(i=s(i,r.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Ql(r,t.mode,l)).return=t,t=i}return a(t)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==i&&6===i.tag?(n(t,i.sibling),(i=s(i,r)).return=t,t=i):(n(t,i),(i=Gl(r,t.mode,l)).return=t,t=i),a(t);if(wr(r))return m(t,i,r,l);if(B(r))return g(t,i,r,l);if(u&&kr(t,r),void 0===r&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(t.type)||"Component"))}return n(t,i)}}var Tr=Sr(!0),Cr=Sr(!1),Ar={},Mr=ls(Ar),Or=ls(Ar),Er=ls(Ar);function Pr(t){if(t===Ar)throw Error(o(174));return t}function Dr(t,e){switch(us(Er,e),us(Or,t),us(Mr,Ar),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}cs(Mr),us(Mr,e)}function Rr(){cs(Mr),cs(Or),cs(Er)}function Nr(t){Pr(Er.current);var e=Pr(Mr.current),n=pt(e,t.type);e!==n&&(us(Or,t),us(Mr,n))}function Ir(t){Or.current===t&&(cs(Mr),cs(Or))}var Fr=ls(0);function jr(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qr=null,Vr=null,Lr=!1;function zr(t,e){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Br(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ur(t){if(Lr){var e=Vr;if(e){var n=e;if(!Br(t,e)){if(!(e=Gi(n.nextSibling))||!Br(t,e))return t.flags=-1025&t.flags|2,Lr=!1,void(qr=t);zr(qr,n)}qr=t,Vr=Gi(e.firstChild)}else t.flags=-1025&t.flags|2,Lr=!1,qr=t}}function Wr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;qr=t}function $r(t){if(t!==qr)return!1;if(!Lr)return Wr(t),Lr=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ui(e,t.memoizedProps))for(e=Vr;e;)zr(t,e),e=Gi(e.nextSibling);if(Wr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Vr=Gi(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Vr=null}}else Vr=qr?Gi(t.stateNode.nextSibling):null;return!0}function Hr(){Vr=qr=null,Lr=!1}var Gr=[];function Qr(){for(var t=0;t<Gr.length;t++)Gr[t]._workInProgressVersionPrimary=null;Gr.length=0}var Kr=w.ReactCurrentDispatcher,Yr=w.ReactCurrentBatchConfig,Xr=0,Zr=null,Jr=null,to=null,eo=!1,no=!1;function io(){throw Error(o(321))}function so(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function ro(t,e,n,i,s,r){if(Xr=r,Zr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kr.current=null===t||null===t.memoizedState?Do:Ro,t=n(i,s),no){r=0;do{if(no=!1,!(25>r))throw Error(o(301));r+=1,to=Jr=null,e.updateQueue=null,Kr.current=No,t=n(i,s)}while(no)}if(Kr.current=Po,e=null!==Jr&&null!==Jr.next,Xr=0,to=Jr=Zr=null,eo=!1,e)throw Error(o(300));return t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Zr.memoizedState=to=t:to=to.next=t,to}function ao(){if(null===Jr){var t=Zr.alternate;t=null!==t?t.memoizedState:null}else t=Jr.next;var e=null===to?Zr.memoizedState:to.next;if(null!==e)to=e,Jr=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Jr=t).memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},null===to?Zr.memoizedState=to=t:to=to.next=t}return to}function lo(t,e){return"function"==typeof e?e(t):e}function co(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=Jr,s=i.baseQueue,r=n.pending;if(null!==r){if(null!==s){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,n.pending=null}if(null!==s){s=s.next,i=i.baseState;var l=a=r=null,c=s;do{var u=c.lane;if((Xr&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===t?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,r=i):l=l.next=h,Zr.lanes|=u,qa|=u}c=c.next}while(null!==c&&c!==s);null===l?r=i:l.next=a,ci(i,e.memoizedState)||(Fo=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function uo(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{r=t(r,a.action),a=a.next}while(a!==s);ci(r,e.memoizedState)||(Fo=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function ho(t,e,n){var i=e._getVersion;i=i(e._source);var s=e._workInProgressVersionPrimary;if(null!==s?t=s===i:(t=t.mutableReadLanes,(t=(Xr&t)===t)&&(e._workInProgressVersionPrimary=i,Gr.push(e))),t)return n(e._source);throw Gr.push(e),Error(o(350))}function po(t,e,n,i){var s=Ea;if(null===s)throw Error(o(349));var r=e._getVersion,a=r(e._source),l=Kr.current,c=l.useState((function(){return ho(s,e,n)})),u=c[1],h=c[0];c=to;var d=t.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=Zr;return t.memoizedState={refs:p,source:e,subscribe:i},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var t=r(e._source);if(!ci(a,t)){t=n(e._source),ci(h,t)||(u(t),t=ul(g),s.mutableReadLanes|=t&s.pendingLanes),t=s.mutableReadLanes,s.entangledLanes|=t;for(var i=s.entanglements,o=t;0<o;){var l=31-Ue(o),c=1<<l;i[l]|=t,o&=~c}}}),[n,e,i]),l.useEffect((function(){return i(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var i=ul(g);s.mutableReadLanes|=i&s.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,i]),ci(f,n)&&ci(m,e)&&ci(d,i)||((t={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=u=Eo.bind(null,Zr,t),c.queue=t,c.baseQueue=null,h=ho(s,e,n),c.memoizedState=c.baseState=h),h}function fo(t,e,n){return po(ao(),t,e,n)}function mo(t){var e=oo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t}).dispatch=Eo.bind(null,Zr,t),[e.memoizedState,t]}function go(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=Zr.updateQueue)?(e={lastEffect:null},Zr.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function vo(t){return t={current:t},oo().memoizedState=t}function _o(){return ao().memoizedState}function yo(t,e,n,i){var s=oo();Zr.flags|=t,s.memoizedState=go(1|e,n,void 0,void 0===i?null:i)}function bo(t,e,n,i){var s=ao();i=void 0===i?null:i;var r=void 0;if(null!==Jr){var o=Jr.memoizedState;if(r=o.destroy,null!==i&&so(i,o.deps))return void go(e,n,r,i)}Zr.flags|=t,s.memoizedState=go(1|e,n,r,i)}function wo(t,e){return yo(516,4,t,e)}function xo(t,e){return bo(516,4,t,e)}function ko(t,e){return bo(4,2,t,e)}function So(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function To(t,e,n){return n=null!=n?n.concat([t]):null,bo(4,2,So.bind(null,e,t),n)}function Co(){}function Ao(t,e){var n=ao();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&so(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Mo(t,e){var n=ao();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&so(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Oo(t,e){var n=Us();$s(98>n?98:n,(function(){t(!0)})),$s(97<n?97:n,(function(){var n=Yr.transition;Yr.transition=1;try{t(!1),e()}finally{Yr.transition=n}}))}function Eo(t,e,n){var i=cl(),s=ul(t),r={lane:s,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Zr||null!==o&&o===Zr)no=eo=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,l=o(a,n);if(r.eagerReducer=o,r.eagerState=l,ci(l,a))return}catch(t){}hl(t,s,i)}}var Po={readContext:rr,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:rr,useCallback:function(t,e){return oo().memoizedState=[t,void 0===e?null:e],t},useContext:rr,useEffect:wo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,yo(4,2,So.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=oo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Eo.bind(null,Zr,t),[i.memoizedState,t]},useRef:vo,useState:mo,useDebugValue:Co,useDeferredValue:function(t){var e=mo(t),n=e[0],i=e[1];return wo((function(){var e=Yr.transition;Yr.transition=1;try{i(t)}finally{Yr.transition=e}}),[t]),n},useTransition:function(){var t=mo(!1),e=t[0];return vo(t=Oo.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var i=oo();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},po(i,t,e,n)},useOpaqueIdentifier:function(){if(Lr){var t=!1,e=function(t){return{$$typeof:I,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Ki++).toString(36))),Error(o(355))})),n=mo(e)[1];return 0==(2&Zr.mode)&&(Zr.flags|=516,go(5,(function(){n("r:"+(Ki++).toString(36))}),void 0,null)),e}return mo(e="r:"+(Ki++).toString(36)),e},unstable_isNewReconciler:!1},Ro={readContext:rr,useCallback:Ao,useContext:rr,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Mo,useReducer:co,useRef:_o,useState:function(){return co(lo)},useDebugValue:Co,useDeferredValue:function(t){var e=co(lo),n=e[0],i=e[1];return xo((function(){var e=Yr.transition;Yr.transition=1;try{i(t)}finally{Yr.transition=e}}),[t]),n},useTransition:function(){var t=co(lo)[0];return[_o().current,t]},useMutableSource:fo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},No={readContext:rr,useCallback:Ao,useContext:rr,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Mo,useReducer:uo,useRef:_o,useState:function(){return uo(lo)},useDebugValue:Co,useDeferredValue:function(t){var e=uo(lo),n=e[0],i=e[1];return xo((function(){var e=Yr.transition;Yr.transition=1;try{i(t)}finally{Yr.transition=e}}),[t]),n},useTransition:function(){var t=uo(lo)[0];return[_o().current,t]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Io=w.ReactCurrentOwner,Fo=!1;function jo(t,e,n,i){e.child=null===t?Cr(e,null,n,i):Tr(e,t.child,n,i)}function qo(t,e,n,i,s){n=n.render;var r=e.ref;return sr(e,s),i=ro(t,e,n,i,r,s),null===t||Fo?(e.flags|=1,jo(t,e,i,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~s,na(t,e,s))}function Vo(t,e,n,i,s,r){if(null===t){var o=n.type;return"function"!=typeof o||Bl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wl(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Lo(t,e,o,i,s,r))}return o=t.child,0==(s&r)&&(s=o.memoizedProps,(n=null!==(n=n.compare)?n:hi)(s,i)&&t.ref===e.ref)?na(t,e,r):(e.flags|=1,(t=Ul(o,i)).ref=e.ref,t.return=e,e.child=t)}function Lo(t,e,n,i,s,r){if(null!==t&&hi(t.memoizedProps,i)&&t.ref===e.ref){if(Fo=!1,0==(r&s))return e.lanes=t.lanes,na(t,e,r);0!=(16384&t.flags)&&(Fo=!0)}return Uo(t,e,n,i,r)}function zo(t,e,n){var i=e.pendingProps,s=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},yl(0,n);else{if(0==(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},yl(0,t),null;e.memoizedState={baseLanes:0},yl(0,null!==r?r.baseLanes:n)}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,yl(0,i);return jo(t,e,s,n),e.child}function Bo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Uo(t,e,n,i,s){var r=gs(n)?fs:ds.current;return r=ms(e,r),sr(e,s),n=ro(t,e,n,i,r,s),null===t||Fo?(e.flags|=1,jo(t,e,n,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~s,na(t,e,s))}function Wo(t,e,n,i,s){if(gs(n)){var r=!0;bs(e)}else r=!1;if(sr(e,s),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),_r(e,n,i),br(e,n,i,s),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?rr(c):ms(e,c=gs(n)?fs:ds.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==i||l!==c)&&yr(e,o,i,c),or=!1;var d=e.memoizedState;o.state=d,dr(e,i,o,s),l=e.memoizedState,a!==i||d!==l||ps.current||or?("function"==typeof u&&(mr(e,n,u,i),l=e.memoizedState),(a=or||vr(e,n,a,i,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4)):("function"==typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"==typeof o.componentDidMount&&(e.flags|=4),i=!1)}else{o=e.stateNode,lr(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ys(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?rr(l):ms(e,l=gs(n)?fs:ds.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&yr(e,o,i,l),or=!1,d=e.memoizedState,o.state=d,dr(e,i,o,s);var f=e.memoizedState;a!==h||d!==f||ps.current||or?("function"==typeof p&&(mr(e,n,p,i),f=e.memoizedState),(c=or||vr(e,n,c,i,d,f,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),i=!1)}return $o(t,e,n,i,r,s)}function $o(t,e,n,i,s,r){Bo(t,e);var o=0!=(64&e.flags);if(!i&&!o)return s&&ws(e,n,!1),na(t,e,r);i=e.stateNode,Io.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=Tr(e,t.child,null,r),e.child=Tr(e,null,a,r)):jo(t,e,a,r),e.memoizedState=i.state,s&&ws(e,n,!0),e.child}function Ho(t){var e=t.stateNode;e.pendingContext?_s(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_s(0,e.context,!1),Dr(t,e.containerInfo)}var Go,Qo,Ko,Yo={dehydrated:null,retryLane:0};function Xo(t,e,n){var i,s=e.pendingProps,r=Fr.current,o=!1;return(i=0!=(64&e.flags))||(i=(null===t||null!==t.memoizedState)&&0!=(2&r)),i?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(r|=1),us(Fr,1&r),null===t?(void 0!==s.fallback&&Ur(e),t=s.children,r=s.fallback,o?(t=Zo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Yo,t):"number"==typeof s.unstable_expectedLoadTime?(t=Zo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Yo,e.lanes=33554432,t):((n=Hl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,o?(s=function(t,e,n,i,s){var r=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return 0==(2&r)&&e.child!==o?((n=e.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ul(o,a),null!==t?i=Ul(t,i):(i=$l(i,r,s,null)).flags|=2,i.return=e,n.return=e,n.sibling=i,e.child=n,i}(t,e,s.children,s.fallback,n),o=e.child,r=t.child.memoizedState,o.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Yo,s):(n=function(t,e,n,i){var s=t.child;return t=s.sibling,n=Ul(s,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=i),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,s.children,n),e.memoizedState=null,n))}function Zo(t,e,n,i){var s=t.mode,r=t.child;return e={mode:"hidden",children:e},0==(2&s)&&null!==r?(r.childLanes=0,r.pendingProps=e):r=Hl(e,s,0,null),n=$l(n,s,i,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n}function Jo(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ir(t.return,e)}function ta(t,e,n,i,s,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,lastEffect:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s,o.lastEffect=r)}function ea(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(jo(t,e,i.children,n),0!=(2&(i=Fr.current)))i=1&i|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Jo(t,n);else if(19===t.tag)Jo(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(us(Fr,i),0==(2&e.mode))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;null!==n;)null!==(t=n.alternate)&&null===jr(t)&&(s=n),n=n.sibling;null===(n=s)?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ta(e,!1,s,n,r,e.lastEffect);break;case"backwards":for(n=null,s=e.child,e.child=null;null!==s;){if(null!==(t=s.alternate)&&null===jr(t)){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ta(e,!0,n,null,r,e.lastEffect);break;case"together":ta(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function na(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),qa|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ul(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ul(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ia(t,e){if(!Lr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function sa(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gs(e.type)&&vs(),null;case 3:return Rr(),cs(ps),cs(ds),Qr(),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||($r(e)?e.flags|=4:i.hydrate||(e.flags|=256)),null;case 5:Ir(e);var r=Pr(Er.current);if(n=e.type,null!==t&&null!=e.stateNode)Qo(t,e,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(null===e.stateNode)throw Error(o(166));return null}if(t=Pr(Mr.current),$r(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[Xi]=e,i[Zi]=a,n){case"dialog":Oi("cancel",i),Oi("close",i);break;case"iframe":case"object":case"embed":Oi("load",i);break;case"video":case"audio":for(t=0;t<Ti.length;t++)Oi(Ti[t],i);break;case"source":Oi("error",i);break;case"img":case"image":case"link":Oi("error",i),Oi("load",i);break;case"details":Oi("toggle",i);break;case"input":tt(i,a),Oi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Oi("invalid",i);break;case"textarea":lt(i,a),Oi("invalid",i)}for(var c in kt(n,a),t=null,a)a.hasOwnProperty(c)&&(r=a[c],"children"===c?"string"==typeof r?i.textContent!==r&&(t=["children",r]):"number"==typeof r&&i.textContent!==""+r&&(t=["children",""+r]):l.hasOwnProperty(c)&&null!=r&&"onScroll"===c&&Oi("scroll",i));switch(n){case"input":Y(i),it(i,a,!0);break;case"textarea":Y(i),ut(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=Vi)}i=t,e.updateQueue=i,null!==i&&(e.flags|=4)}else{switch(c=9===r.nodeType?r:r.ownerDocument,t===ht&&(t=dt(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof i.is?t=c.createElement(n,{is:i.is}):(t=c.createElement(n),"select"===n&&(c=t,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):t=c.createElementNS(t,n),t[Xi]=e,t[Zi]=i,Go(t,e),e.stateNode=t,c=St(n,i),n){case"dialog":Oi("cancel",t),Oi("close",t),r=i;break;case"iframe":case"object":case"embed":Oi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ti.length;r++)Oi(Ti[r],t);r=i;break;case"source":Oi("error",t),r=i;break;case"img":case"image":case"link":Oi("error",t),Oi("load",t),r=i;break;case"details":Oi("toggle",t),r=i;break;case"input":tt(t,i),r=J(t,i),Oi("invalid",t);break;case"option":r=rt(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=s({},i,{value:void 0}),Oi("invalid",t);break;case"textarea":lt(t,i),r=at(t,i),Oi("invalid",t);break;default:r=i}kt(n,r);var u=r;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?wt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&vt(t,h):"number"==typeof h&&vt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Oi("scroll",t):null!=h&&b(t,a,h,c))}switch(n){case"input":Y(t),it(t,i,!1);break;case"textarea":Y(t),ut(t);break;case"option":null!=i.value&&t.setAttribute("value",""+Q(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?ot(t,!!i.multiple,a,!1):null!=i.defaultValue&&ot(t,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=Vi)}Bi(n,i)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ko(0,e,t.memoizedProps,i);else{if("string"!=typeof i&&null===e.stateNode)throw Error(o(166));n=Pr(Er.current),Pr(Mr.current),$r(e)?(i=e.stateNode,n=e.memoizedProps,i[Xi]=e,i.nodeValue!==n&&(e.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Xi]=e,e.stateNode=i)}return null;case 13:return cs(Fr),i=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(i=null!==i,n=!1,null===t?void 0!==e.memoizedProps.fallback&&$r(e):n=null!==t.memoizedState,i&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fr.current)?0===Ia&&(Ia=3):(0!==Ia&&3!==Ia||(Ia=4),null===Ea||0==(134217727&qa)&&0==(134217727&Va)||ml(Ea,Da))),(i||n)&&(e.flags|=4),null);case 4:return Rr(),null===t&&Pi(e.stateNode.containerInfo),null;case 10:return nr(e),null;case 19:if(cs(Fr),null===(i=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(c=i.rendering))if(a)ia(i,!1);else{if(0!==Ia||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=jr(t))){for(e.flags|=64,ia(i,!1),null!==(a=c.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,t=c.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return us(Fr,1&Fr.current|2),e.child}t=t.sibling}null!==i.tail&&Bs()>Ua&&(e.flags|=64,a=!0,ia(i,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=jr(c))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ia(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Lr)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*Bs()-i.renderingStartTime>Ua&&1073741824!==n&&(e.flags|=64,a=!0,ia(i,!1),e.lanes=33554432);i.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=i.last)?n.sibling=c:e.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Bs(),n.sibling=null,e=Fr.current,us(Fr,a?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function ra(t){switch(t.tag){case 1:gs(t.type)&&vs();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Rr(),cs(ps),cs(ds),Qr(),0!=(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Ir(t),null;case 13:return cs(Fr),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return cs(Fr),null;case 4:return Rr(),null;case 10:return nr(t),null;case 23:case 24:return bl(),null;default:return null}}function oa(t,e){try{var n="",i=e;do{n+=H(i),i=i.return}while(i);var s=n}catch(t){s="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:s}}function aa(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Go=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Pr(Mr.current);var o,a=null;switch(n){case"input":r=J(t,r),i=J(t,i),a=[];break;case"option":r=rt(t,r),i=rt(t,i),a=[];break;case"select":r=s({},r,{value:void 0}),i=s({},i,{value:void 0}),a=[];break;case"textarea":r=at(t,r),i=at(t,i),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(t.onclick=Vi)}for(h in kt(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var c=r[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in i){var u=i[h];if(c=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Oi("scroll",t),a||c===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===I?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Ko=function(t,e,n,i){n!==i&&(e.flags|=4)};var la="function"==typeof WeakMap?WeakMap:Map;function ca(t,e,n){(n=cr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ga||(Ga=!0,Qa=i),aa(0,e)},n}function ua(t,e,n){(n=cr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"==typeof i){var s=e.value;n.payload=function(){return aa(0,e),i(s)}}var r=t.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ka?Ka=new Set([this]):Ka.add(this),aa(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){jl(t,e)}else e.current=null}function pa(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ys(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Hi(e.stateNode.containerInfo))}throw Error(o(163))}function fa(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var s=t;i=s.next,0!=(4&(s=s.tag))&&0!=(1&s)&&(Nl(n,t),Rl(n,t)),t=i}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:Ys(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&pr(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}pr(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Bi(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(o(163))}function ma(t,e){for(var n=t;;){if(5===n.tag){var i=n.stateNode;if(e)"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var s=n.memoizedProps.style;s=null!=s&&s.hasOwnProperty("display")?s.display:null,i.style.display=bt("display",s)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(t,e){if(ks&&"function"==typeof ks.onCommitFiberUnmount)try{ks.onCommitFiberUnmount(xs,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n,s=i.destroy;if(i=i.tag,void 0!==s)if(0!=(4&i))Nl(e,n);else{i=e;try{s()}catch(t){jl(i,t)}}n=n.next}while(n!==t)}break;case 1:if(da(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){jl(e,t)}break;case 5:da(e);break;case 4:xa(t,e)}}function va(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function _a(t){return 5===t.tag||3===t.tag||4===t.tag}function ya(t){t:{for(var e=t.return;null!==e;){if(_a(e))break t;e=e.return}throw Error(o(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.flags&&(vt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}i?ba(t,n,e):wa(t,n,e)}function ba(t,e,n){var i=t.tag,s=5===i||6===i;if(s)t=s?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Vi));else if(4!==i&&null!==(t=t.child))for(ba(t,e,n),t=t.sibling;null!==t;)ba(t,e,n),t=t.sibling}function wa(t,e,n){var i=t.tag,s=5===i||6===i;if(s)t=s?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(wa(t,e,n),t=t.sibling;null!==t;)wa(t,e,n),t=t.sibling}function xa(t,e){for(var n,i,s=e,r=!1;;){if(!r){r=s.return;t:for(;;){if(null===r)throw Error(o(160));switch(n=r.stateNode,r.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}r=r.return}r=!0}if(5===s.tag||6===s.tag){t:for(var a=t,l=s,c=l;;)if(ga(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(a=n,l=s.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(ga(t,s),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(r=!1)}s.sibling.return=s.return,s=s.sibling}}function ka(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3==(3&i.tag)&&(t=i.destroy,i.destroy=void 0,void 0!==t&&t()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){i=e.memoizedProps;var s=null!==t?t.memoizedProps:i;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(n[Zi]=i,"input"===t&&"radio"===i.type&&null!=i.name&&et(n,i),St(t,s),e=St(t,i),s=0;s<r.length;s+=2){var a=r[s],l=r[s+1];"style"===a?wt(n,l):"dangerouslySetInnerHTML"===a?gt(n,l):"children"===a?vt(n,l):b(n,a,l,e)}switch(t){case"input":nt(n,i);break;case"textarea":ct(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?ot(n,!!i.multiple,r,!1):t!==!!i.multiple&&(null!=i.defaultValue?ot(n,!!i.multiple,i.defaultValue,!0):ot(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ba=Bs(),ma(e.child,!0)),void Sa(e);case 19:return void Sa(e);case 23:case 24:return void ma(e,null!==e.memoizedState)}throw Error(o(163))}function Sa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ha),e.forEach((function(e){var i=Vl.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function Ta(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Ca=Math.ceil,Aa=w.ReactCurrentDispatcher,Ma=w.ReactCurrentOwner,Oa=0,Ea=null,Pa=null,Da=0,Ra=0,Na=ls(0),Ia=0,Fa=null,ja=0,qa=0,Va=0,La=0,za=null,Ba=0,Ua=1/0;function Wa(){Ua=Bs()+500}var $a,Ha=null,Ga=!1,Qa=null,Ka=null,Ya=!1,Xa=null,Za=90,Ja=[],tl=[],el=null,nl=0,il=null,sl=-1,rl=0,ol=0,al=null,ll=!1;function cl(){return 0!=(48&Oa)?Bs():-1!==sl?sl:sl=Bs()}function ul(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Us()?1:2;if(0===rl&&(rl=ja),0!==Ks.transition){0!==ol&&(ol=null!==za?za.pendingLanes:0),t=rl;var e=4186112&~ol;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Us(),t=Ve(0!=(4&Oa)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),rl)}function hl(t,e,n){if(50<nl)throw nl=0,il=null,Error(o(185));if(null===(t=dl(t,e)))return null;Be(t,e,n),t===Ea&&(Va|=e,4===Ia&&ml(t,Da));var i=Us();1===e?0!=(8&Oa)&&0==(48&Oa)?gl(t):(pl(t,n),0===Oa&&(Wa(),Gs())):(0==(4&Oa)||98!==i&&99!==i||(null===el?el=new Set([t]):el.add(t)),pl(t,n)),za=t}function dl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pl(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Ue(a),c=1<<l,u=r[l];if(-1===u){if(0==(c&i)||0!=(c&s)){u=e,Fe(c);var h=Ie;r[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);a&=~c}if(i=je(t,t===Ea?Da:0),e=Ie,0===i)null!==n&&(n!==Fs&&Cs(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Fs&&Cs(n)}15===e?(n=gl.bind(null,t),null===qs?(qs=[n],Vs=Ts(Ps,Qs)):qs.push(n),n=Fs):14===e?n=Hs(99,gl.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),n=Hs(n,fl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function fl(t){if(sl=-1,ol=rl=0,0!=(48&Oa))throw Error(o(327));var e=t.callbackNode;if(Dl()&&t.callbackNode!==e)return null;var n=je(t,t===Ea?Da:0);if(0===n)return null;var i=n,s=Oa;Oa|=16;var r=kl();for(Ea===t&&Da===i||(Wa(),wl(t,i));;)try{Cl();break}catch(e){xl(t,e)}if(er(),Aa.current=r,Oa=s,null!==Pa?i=0:(Ea=null,Da=0,i=Ia),0!=(ja&Va))wl(t,0);else if(0!==i){if(2===i&&(Oa|=64,t.hydrate&&(t.hydrate=!1,Hi(t.containerInfo)),0!==(n=qe(t))&&(i=Sl(t,n))),1===i)throw e=Fa,wl(t,0),ml(t,n),pl(t,Bs()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(o(345));case 2:case 5:Ol(t);break;case 3:if(ml(t,n),(62914560&n)===n&&10<(i=Ba+500-Bs())){if(0!==je(t,0))break;if(((s=t.suspendedLanes)&n)!==n){cl(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wi(Ol.bind(null,t),i);break}Ol(t);break;case 4:if(ml(t,n),(4186112&n)===n)break;for(i=t.eventTimes,s=-1;0<n;){var a=31-Ue(n);r=1<<a,(a=i[a])>s&&(s=a),n&=~r}if(n=s,10<(n=(120>(n=Bs()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){t.timeoutHandle=Wi(Ol.bind(null,t),n);break}Ol(t);break;default:throw Error(o(329))}}return pl(t,Bs()),t.callbackNode===e?fl.bind(null,t):null}function ml(t,e){for(e&=~La,e&=~Va,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ue(e),i=1<<n;t[n]=-1,e&=~i}}function gl(t){if(0!=(48&Oa))throw Error(o(327));if(Dl(),t===Ea&&0!=(t.expiredLanes&Da)){var e=Da,n=Sl(t,e);0!=(ja&Va)&&(n=Sl(t,e=je(t,e)))}else n=Sl(t,e=je(t,0));if(0!==t.tag&&2===n&&(Oa|=64,t.hydrate&&(t.hydrate=!1,Hi(t.containerInfo)),0!==(e=qe(t))&&(n=Sl(t,e))),1===n)throw n=Fa,wl(t,0),ml(t,e),pl(t,Bs()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ol(t),pl(t,Bs()),null}function vl(t,e){var n=Oa;Oa|=1;try{return t(e)}finally{0===(Oa=n)&&(Wa(),Gs())}}function _l(t,e){var n=Oa;Oa&=-2,Oa|=8;try{return t(e)}finally{0===(Oa=n)&&(Wa(),Gs())}}function yl(t,e){us(Na,Ra),Ra|=e,ja|=e}function bl(){Ra=Na.current,cs(Na)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,$i(n)),null!==Pa)for(n=Pa.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&vs();break;case 3:Rr(),cs(ps),cs(ds),Qr();break;case 5:Ir(i);break;case 4:Rr();break;case 13:case 19:cs(Fr);break;case 10:nr(i);break;case 23:case 24:bl()}n=n.return}Ea=t,Pa=Ul(t.current,null),Da=Ra=ja=e,Ia=0,Fa=null,La=Va=qa=0}function xl(t,e){for(;;){var n=Pa;try{if(er(),Kr.current=Po,eo){for(var i=Zr.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}eo=!1}if(Xr=0,to=Jr=Zr=null,no=!1,Ma.current=null,null===n||null===n.return){Ia=1,Fa=e,Pa=null;break}t:{var r=t,o=n.return,a=n,l=e;if(e=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Fr.current),d=o;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var v=new Set;v.add(c),d.updateQueue=v}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=cr(-1,1);_.tag=2,ur(a,_)}a.lanes|=1;break t}l=void 0,a=e;var y=r.pingCache;if(null===y?(y=r.pingCache=new la,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var b=ql.bind(null,r,c,a);c.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ia&&(Ia=2),l=oa(l,a),d=o;do{switch(d.tag){case 3:r=l,d.flags|=4096,e&=-e,d.lanes|=e,hr(d,ca(0,r,e));break t;case 1:r=l;var w=d.type,x=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ka||!Ka.has(x)))){d.flags|=4096,e&=-e,d.lanes|=e,hr(d,ua(d,r,e));break t}}d=d.return}while(null!==d)}Ml(n)}catch(t){e=t,Pa===n&&null!==n&&(Pa=n=n.return);continue}break}}function kl(){var t=Aa.current;return Aa.current=Po,null===t?Po:t}function Sl(t,e){var n=Oa;Oa|=16;var i=kl();for(Ea===t&&Da===e||wl(t,e);;)try{Tl();break}catch(e){xl(t,e)}if(er(),Oa=n,Aa.current=i,null!==Pa)throw Error(o(261));return Ea=null,Da=0,Ia}function Tl(){for(;null!==Pa;)Al(Pa)}function Cl(){for(;null!==Pa&&!As();)Al(Pa)}function Al(t){var e=$a(t.alternate,t,Ra);t.memoizedProps=t.pendingProps,null===e?Ml(t):Pa=e,Ma.current=null}function Ml(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=sa(n,e,Ra)))return void(Pa=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ra)||0==(4&n.mode)){for(var i=0,s=n.child;null!==s;)i|=s.lanes|s.childLanes,s=s.sibling;n.childLanes=i}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=ra(e)))return n.flags&=2047,void(Pa=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Pa=e);Pa=e=t}while(null!==e);0===Ia&&(Ia=5)}function Ol(t){var e=Us();return $s(99,El.bind(null,t,e)),null}function El(t,e){do{Dl()}while(null!==Xa);if(0!=(48&Oa))throw Error(o(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null;var i=n.lanes|n.childLanes,s=i,r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<r;){var c=31-Ue(r),u=1<<c;s[c]=0,a[c]=-1,l[c]=-1,r&=~u}if(null!==el&&0==(24&i)&&el.has(t)&&el.delete(t),t===Ea&&(Pa=Ea=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(s=Oa,Oa|=32,Ma.current=null,Li=Qe,gi(a=mi())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else t:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,r=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(t){l=null;break t}var h=0,d=-1,p=-1,f=0,m=0,g=a,v=null;e:for(;;){for(var _;g!==l||0!==r&&3!==g.nodeType||(d=h+r),g!==c||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(_=g.firstChild);)v=g,g=_;for(;;){if(g===a)break e;if(v===l&&++f===r&&(d=h),v===c&&++m===u&&(p=h),null!==(_=g.nextSibling))break;v=(g=v).parentNode}g=_}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;zi={focusedElem:a,selectionRange:l},Qe=!1,al=null,ll=!1,Ha=i;do{try{Pl()}catch(t){if(null===Ha)throw Error(o(330));jl(Ha,t),Ha=Ha.nextEffect}}while(null!==Ha);al=null,Ha=i;do{try{for(a=t;null!==Ha;){var y=Ha.flags;if(16&y&&vt(Ha.stateNode,""),128&y){var b=Ha.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ya(Ha),Ha.flags&=-3;break;case 6:ya(Ha),Ha.flags&=-3,ka(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025,ka(Ha.alternate,Ha);break;case 4:ka(Ha.alternate,Ha);break;case 8:xa(a,l=Ha);var x=l.alternate;va(l),null!==x&&va(x)}Ha=Ha.nextEffect}}catch(t){if(null===Ha)throw Error(o(330));jl(Ha,t),Ha=Ha.nextEffect}}while(null!==Ha);if(w=zi,b=mi(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&fi(y.ownerDocument.documentElement,y)){null!==a&&gi(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=y.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!w.extend&&x>a&&(l=a,a=x,x=l),l=pi(y,x),r=pi(y,a),l&&r&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==r.node||w.focusOffset!==r.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(r.node,r.offset)):(b.setEnd(r.node,r.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qe=!!Li,zi=Li=null,t.current=n,Ha=i;do{try{for(y=t;null!==Ha;){var k=Ha.flags;if(36&k&&fa(y,Ha.alternate,Ha),128&k){b=void 0;var S=Ha.ref;if(null!==S){var T=Ha.stateNode;Ha.tag,b=T,"function"==typeof S?S(b):S.current=b}}Ha=Ha.nextEffect}}catch(t){if(null===Ha)throw Error(o(330));jl(Ha,t),Ha=Ha.nextEffect}}while(null!==Ha);Ha=null,js(),Oa=s}else t.current=n;if(Ya)Ya=!1,Xa=t,Za=e;else for(Ha=i;null!==Ha;)e=Ha.nextEffect,Ha.nextEffect=null,8&Ha.flags&&((k=Ha).sibling=null,k.stateNode=null),Ha=e;if(0===(i=t.pendingLanes)&&(Ka=null),1===i?t===il?nl++:(nl=0,il=t):nl=0,n=n.stateNode,ks&&"function"==typeof ks.onCommitFiberRoot)try{ks.onCommitFiberRoot(xs,n,void 0,64==(64&n.current.flags))}catch(t){}if(pl(t,Bs()),Ga)throw Ga=!1,t=Qa,Qa=null,t;return 0!=(8&Oa)||Gs(),null}function Pl(){for(;null!==Ha;){var t=Ha.alternate;ll||null===al||(0!=(8&Ha.flags)?Jt(Ha,al)&&(ll=!0):13===Ha.tag&&Ta(t,Ha)&&Jt(Ha,al)&&(ll=!0));var e=Ha.flags;0!=(256&e)&&pa(t,Ha),0==(512&e)||Ya||(Ya=!0,Hs(97,(function(){return Dl(),null}))),Ha=Ha.nextEffect}}function Dl(){if(90!==Za){var t=97<Za?97:Za;return Za=90,$s(t,Il)}return!1}function Rl(t,e){Ja.push(e,t),Ya||(Ya=!0,Hs(97,(function(){return Dl(),null})))}function Nl(t,e){tl.push(e,t),Ya||(Ya=!0,Hs(97,(function(){return Dl(),null})))}function Il(){if(null===Xa)return!1;var t=Xa;if(Xa=null,0!=(48&Oa))throw Error(o(331));var e=Oa;Oa|=32;var n=tl;tl=[];for(var i=0;i<n.length;i+=2){var s=n[i],r=n[i+1],a=s.destroy;if(s.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===r)throw Error(o(330));jl(r,t)}}for(n=Ja,Ja=[],i=0;i<n.length;i+=2){s=n[i],r=n[i+1];try{var l=s.create;s.destroy=l()}catch(t){if(null===r)throw Error(o(330));jl(r,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Oa=e,Gs(),!0}function Fl(t,e,n){ur(t,e=ca(0,e=oa(n,e),1)),e=cl(),null!==(t=dl(t,1))&&(Be(t,1,e),pl(t,e))}function jl(t,e){if(3===t.tag)Fl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Fl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ka||!Ka.has(i))){var s=ua(n,t=oa(e,t),1);if(ur(n,s),s=cl(),null!==(n=dl(n,1)))Be(n,1,s),pl(n,s);else if("function"==typeof i.componentDidCatch&&(null===Ka||!Ka.has(i)))try{i.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function ql(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=cl(),t.pingedLanes|=t.suspendedLanes&n,Ea===t&&(Da&n)===n&&(4===Ia||3===Ia&&(62914560&Da)===Da&&500>Bs()-Ba?wl(t,0):La|=n),pl(t,e)}function Vl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Us()?1:2:(0===rl&&(rl=ja),0===(e=Le(62914560&~rl))&&(e=4194304))),n=cl(),null!==(t=dl(t,e))&&(Be(t,e,n),pl(t,n))}function Ll(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(t,e,n,i){return new Ll(t,e,n,i)}function Bl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ul(t,e){var n=t.alternate;return null===n?((n=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,i,s,r){var a=2;if(i=t,"function"==typeof t)Bl(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return $l(n.children,s,r,e);case F:a=8,s|=16;break;case T:a=8,s|=1;break;case C:return(t=zl(12,n,e,8|s)).elementType=C,t.type=C,t.lanes=r,t;case E:return(t=zl(13,n,e,s)).type=E,t.elementType=E,t.lanes=r,t;case P:return(t=zl(19,n,e,s)).elementType=P,t.lanes=r,t;case j:return Hl(n,s,r,e);case q:return(t=zl(24,n,e,s)).elementType=q,t.lanes=r,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case A:a=10;break t;case M:a=9;break t;case O:a=11;break t;case D:a=14;break t;case R:a=16,i=null;break t;case N:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=zl(a,n,e,s)).elementType=t,e.type=i,e.lanes=r,e}function $l(t,e,n,i){return(t=zl(7,t,i,e)).lanes=n,t}function Hl(t,e,n,i){return(t=zl(23,t,i,e)).elementType=j,t.lanes=n,t}function Gl(t,e,n){return(t=zl(6,t,null,e)).lanes=n,t}function Ql(t,e,n){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Yl(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Xl(t,e,n,i){var s=e.current,r=cl(),a=ul(s);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gs(c)){n=ys(n,c,l);break t}}n=l}else n=hs;return null===e.context?e.context=n:e.pendingContext=n,(e=cr(r,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),ur(s,e),hl(s,a,r),a}function Zl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Jl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Jl(t,e),(t=t.alternate)&&Jl(t,e)}function ec(t,e,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(t,e,null!=n&&!0===n.hydrate),e=zl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ar(e),t[Ji]=n.current,Pi(8===t.nodeType?t.parentNode:t),i)for(t=0;t<i.length;t++){var s=(e=i[t])._getVersion;s=s(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,s]:n.mutableSourceEagerHydrationData.push(e,s)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ic(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r._internalRoot;if("function"==typeof s){var a=s;s=function(){var t=Zl(o);a.call(t)}}Xl(e,o,t,s)}else{if(r=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,i),o=r._internalRoot,"function"==typeof s){var l=s;s=function(){var t=Zl(o);l.call(t)}}_l((function(){Xl(e,o,t,s)}))}return Zl(o)}function sc(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(o(200));return Yl(t,e,null,n)}$a=function(t,e,n){var i=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ps.current)Fo=!0;else{if(0==(n&i)){switch(Fo=!1,e.tag){case 3:Ho(e),Hr();break;case 5:Nr(e);break;case 1:gs(e.type)&&bs(e);break;case 4:Dr(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var s=e.type._context;us(Xs,s._currentValue),s._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Xo(t,e,n):(us(Fr,1&Fr.current),null!==(e=na(t,e,n))?e.sibling:null);us(Fr,1&Fr.current);break;case 19:if(i=0!=(n&e.childLanes),0!=(64&t.flags)){if(i)return ea(t,e,n);e.flags|=64}if(null!==(s=e.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),us(Fr,Fr.current),i)break;return null;case 23:case 24:return e.lanes=0,zo(t,e,n)}return na(t,e,n)}Fo=0!=(16384&t.flags)}else Fo=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=ms(e,ds.current),sr(e,n),s=ro(null,e,i,t,s,n),e.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gs(i)){var r=!0;bs(e)}else r=!1;e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,ar(e);var a=i.getDerivedStateFromProps;"function"==typeof a&&mr(e,i,a,t),s.updater=gr,e.stateNode=s,s._reactInternals=e,br(e,i,t,n),e=$o(null,e,i,!0,r,n)}else e.tag=0,jo(null,e,s,n),e=e.child;return e;case 16:s=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=(r=s._init)(s._payload),e.type=s,r=e.tag=function(t){if("function"==typeof t)return Bl(t)?1:0;if(null!=t){if((t=t.$$typeof)===O)return 11;if(t===D)return 14}return 2}(s),t=Ys(s,t),r){case 0:e=Uo(null,e,s,t,n);break t;case 1:e=Wo(null,e,s,t,n);break t;case 11:e=qo(null,e,s,t,n);break t;case 14:e=Vo(null,e,s,Ys(s.type,t),i,n);break t}throw Error(o(306,s,""))}return e;case 0:return i=e.type,s=e.pendingProps,Uo(t,e,i,s=e.elementType===i?s:Ys(i,s),n);case 1:return i=e.type,s=e.pendingProps,Wo(t,e,i,s=e.elementType===i?s:Ys(i,s),n);case 3:if(Ho(e),i=e.updateQueue,null===t||null===i)throw Error(o(282));if(i=e.pendingProps,s=null!==(s=e.memoizedState)?s.element:null,lr(t,e),dr(e,i,null,n),(i=e.memoizedState.element)===s)Hr(),e=na(t,e,n);else{if((r=(s=e.stateNode).hydrate)&&(Vr=Gi(e.stateNode.containerInfo.firstChild),qr=e,r=Lr=!0),r){if(null!=(t=s.mutableSourceEagerHydrationData))for(s=0;s<t.length;s+=2)(r=t[s])._workInProgressVersionPrimary=t[s+1],Gr.push(r);for(n=Cr(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(t,e,i,n),Hr();e=e.child}return e;case 5:return Nr(e),null===t&&Ur(e),i=e.type,s=e.pendingProps,r=null!==t?t.memoizedProps:null,a=s.children,Ui(i,s)?a=null:null!==r&&Ui(i,r)&&(e.flags|=16),Bo(t,e),jo(t,e,a,n),e.child;case 6:return null===t&&Ur(e),null;case 13:return Xo(t,e,n);case 4:return Dr(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Tr(e,null,i,n):jo(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,qo(t,e,i,s=e.elementType===i?s:Ys(i,s),n);case 7:return jo(t,e,e.pendingProps,n),e.child;case 8:case 12:return jo(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,s=e.pendingProps,a=e.memoizedProps,r=s.value;var l=e.type._context;if(us(Xs,l._currentValue),l._currentValue=r,null!==a)if(l=a.value,0==(r=ci(l,r)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,r):1073741823))){if(a.children===s.children&&!ps.current){e=na(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&r)){1===l.tag&&((u=cr(-1,n&-n)).tag=2,ur(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ir(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}jo(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=(r=e.pendingProps).children,sr(e,n),i=i(s=rr(s,r.unstable_observedBits)),e.flags|=1,jo(t,e,i,n),e.child;case 14:return r=Ys(s=e.type,e.pendingProps),Vo(t,e,s,r=Ys(s.type,r),i,n);case 15:return Lo(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ys(i,s),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gs(i)?(t=!0,bs(e)):t=!1,sr(e,n),_r(e,i,s),br(e,i,s,n),$o(null,e,i,!0,t,n);case 19:return ea(t,e,n);case 23:case 24:return zo(t,e,n)}throw Error(o(156,e.tag))},ec.prototype.render=function(t){Xl(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xl(null,t,null,(function(){e[Ji]=null}))},te=function(t){13===t.tag&&(hl(t,4,cl()),tc(t,4))},ee=function(t){13===t.tag&&(hl(t,67108864,cl()),tc(t,67108864))},ne=function(t){if(13===t.tag){var e=cl(),n=ul(t);hl(t,n,e),tc(t,n)}},ie=function(t,e){return e()},Ct=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=ss(i);if(!s)throw Error(o(90));X(i),nt(i,s)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&ot(t,!!n.multiple,e,!1)}},Dt=vl,Rt=function(t,e,n,i,s){var r=Oa;Oa|=4;try{return $s(98,t.bind(null,e,n,i,s))}finally{0===(Oa=r)&&(Wa(),Gs())}},Nt=function(){0==(49&Oa)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pl(t,Bs())}))}Gs()}(),Dl())},It=function(t,e){var n=Oa;Oa|=2;try{return t(e)}finally{0===(Oa=n)&&(Wa(),Gs())}};var rc={Events:[ns,is,ss,Et,Pt,Dl,{current:!1}]},oc={findFiberByHostInstance:es,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xs=lc.inject(ac),ks=lc}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rc,e.createPortal=sc,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Oa;if(0!=(48&n))return t(e);Oa|=1;try{if(t)return $s(99,t.bind(null,e))}finally{Oa=n,Gs()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(o(200));return ic(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(o(200));return ic(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(o(40));return!!t._reactRootContainer&&(_l((function(){ic(null,null,t,!1,(function(){t._reactRootContainer=null,t[Ji]=null}))})),!0)},e.unstable_batchedUpdates=vl,e.unstable_createPortal=function(t,e){return sc(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!nc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return ic(t,e,n,!1,i)},e.version="17.0.1"},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},921:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,s=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case u:case h:case r:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case g:case m:case l:return t;default:return e}}case s:return e}}}function x(t){return w(t)===h}e.AsyncMode=u,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=r,e.Lazy=g,e.Memo=m,e.Portal=s,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||w(t)===u},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===r},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===s},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===h||t===a||t===o||t===p||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===_||t.$$typeof===y||t.$$typeof===b||t.$$typeof===v)},e.typeOf=w},864:(t,e,n)=>{"use strict";t.exports=n(921)},199:(t,e,n)=>{"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.r(e),n.d(e,{BrowserRouter:()=>_t,HashRouter:()=>yt,Link:()=>Tt,MemoryRouter:()=>Q,NavLink:()=>Mt,Prompt:()=>Y,Redirect:()=>tt,Route:()=>st,Router:()=>G,StaticRouter:()=>ut,Switch:()=>ht,generatePath:()=>J,matchPath:()=>it,useHistory:()=>ft,useLocation:()=>mt,useParams:()=>gt,useRouteMatch:()=>vt,withRouter:()=>dt});var s=n(294),r=n(697),o=n.n(r),a=n(122);function l(t){return"/"===t.charAt(0)}function c(t,e){for(var n=e,i=n+1,s=t.length;i<s;n+=1,i+=1)t[n]=t[i];t.pop()}function u(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}const h=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,i){return t(e,n[i])}));if("object"==typeof e||"object"==typeof n){var i=u(e),s=u(n);return i!==e||s!==n?t(i,s):Object.keys(Object.assign({},e,n)).every((function(i){return t(e[i],n[i])}))}return!1};const d=function(t,e){if(!t)throw new Error("Invariant failed")};function p(t){return"/"===t.charAt(0)?t:"/"+t}function f(t){return"/"===t.charAt(0)?t.substr(1):t}function m(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function g(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function v(t){var e=t.pathname,n=t.search,i=t.hash,s=e||"/";return n&&"?"!==n&&(s+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(s+="#"===i.charAt(0)?i:"#"+i),s}function _(t,e,n,i){var s;"string"==typeof t?(s=function(t){var e=t||"/",n="",i="",s=e.indexOf("#");-1!==s&&(i=e.substr(s),e=e.substr(0,s));var r=e.indexOf("?");return-1!==r&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}(t),s.state=e):(void 0===(s=(0,a.Z)({},t)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=function(t,e){void 0===e&&(e="");var n,i=t&&t.split("/")||[],s=e&&e.split("/")||[],r=t&&l(t),o=e&&l(e),a=r||o;if(t&&l(t)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var u=s[s.length-1];n="."===u||".."===u||""===u}else n=!1;for(var h=0,d=s.length;d>=0;d--){var p=s[d];"."===p?c(s,d):".."===p?(c(s,d),h++):h&&(c(s,d),h--)}if(!a)for(;h--;h)s.unshift("..");!a||""===s[0]||s[0]&&l(s[0])||s.unshift("");var f=s.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function y(){var t=null,e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,i,s){if(null!=t){var r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof i?i(r,s):s(!0):s(!1!==r)}else s(!0)},appendListener:function(t){var n=!0;function i(){n&&t.apply(void 0,arguments)}return e.push(i),function(){n=!1,e=e.filter((function(t){return t!==i}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.forEach((function(t){return t.apply(void 0,n)}))}}}var b=!("undefined"==typeof window||!window.document||!window.document.createElement);function w(t,e){e(window.confirm(t))}var x="popstate",k="hashchange";function S(){try{return window.history.state||{}}catch(t){return{}}}function T(t){void 0===t&&(t={}),b||d(!1);var e,n=window.history,i=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,s=!(-1===window.navigator.userAgent.indexOf("Trident")),r=t,o=r.forceRefresh,l=void 0!==o&&o,c=r.getUserConfirmation,u=void 0===c?w:c,h=r.keyLength,f=void 0===h?6:h,T=t.basename?g(p(t.basename)):"";function C(t){var e=t||{},n=e.key,i=e.state,s=window.location,r=s.pathname+s.search+s.hash;return T&&(r=m(r,T)),_(r,i,n)}function A(){return Math.random().toString(36).substr(2,f)}var M=y();function O(t){(0,a.Z)(z,t),z.length=n.length,M.notifyListeners(z.location,z.action)}function E(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||R(C(t.state))}function P(){R(C(S()))}var D=!1;function R(t){D?(D=!1,O()):M.confirmTransitionTo(t,"POP",u,(function(e){e?O({action:"POP",location:t}):function(t){var e=z.location,n=I.indexOf(e.key);-1===n&&(n=0);var i=I.indexOf(t.key);-1===i&&(i=0);var s=n-i;s&&(D=!0,j(s))}(t)}))}var N=C(S()),I=[N.key];function F(t){return T+v(t)}function j(t){n.go(t)}var q=0;function V(t){1===(q+=t)&&1===t?(window.addEventListener(x,E),s&&window.addEventListener(k,P)):0===q&&(window.removeEventListener(x,E),s&&window.removeEventListener(k,P))}var L=!1,z={length:n.length,action:"POP",location:N,createHref:F,push:function(t,e){var s="PUSH",r=_(t,e,A(),z.location);M.confirmTransitionTo(r,s,u,(function(t){if(t){var e=F(r),o=r.key,a=r.state;if(i)if(n.pushState({key:o,state:a},null,e),l)window.location.href=e;else{var c=I.indexOf(z.location.key),u=I.slice(0,c+1);u.push(r.key),I=u,O({action:s,location:r})}else window.location.href=e}}))},replace:function(t,e){var s="REPLACE",r=_(t,e,A(),z.location);M.confirmTransitionTo(r,s,u,(function(t){if(t){var e=F(r),o=r.key,a=r.state;if(i)if(n.replaceState({key:o,state:a},null,e),l)window.location.replace(e);else{var c=I.indexOf(z.location.key);-1!==c&&(I[c]=r.key),O({action:s,location:r})}else window.location.replace(e)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(t){void 0===t&&(t=!1);var e=M.setPrompt(t);return L||(V(1),L=!0),function(){return L&&(L=!1,V(-1)),e()}},listen:function(t){var e=M.appendListener(t);return V(1),function(){V(-1),e()}}};return z}var C="hashchange",A={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+f(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f,decodePath:p},slash:{encodePath:p,decodePath:p}};function M(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function O(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function E(t){window.location.replace(M(window.location.href)+"#"+t)}function P(t){void 0===t&&(t={}),b||d(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,s=void 0===i?w:i,r=n.hashType,o=void 0===r?"slash":r,l=t.basename?g(p(t.basename)):"",c=A[o],u=c.encodePath,h=c.decodePath;function f(){var t=h(O());return l&&(t=m(t,l)),_(t)}var x=y();function k(t){(0,a.Z)(L,t),L.length=e.length,x.notifyListeners(L.location,L.action)}var S=!1,T=null;function P(){var t,e,n=O(),i=u(n);if(n!==i)E(i);else{var r=f(),o=L.location;if(!S&&(e=r,(t=o).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(T===v(r))return;T=null,function(t){if(S)S=!1,k();else{x.confirmTransitionTo(t,"POP",s,(function(e){e?k({action:"POP",location:t}):function(t){var e=L.location,n=I.lastIndexOf(v(e));-1===n&&(n=0);var i=I.lastIndexOf(v(t));-1===i&&(i=0);var s=n-i;s&&(S=!0,F(s))}(t)}))}}(r)}}var D=O(),R=u(D);D!==R&&E(R);var N=f(),I=[v(N)];function F(t){e.go(t)}var j=0;function q(t){1===(j+=t)&&1===t?window.addEventListener(C,P):0===j&&window.removeEventListener(C,P)}var V=!1,L={length:e.length,action:"POP",location:N,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=M(window.location.href)),n+"#"+u(l+v(t))},push:function(t,e){var n="PUSH",i=_(t,void 0,void 0,L.location);x.confirmTransitionTo(i,n,s,(function(t){if(t){var e=v(i),s=u(l+e);if(O()!==s){T=e,function(t){window.location.hash=t}(s);var r=I.lastIndexOf(v(L.location)),o=I.slice(0,r+1);o.push(e),I=o,k({action:n,location:i})}else k()}}))},replace:function(t,e){var n="REPLACE",i=_(t,void 0,void 0,L.location);x.confirmTransitionTo(i,n,s,(function(t){if(t){var e=v(i),s=u(l+e);O()!==s&&(T=e,E(s));var r=I.indexOf(v(L.location));-1!==r&&(I[r]=e),k({action:n,location:i})}}))},go:F,goBack:function(){F(-1)},goForward:function(){F(1)},block:function(t){void 0===t&&(t=!1);var e=x.setPrompt(t);return V||(q(1),V=!0),function(){return V&&(V=!1,q(-1)),e()}},listen:function(t){var e=x.appendListener(t);return q(1),function(){q(-1),e()}}};return L}function D(t,e,n){return Math.min(Math.max(t,e),n)}function R(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,s=void 0===i?["/"]:i,r=e.initialIndex,o=void 0===r?0:r,l=e.keyLength,c=void 0===l?6:l,u=y();function h(t){(0,a.Z)(b,t),b.length=b.entries.length,u.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,c)}var p=D(o,0,s.length-1),f=s.map((function(t){return _(t,void 0,"string"==typeof t?d():t.key||d())})),m=v;function g(t){var e=D(b.index+t,0,b.entries.length-1),i=b.entries[e];u.confirmTransitionTo(i,"POP",n,(function(t){t?h({action:"POP",location:i,index:e}):h()}))}var b={length:f.length,action:"POP",location:f[p],index:p,entries:f,createHref:m,push:function(t,e){var i="PUSH",s=_(t,e,d(),b.location);u.confirmTransitionTo(s,i,n,(function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,s):n.push(s),h({action:i,location:s,index:e,entries:n})}}))},replace:function(t,e){var i="REPLACE",s=_(t,e,d(),b.location);u.confirmTransitionTo(s,i,n,(function(t){t&&(b.entries[b.index]=s,h({action:i,location:s}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),u.setPrompt(t)},listen:function(t){return u.appendListener(t)}};return b}var N=1073741823,I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function F(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,i){t=n,e.forEach((function(e){return e(t,i)}))}}}const j=s.createContext||function(t,e){var n,r,a,l="__create-react-context-"+((I[a="__global_unique_id__"]=(I[a]||0)+1)+"__"),c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=F(e.props.value),e}i(n,t);var s=n.prototype;return s.getChildContext=function(){var t;return(t={})[l]=this.emitter,t},s.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,i=this.props.value,s=t.value;((r=i)===(o=s)?0!==r||1/r==1/o:r!=r&&o!=o)?n=0:(n="function"==typeof e?e(i,s):N,0!=(n|=0)&&this.emitter.set(t.value,n))}var r,o},s.render=function(){return this.props.children},n}(s.Component);c.childContextTypes=((n={})[l]=o().object.isRequired,n);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var s=n.prototype;return s.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?N:e},s.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?N:t},s.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},s.getValue=function(){return this.context[l]?this.context[l].get():t},s.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(s.Component);return u.contextTypes=((r={})[l]=o().object,r),{Provider:c,Consumer:u}};var q=n(779),V=n.n(q);function L(t,e){if(null==t)return{};var n,i,s={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(s[n]=t[n]);return s}n(864);var z=n(679),B=n.n(z),U=function(t){var e=j();return e.displayName=t,e},W=U("Router-History"),$=function(t){var e=j();return e.displayName=t,e},H=$("Router"),G=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}i(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return s.createElement(H.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},s.createElement(W.Provider,{children:this.props.children||null,value:this.props.history}))},e}(s.Component),Q=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).history=R(e.props),e}return i(e,t),e.prototype.render=function(){return s.createElement(G,{history:this.history,children:this.props.children})},e}(s.Component),K=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(s.Component);function Y(t){var e=t.message,n=t.when,i=void 0===n||n;return s.createElement(H.Consumer,null,(function(t){if(t||d(!1),!i||t.staticContext)return null;var n=t.history.block;return s.createElement(K,{onMount:function(t){t.release=n(e)},onUpdate:function(t,i){i.message!==e&&(t.release(),t.release=n(e))},onUnmount:function(t){t.release()},message:e})}))}var X={},Z=0;function J(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(X[t])return X[t];var e=V().compile(t);return Z<1e4&&(X[t]=e,Z++),e}(t)(e,{pretty:!0})}function tt(t){var e=t.computedMatch,n=t.to,i=t.push,r=void 0!==i&&i;return s.createElement(H.Consumer,null,(function(t){t||d(!1);var i=t.history,o=t.staticContext,l=r?i.push:i.replace,c=_(e?"string"==typeof n?J(n,e.params):(0,a.Z)({},n,{pathname:J(n.pathname,e.params)}):n);return o?(l(c),null):s.createElement(K,{onMount:function(){l(c)},onUpdate:function(t,e){var n,i,s=_(e.to);n=s,i=(0,a.Z)({},c,{key:s.key}),n.pathname===i.pathname&&n.search===i.search&&n.hash===i.hash&&n.key===i.key&&h(n.state,i.state)||l(c)},to:n})}))}var et={},nt=0;function it(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,s=n.exact,r=void 0!==s&&s,o=n.strict,a=void 0!==o&&o,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var i=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=et[n]||(et[n]={});if(i[t])return i[t];var s=[],r={regexp:V()(t,s,e),keys:s};return nt<1e4&&(i[t]=r,nt++),r}(n,{end:r,strict:a,sensitive:c}),s=i.regexp,o=i.keys,l=s.exec(t);if(!l)return null;var u=l[0],h=l.slice(1),d=t===u;return r&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:o.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var st=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this;return s.createElement(H.Consumer,null,(function(e){e||d(!1);var n=t.props.location||e.location,i=t.props.computedMatch?t.props.computedMatch:t.props.path?it(n.pathname,t.props):e.match,r=(0,a.Z)({},e,{location:n,match:i}),o=t.props,l=o.children,c=o.component,u=o.render;return Array.isArray(l)&&0===l.length&&(l=null),s.createElement(H.Provider,{value:r},r.match?l?"function"==typeof l?l(r):l:c?s.createElement(c,r):u?u(r):null:"function"==typeof l?l(r):null)}))},e}(s.Component);function rt(t){return"/"===t.charAt(0)?t:"/"+t}function ot(t,e){if(!t)return e;var n=rt(t);return 0!==e.pathname.indexOf(n)?e:(0,a.Z)({},e,{pathname:e.pathname.substr(n.length)})}function at(t){return"string"==typeof t?t:v(t)}function lt(t){return function(){d(!1)}}function ct(){}var ut=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return ct},e.handleBlock=function(){return ct},e}i(e,t);var n=e.prototype;return n.navigateTo=function(t,e){var n=this.props,i=n.basename,s=void 0===i?"":i,r=n.context,o=void 0===r?{}:r;o.action=e,o.location=function(t,e){return t?(0,a.Z)({},e,{pathname:rt(t)+e.pathname}):e}(s,_(t)),o.url=at(o.location)},n.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,i=t.context,r=void 0===i?{}:i,o=t.location,l=void 0===o?"/":o,c=L(t,["basename","context","location"]),u={createHref:function(t){return rt(n+at(t))},action:"POP",location:ot(n,_(l)),push:this.handlePush,replace:this.handleReplace,go:lt(),goBack:lt(),goForward:lt(),listen:this.handleListen,block:this.handleBlock};return s.createElement(G,(0,a.Z)({},c,{history:u,staticContext:r}))},e}(s.Component),ht=function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this;return s.createElement(H.Consumer,null,(function(e){e||d(!1);var n,i,r=t.props.location||e.location;return s.Children.forEach(t.props.children,(function(t){if(null==i&&s.isValidElement(t)){n=t;var o=t.props.path||t.props.from;i=o?it(r.pathname,(0,a.Z)({},t.props,{path:o})):e.match}})),i?s.cloneElement(n,{location:r,computedMatch:i}):null}))},e}(s.Component);function dt(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,i=L(e,["wrappedComponentRef"]);return s.createElement(H.Consumer,null,(function(e){return e||d(!1),s.createElement(t,(0,a.Z)({},i,e,{ref:n}))}))};return n.displayName=e,n.WrappedComponent=t,B()(n,t)}var pt=s.useContext;function ft(){return pt(W)}function mt(){return pt(H).location}function gt(){var t=pt(H).match;return t?t.params:{}}function vt(t){var e=mt(),n=pt(H).match;return t?it(e.pathname,t):n}var _t=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).history=T(e.props),e}return i(e,t),e.prototype.render=function(){return s.createElement(G,{history:this.history,children:this.props.children})},e}(s.Component),yt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).history=P(e.props),e}return i(e,t),e.prototype.render=function(){return s.createElement(G,{history:this.history,children:this.props.children})},e}(s.Component),bt=function(t,e){return"function"==typeof t?t(e):t},wt=function(t,e){return"string"==typeof t?_(t,null,null,e):t},xt=function(t){return t},kt=s.forwardRef;void 0===kt&&(kt=xt);var St=kt((function(t,e){var n=t.innerRef,i=t.navigate,r=t.onClick,o=L(t,["innerRef","navigate","onClick"]),l=o.target,c=(0,a.Z)({},o,{onClick:function(t){try{r&&r(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||l&&"_self"!==l||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return c.ref=xt!==kt&&e||n,s.createElement("a",c)})),Tt=kt((function(t,e){var n=t.component,i=void 0===n?St:n,r=t.replace,o=t.to,l=t.innerRef,c=L(t,["component","replace","to","innerRef"]);return s.createElement(H.Consumer,null,(function(t){t||d(!1);var n=t.history,u=wt(bt(o,t.location),t.location),h=u?n.createHref(u):"",p=(0,a.Z)({},c,{href:h,navigate:function(){var e=bt(o,t.location);(r?n.replace:n.push)(e)}});return xt!==kt?p.ref=e||l:p.innerRef=l,s.createElement(i,p)}))})),Ct=function(t){return t},At=s.forwardRef;void 0===At&&(At=Ct);var Mt=At((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,r=t.activeClassName,o=void 0===r?"active":r,l=t.activeStyle,c=t.className,u=t.exact,h=t.isActive,p=t.location,f=t.sensitive,m=t.strict,g=t.style,v=t.to,_=t.innerRef,y=L(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.createElement(H.Consumer,null,(function(t){t||d(!1);var n=p||t.location,r=wt(bt(v,n),n),b=r.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?it(n.pathname,{path:w,exact:u,sensitive:f,strict:m}):null,k=!!(h?h(x,n):x),S=k?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(c,o):c,T=k?(0,a.Z)({},g,{},l):g,C=(0,a.Z)({"aria-current":k&&i||null,className:S,style:T,to:r},y);return Ct!==At?C.ref=e||_:C.innerRef=_,s.createElement(Tt,C)}))}))},408:(t,e,n)=>{"use strict";var i=n(418),s=60103,r=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,a=60110,l=60112;e.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;s=h("react.element"),r=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function v(){}function _(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=g.prototype;var y=_.prototype=new v;y.constructor=_,i(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,i)&&!x.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:s,type:t,key:o,ref:a,props:r,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var T=/\/+/g;function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,n,i,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case r:l=!0}}if(l)return o=o(l=t),t=""===i?"."+C(l,0):i,Array.isArray(o)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),A(o,e,n,"",(function(t){return t}))):null!=o&&(S(o)&&(o=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(l=0,i=""===i?".":i+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=i+C(a=t[c],c);l+=A(a,e,n,u,o)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=A(a=a.value,e,n,u=i+C(a,c++),o);else if("object"===a)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function M(t,e,n){if(null==t)return t;var i=[],s=0;return A(t,i,"","",(function(t){return e.call(n,t,s++)})),i}function O(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var E={current:null};function P(){var t=E.current;if(null===t)throw Error(p(321));return t}var D={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=_,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var r=i({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)w.call(e,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==c?c[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:s,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.1"},294:(t,e,n)=>{"use strict";t.exports=n(408)},53:(t,e)=>{"use strict";var n,i,s,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(h,0))},i=function(t,e){u=setTimeout(t,e)},s=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},r=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,_=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},r=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();y=t+_;try{g(!0,t)?w.postMessage(null):(m=!1,g=null)}catch(t){throw w.postMessage(null),t}}else m=!1},n=function(t){g=t,m||(m=!0,w.postMessage(null))},i=function(t,n){v=d((function(){t(e.unstable_now())}),n)},s=function(){p(v),v=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,s=t[i];if(!(void 0!==s&&0<T(s,e)))break t;t[i]=e,t[n]=s,n=i}}function k(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,s=t.length;i<s;){var r=2*(i+1)-1,o=t[r],a=r+1,l=t[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(t[i]=l,t[a]=n,i=a):(t[i]=o,t[r]=n,i=r);else{if(!(void 0!==l&&0>T(l,n)))break t;t[i]=l,t[a]=n,i=a}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],A=[],M=1,O=null,E=3,P=!1,D=!1,R=!1;function N(t){for(var e=k(A);null!==e;){if(null===e.callback)S(A);else{if(!(e.startTime<=t))break;S(A),e.sortIndex=e.expirationTime,x(C,e)}e=k(A)}}function I(t){if(R=!1,N(t),!D)if(null!==k(C))D=!0,n(F);else{var e=k(A);null!==e&&i(I,e.startTime-t)}}function F(t,n){D=!1,R&&(R=!1,s()),P=!0;var r=E;try{for(N(n),O=k(C);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var o=O.callback;if("function"==typeof o){O.callback=null,E=O.priorityLevel;var a=o(O.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?O.callback=a:O===k(C)&&S(C),N(n)}else S(C);O=k(C)}if(null!==O)var l=!0;else{var c=k(A);null!==c&&i(I,c.startTime-n),l=!1}return l}finally{O=null,E=r,P=!1}}var j=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){D||P||(D=!0,n(F))},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return k(C)},e.unstable_next=function(t){switch(E){case 1:case 2:case 3:var e=3;break;default:e=E}var n=E;E=e;try{return t()}finally{E=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=E;E=t;try{return e()}finally{E=n}},e.unstable_scheduleCallback=function(t,r,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:M++,callback:r,priorityLevel:t,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(t.sortIndex=o,x(A,t),null===k(C)&&t===k(A)&&(R?s():R=!0,i(I,o-a))):(t.sortIndex=l,x(C,t),D||P||(D=!0,n(F))),t},e.unstable_wrapCallback=function(t){var e=E;return function(){var n=E;E=e;try{return t.apply(this,arguments)}finally{E=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},457:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AMOscillator:()=>Br,AMSynth:()=>wo,Abs:()=>so,Add:()=>Kr,AmplitudeEnvelope:()=>_o,Analyser:()=>Ua,AudioToGain:()=>Lr,AutoFilter:()=>oa,AutoPanner:()=>la,AutoWah:()=>ua,BaseContext:()=>xs,BiquadFilter:()=>xo,BitCrusher:()=>da,Buffer:()=>xl,BufferSource:()=>Sl,Buffers:()=>kl,Channel:()=>Xa,Chebyshev:()=>fa,Chorus:()=>ya,Clock:()=>hr,Compressor:()=>nl,Context:()=>ks,Convolver:()=>ll,CrossFade:()=>ia,DCMeter:()=>Ga,Delay:()=>dr,Destination:()=>pl,Distortion:()=>ba,Draw:()=>_l,DuoSynth:()=>Co,EQ3:()=>al,Emitter:()=>ws,Envelope:()=>fo,FFT:()=>Ha,FMOscillator:()=>Ur,FMSynth:()=>Ao,FatOscillator:()=>$r,FeedbackCombFilter:()=>jo,FeedbackDelay:()=>xa,Filter:()=>ko,Follower:()=>ca,Freeverb:()=>Aa,Frequency:()=>Gs,FrequencyClass:()=>Ws,FrequencyEnvelope:()=>So,FrequencyShifter:()=>Sa,Gain:()=>ir,GainToAudio:()=>ro,Gate:()=>il,GrainPlayer:()=>io,GreaterThan:()=>co,GreaterThanZero:()=>lo,IntervalTimeline:()=>br,JCReverb:()=>Pa,LFO:()=>Zr,Limiter:()=>sl,Listener:()=>gl,Loop:()=>Wo,LowpassCombFilter:()=>Vo,Master:()=>fl,MembraneSynth:()=>Eo,Merge:()=>ga,MetalSynth:()=>Oo,Meter:()=>$a,MidSideCompressor:()=>rl,MidSideMerge:()=>qa,MidSideSplit:()=>ja,Midi:()=>gr,MidiClass:()=>mr,MonoSynth:()=>To,MultibandCompressor:()=>ol,MultibandSplit:()=>Za,Multiply:()=>zr,Negate:()=>oo,Noise:()=>Er,NoiseSynth:()=>Po,Offline:()=>pr,OfflineContext:()=>Ms,OmniOscillator:()=>Qr,OnePoleFilter:()=>qo,Oscillator:()=>jr,PWMOscillator:()=>Hr,PanVol:()=>Ya,Panner:()=>aa,Panner3D:()=>tl,Param:()=>Zs,Part:()=>$o,Pattern:()=>ea,Phaser:()=>Ia,PingPongDelay:()=>Ra,PitchShift:()=>Na,Player:()=>eo,Players:()=>no,PluckSynth:()=>Lo,PolySynth:()=>zo,Pow:()=>uo,PulseOscillator:()=>Wr,Recorder:()=>el,Reverb:()=>Fa,Sampler:()=>Bo,Scale:()=>Yr,ScaleExp:()=>ho,Sequence:()=>na,Signal:()=>or,Solo:()=>Ka,Split:()=>ma,StateTimeline:()=>Xs,StereoWidener:()=>La,Subtract:()=>ao,SyncedSignal:()=>po,Synth:()=>yo,Ticks:()=>_r,TicksClass:()=>vr,Time:()=>Us,TimeClass:()=>Bs,Timeline:()=>gs,ToneAudioBuffer:()=>As,ToneAudioBuffers:()=>fr,ToneAudioNode:()=>Js,ToneBufferSource:()=>Or,ToneEvent:()=>Uo,ToneOscillatorNode:()=>Fr,Transport:()=>hl,TransportTime:()=>Ks,TransportTimeClass:()=>Qs,Tremolo:()=>za,Unit:()=>s,UserMedia:()=>Nr,Vibrato:()=>Ba,Volume:()=>xr,WaveShaper:()=>Vr,Waveform:()=>Qa,Zero:()=>Xr,connect:()=>er,connectSeries:()=>tr,connectSignal:()=>ar,context:()=>bl,dbToGain:()=>Ns,debug:()=>i,defaultArg:()=>as,disconnect:()=>nr,ftom:()=>qs,gainToDb:()=>Is,getContext:()=>Ps,getDestination:()=>ml,getDraw:()=>yl,getListener:()=>vl,getTransport:()=>dl,immediate:()=>ul,intervalToFrequencyRatio:()=>Fs,isArray:()=>$i,isBoolean:()=>Wi,isDefined:()=>Li,isFunction:()=>zi,isNote:()=>Gi,isNumber:()=>Bi,isObject:()=>Ui,isString:()=>Hi,isUndef:()=>Vi,loaded:()=>wl,mtof:()=>Ls,now:()=>cl,optionsFromArguments:()=>os,setContext:()=>Ds,start:()=>Rs,supported:()=>Pi,version:()=>r});var i={};n.r(i),n.d(i,{assert:()=>Di,assertContextRunning:()=>Ni,assertRange:()=>Ri,log:()=>ji,setLogger:()=>Fi,warn:()=>qi});var s={};n.r(s);const r="14.7.58";var o=n(382);const a=new WeakSet,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v={construct:()=>v},_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,y=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),s=i.match(_);for(;null!==s;){const t=s[1].slice(1,-1),r=s[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(r),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(_)}return[n.join(";"),i]},b=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=t=>{if(!(t=>{try{new new Proxy(t,v)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},x=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},k=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[i]=n;return t.delete(i),i},S=(t,e,n,i)=>{const s=x(t,e),r=k(s,(t=>t[0]===n&&t[1]===i));return 0===s.size&&t.delete(e),r},T=t=>x(p,t),C=t=>{if(a.has(t))throw new Error("The AudioNode is already stored.");a.add(t),T(t).forEach((t=>t(!0)))},A=t=>"port"in t,M=t=>{if(!a.has(t))throw new Error("The AudioNode is not stored.");a.delete(t),T(t).forEach((t=>t(!1)))},O=(t,e)=>{!A(t)&&e.every((t=>0===t.size))&&M(t)},E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},P=(t,e)=>t.context===e,D=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},R=()=>new DOMException("","IndexSizeError"),N=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw R();throw t}})},I={numberOfChannels:1},F=-34028234663852886e22,j=-F,q=t=>a.has(t),V={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L=t=>x(l,t),z=t=>x(u,t),B=(t,e)=>{const{activeInputs:n}=L(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||B(n,[...e,t])}))));const i=(t=>"playbackRate"in t)(t)?[t.playbackRate]:A(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of i){const n=z(t);void 0!==n&&n.activeInputs.forEach((([t])=>B(t,e)))}q(t)&&M(t)},U=t=>{B(t.destination,[])},W=t=>"context"in t,$=t=>W(t[0]),H=(t,e,n,i)=>{for(const e of t)if(n(e)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},G=(t,e,[n,i],s)=>{H(t,[e,n,i],(t=>t[0]===e&&t[1]===n),s)},Q=(t,[e,n,i],s)=>{const r=t.get(e);void 0===r?t.set(e,new Set([[n,i]])):H(r,[n,i],(t=>t[0]===n),s)},K=t=>"inputs"in t,Y=(t,e,n,i)=>{if(K(e)){const s=e.inputs[i];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,i),[e,n,i]},X=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},Z=(t,e)=>{if(!T(t).delete(e))throw new Error("Missing the expected event listener.")},J=(t,e,n)=>{const i=x(t,e),s=k(i,(t=>t[0]===n));return 0===i.size&&t.delete(e),s},tt=(t,e,n,i)=>{K(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},et=t=>x(c,t),nt=t=>x(h,t),it=t=>f.has(t),st=t=>!a.has(t),rt=t=>new Promise((e=>{const n=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),r=s.getChannelData(0);r[0]=1,r[1]=1;const o=t.createBufferSource();o.buffer=s,o.loop=!0,o.connect(n).connect(t.destination),o.connect(i),o.disconnect(i),n.onaudioprocess=i=>{const s=i.inputBuffer.getChannelData(0);Array.prototype.some.call(s,(t=>1===t))?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()})),ot=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},at=t=>"context"in t,lt=t=>{const e=new Map;t.connect=(t=>(n,i=0,s=0)=>{const r=at(n)?t(n,i,s):t(n,i),o=e.get(n);return void 0===o?e.set(n,[{input:s,output:i}]):o.every((t=>t.input!==s||t.output!==i))&&o.push({input:s,output:i}),r})(t.connect.bind(t)),t.disconnect=(n=>(i,s,r)=>{if(n.apply(t),void 0===i)e.clear();else if("number"==typeof i)for(const[t,n]of e){const s=n.filter((t=>t.output!==i));0===s.length?e.delete(t):e.set(t,s)}else if(e.has(i))if(void 0===s)e.delete(i);else{const t=e.get(i);if(void 0!==t){const n=t.filter((t=>t.output!==s&&(t.input!==r||void 0===r)));0===n.length?e.delete(i):e.set(i,n)}}for(const[n,i]of e)i.forEach((e=>{at(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},ct=(t,e,n,i,s)=>{const[r,o]=((t,e,n,i)=>{const{activeInputs:s,passiveInputs:r}=L(e),o=X(s[i],t,n);return null===o?[S(r,t,n,i)[2],!1]:[o[2],!0]})(t,n,i,s);if(null!==r&&(Z(t,r),!o||e||it(t)||tt(et(t),et(n),i,s)),q(n)){const{activeInputs:t}=L(n);O(n,t)}},ut=(t,e,n,i)=>{const[s,r]=((t,e,n)=>{const{activeInputs:i,passiveInputs:s}=z(e),r=X(i,t,n);return null===r?[J(s,t,n)[1],!1]:[r[2],!0]})(t,n,i);null!==s&&(Z(t,s),!r||e||it(t)||et(t).disconnect(nt(n),i))};class ht{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,i)=>t.call(e,n,i,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const dt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function pt(t,e,n,i,s){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,s);else{const r=t.getChannelData(i);if(0===e[n].byteLength)e[n]=r.slice(s,s+128);else{const t=new Float32Array(r.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const ft=(t,e,n,i,s)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],i,s):0!==e[n].byteLength&&t.getChannelData(i).set(e[n],s)},mt=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const t=[],s="number"==typeof e?e:e[i];for(let e=0;e<s;e+=1)t.push(new Float32Array(128));n.push(t)}return n},gt=async(t,e,n,i,s,r,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=i.channelCount*i.numberOfInputs,c=s.reduce(((t,e)=>t+e),0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=L(t),d=await((t,e)=>{const n=x(g,t),i=et(e);return x(n,i)})(n,t),p=mt(i.numberOfInputs,i.channelCount),f=mt(i.numberOfOutputs,s),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<a;c+=128){if(i.numberOfInputs>0&&null!==e)for(let t=0;t<i.numberOfInputs;t+=1)for(let n=0;n<i.channelCount;n+=1)pt(e,p[t],n,n,c);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach((({name:t},n)=>{pt(e,m,t,l+n,c)}));for(let t=0;t<i.numberOfInputs;t+=1)for(let e=0;e<s[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(c/n.sampleRate,n.sampleRate,(()=>d.process(t,f,m)));if(null!==u)for(let t=0,e=0;t<i.numberOfOutputs;t+=1){for(let n=0;n<s[t];n+=1)ft(u,f[t],n,e+n,c);e+=s[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return u},vt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},_t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},yt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},bt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},wt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},xt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},kt=(t,e,n)=>{const i=e[n];if(void 0===i)throw t();return i},St={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ct=()=>new DOMException("","InvalidStateError"),At=()=>new DOMException("","InvalidAccessError"),Mt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ot=(t,e,n,i,s,r,o,a,l,c,u)=>{const h=c.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*c[a];for(let e=1;e<s;e+=1){const i=d-e&l-1;h+=n[e]*r[i],h-=t[e]*o[i]}for(let t=s;t<i;t+=1)h+=n[t]*r[d-t&l-1];for(let n=s;n<e;n+=1)h-=t[n]*o[d-n&l-1];r[d]=c[a],o[d]=h,d=d+1&l-1,u[a]=h}return d},Et={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Pt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Dt=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n]&&(t[n]=i)},Rt=(t,e)=>{Dt(t,e,"channelCount"),Dt(t,e,"channelCountMode"),Dt(t,e,"channelInterpretation")},Nt=t=>"function"==typeof t.getFloatTimeDomainData,It=(t,e,n)=>{const i=e[n];void 0!==i&&i!==t[n].value&&(t[n].value=i)},Ft=t=>{t.start=(e=>(n=0,i=0,s)=>{if("number"==typeof s&&s<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,s)})(t.start)},jt=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},qt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Vt=(t,e)=>{const n=t.createBiquadFilter();return Rt(n,e),It(n,e,"Q"),It(n,e,"detune"),It(n,e,"frequency"),It(n,e,"gain"),Dt(n,e,"type"),n},Lt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Rt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ct()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ct()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ct()}})})(n),n},zt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Bt=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Rt(n,e),It(n,e,"delayTime"),n},Ut=(t,e)=>{const n=t.createGain();return Rt(n,e),It(n,e,"gain"),n};function Wt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $t(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)s=e,n=[(i=n)[0]*s[0]-i[1]*s[1],i[0]*s[1]+i[1]*s[0]],n[0]+=t[r];var i,s;return n}const Ht=(t,e,n,i)=>t.createScriptProcessor(e,n,i),Gt=()=>new DOMException("","NotSupportedError"),Qt={numberOfChannels:1},Kt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Yt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Xt={disableNormalization:!1},Zt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Jt=()=>new DOMException("","UnknownError"),te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ee=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},ne=(t,e,n,i)=>{let s=Object.getPrototypeOf(t);for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:r,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(r),set:i(o)})},ie=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},se=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},re=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},oe=()=>{try{new DOMException}catch{return!1}return!0},ae=()=>new Promise((t=>{const e=new ArrayBuffer(0),{port1:n,port2:i}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),i.postMessage(e,[e])})),le=(t,e)=>{const n=e.createGain();t.connect(n);const i=(e=>()=>{e.call(t,n),t.removeEventListener("ended",i)})(t.disconnect);t.addEventListener("ended",i),zt(t,n),t.stop=(e=>{let i=!1;return(s=0)=>{if(i)try{e.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else e.call(t,s),i=!0}})(t.stop)},ce=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},ue=(t=>(e,n,[i,s,r],o)=>{t(e[s],[n,i,r],(t=>t[0]===n&&t[1]===i),o)})(H),he=(t=>(e,n,[i,s,r],o)=>{const a=e.get(i);void 0===a?e.set(i,new Set([[s,n,r]])):t(a,[s,n,r],(t=>t[0]===s&&t[1]===n),o)})(H),de=(t=>(e,n,i,s)=>t(e[s],(t=>t[0]===n&&t[1]===i)))(k),pe=new WeakMap,fe=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(pe),me=(ge=new Map,ve=new WeakMap,(t,e)=>{const n=ve.get(t);if(void 0!==n)return n;const i=ge.get(t);if(void 0!==i)return i;try{const n=e();return n instanceof Promise?(ge.set(t,n),n.catch((()=>!1)).then((e=>(ge.delete(t),ve.set(t,e),e)))):(ve.set(t,n),n)}catch{return ve.set(t,!1),!1}});var ge,ve;const _e="undefined"==typeof window?null:window,ye=((t,e)=>(n,i)=>{const s=n.createAnalyser();if(Rt(s,i),!(i.maxDecibels>i.minDecibels))throw e();return Dt(s,i,"fftSize"),Dt(s,i,"maxDecibels"),Dt(s,i,"minDecibels"),Dt(s,i,"smoothingTimeConstant"),t(Nt,(()=>Nt(s)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let t=0;t<i;t+=1)e[t]=.0078125*(n[t]-128);return e}})(s),s})(me,R),be=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(L),we=((t,e,n)=>async(i,s,r,o)=>{const a=t(i),l=[...o,i];await Promise.all(a.activeInputs.map(((t,o)=>Array.from(t).filter((([t])=>!l.includes(t))).map((async([t,a])=>{const c=e(t),u=await c.render(t,s,l),h=i.context.destination;n(t)||i===h&&n(i)||u.connect(r,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(L,be,it),xe=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,r,o){const a=i.get(r);return void 0!==a?Promise.resolve(a):(async(s,r,o)=>{let a=e(s);if(!P(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(r,e)}return i.set(r,a),await n(s,r,a,o),a})(s,r,o)}}})(ye,et,we),ke=(Se=d,t=>{const e=Se.get(t);if(void 0===e)throw Ct();return e});var Se;const Te=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(_e),Ce=(t=>e=>null!==t&&e instanceof t)(Te),Ae=new WeakMap,Me=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,i)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const i=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,n)}})(ce),Oe=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(_e),Ee=(t=>e=>null!==t&&e instanceof t)(Oe),Pe=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(_e),De=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(_e),Re=((t,e,n,i,s,r,o,a,l,u,h,d,f,m,g)=>class extends u{constructor(e,i,s,r){super(s),this._context=e,this._nativeAudioNode=s;const o=h(e);d(o)&&!0!==n(rt,(()=>rt(o)))&&lt(s),c.set(this,s),p.set(this,new Set),"closed"!==e.state&&i&&C(this),t(this,r,s)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw s();const c=h(this._context),u=g(c);if(f(t)||m(t))throw r();if(W(t)){const s=et(t);try{const e=Y(this._nativeAudioNode,s,n,a),i=st(this);(u||i)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!i&&st(t)&&C(t)}catch(t){if(12===t.code)throw r();throw t}if(e(this,t,n,a,u)){const e=l([this],t);ot(e,i(u))}return t}const d=nt(t);if("playbackRate"===d.name)throw o();try{this._nativeAudioNode.connect(d,n),(u||st(this))&&this._nativeAudioNode.disconnect(d,n)}catch(t){if(12===t.code)throw r();throw t}if(((t,e,n,i)=>{const{activeInputs:s,passiveInputs:r}=z(e),{outputs:o}=L(t),a=T(t),l=o=>{const a=et(t),l=nt(e);if(o){const e=J(r,t,n);G(s,t,e,!1),i||it(t)||a.connect(l,n)}else{const e=((t,e,n)=>k(t,(t=>t[0]===e&&t[1]===n)))(s,t,n);Q(r,e,!1),i||it(t)||a.disconnect(l,n)}};return!!H(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),q(t)?G(s,t,[n,l],!0):Q(r,[t,n,l],!0),!0)})(this,t,n,u)){const e=l([this],t);ot(e,i(u))}}disconnect(t,e,n){let i;const o=h(this._context),c=g(o);if(void 0===t)i=((t,e)=>{const n=L(t),i=[];for(const s of n.outputs)$(s)?ct(t,e,...s):ut(t,e,...s),i.push(s[0]);return n.outputs.clear(),i})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw s();i=((t,e,n)=>{const i=L(t),s=[];for(const r of i.outputs)r[1]===n&&($(r)?ct(t,e,...r):ut(t,e,...r),s.push(r[0]),i.outputs.delete(r));return s})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw s();if(W(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw s();if(i=((t,e,n,i,s)=>{const r=L(t);return Array.from(r.outputs).filter((t=>!(t[0]!==n||void 0!==i&&t[1]!==i||void 0!==s&&t[2]!==s))).map((n=>($(n)?ct(t,e,...n):ut(t,e,...n),r.outputs.delete(n),n[0])))})(this,c,t,e,n),0===i.length)throw r()}for(const t of i){const e=l([this],t);ot(e,a)}}})((Ne=l,(t,e,n)=>{const i=[];for(let t=0;t<n.numberOfInputs;t+=1)i.push(new Set);Ne.set(t,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,i,s,r,o,a,l,c,u,h,d)=>(p,f,m,g,v)=>{const{activeInputs:_,passiveInputs:y}=r(f),{outputs:b}=r(p),w=a(p),x=r=>{const a=l(f),c=l(p);if(r){const e=S(y,p,m,g);t(_,p,e,!1),v||h(p)||n(c,a,m,g),d(f)&&C(f)}else{const t=i(_,p,m,g);e(y,g,t,!1),v||h(p)||s(c,a,m,g);const n=o(f);0===n?u(f)&&O(f,_):setTimeout((()=>{u(f)&&O(f,_)}),1e3*n)}};return!!c(b,[f,m,g],(t=>t[0]===f&&t[1]===m&&t[2]===g),!0)&&(w.add(x),u(p)?t(_,p,[m,g,x],!0):e(y,g,[p,m,x],!0),!0)})(ue,he,Y,de,tt,L,fe,T,et,H,q,it,st),me,((t,e,n,i,s,r)=>o=>(a,l)=>{const c=t.get(a);if(void 0===c){if(!o&&r(a)){const t=i(a),{outputs:r}=n(a);for(const n of r)if($(n)){const s=i(n[0]);e(t,s,n[1],n[2])}else{const e=s(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,c+l)})(f,tt,L,et,nt,q),R,At,Gt,((t,e,n,i,s,r,o,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(u===c){if(e.delete(l),!d&&o(l)){const e=i(l),{outputs:r}=n(l);for(const n of r)if($(n)){const s=i(n[0]);t(e,s,n[1],n[2])}else{const t=s(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)})(Y,f,L,et,nt,ke,q,Ce),((t,e,n)=>function i(s,r){const o=W(r)?r:n(t,r);if((t=>"delayTime"in t)(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>i([...s,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Ae,L,x),Me,ke,Ee,Pe,De,Ce);var Ne;const Ie=((t,e,n,i,s,r)=>class extends t{constructor(t,n){const o=s(t),a={...E,...n},l=i(o,a);super(t,!1,l,r(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Re,xe,R,ye,ke,Ce),Fe=new WeakSet,je=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(_e),qe=(Ve=new Uint32Array(1),t=>(Ve[0]=t,Ve[0]));var Ve;const Le=((t,e)=>n=>{n.copyFromChannel=(i,s,r=0)=>{const o=t(r),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)i[t]=c[t+o]},n.copyToChannel=(i,s,r=0)=>{const o=t(r),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=i.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)c[t+o]=i[t]}})(qe,R),ze=(t=>e=>{e.copyFromChannel=(n=>(i,s,r=0)=>{const o=t(r),a=t(s);if(o<e.length)return n.call(e,i,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(i,s,r=0)=>{const o=t(r),a=t(s);if(o<e.length)return n.call(e,i,a,o)})(e.copyToChannel)})(qe),Be=((t,e,n,i,s,r,o,a)=>{let l=null;return class c{constructor(c){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...I,...c};null===l&&(l=new s(1,1,44100));const p=null!==i&&e(r,r)?new i({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),N(p)):e(D,(()=>D(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(Fe,me,Gt,je,Te,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(je),Le,ze),Ue=(t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(i),i.disconnect()};n.addEventListener("ended",s)})(Ut),We=((t,e,n)=>async(i,s,r,o)=>{const a=e(i);await Promise.all(Array.from(a.activeInputs).map((async([e,i])=>{const a=t(e),l=await a.render(e,s,o);n(e)||l.connect(r,i)})))})(be,z,it),$e=(t=>(e,n,i,s)=>t(n,e,i,s))(We),He=((t,e,n,i,s,r,o,a,l,c,u)=>(l,h)=>{const d=l.createBufferSource();return Rt(d,h),It(d,h,"playbackRate"),Dt(d,h,"buffer"),Dt(d,h,"loop"),Dt(d,h,"loopEnd"),Dt(d,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(i=0,s=0,r)=>{if(n)throw Ct();e.call(t,i,s,r),n=!0}})(t.start)})(d),e(i,(()=>i(l)))||(t=>{t.start=(e=>(n=0,i=0,s)=>{const r=t.buffer,o=null===r?i:Math.min(r.duration,i);null!==r&&o>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)})(d),e(s,(()=>s(l)))||c(d,l),e(r,(()=>r(l)))||Ft(d),e(o,(()=>o(l)))||u(d,l),e(a,(()=>a(l)))||jt(d),t(l,d),d})(Ue,me,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),ie,se,re,0,(t=>(e,n)=>{const i=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=i),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===i?null:n}),(t=>n=>t.call(e,null===n?i:n)))})(ne),le),Ge=((t,e)=>(n,i,s,r)=>(t(i).replay(s),e(i,n,s,r)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(z),We),Qe=((t,e,n,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c,u){const h=r.get(c);return void 0!==h?Promise.resolve(h):(async(l,c,u)=>{let h=n(l);const d=P(h,c);if(!d){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return r.set(c,h),d?await t(c,l.playbackRate,h.playbackRate,u):await i(c,l.playbackRate,h.playbackRate,u),await s(l,c,h,u),h})(l,c,u)}}})($e,He,et,Ge,we),Ke=((t,e,n,i,s,r,a,l,c,u,h,d)=>(i,p,f,m=null,g=null)=>{const v=new o.AutomationEventList(f.defaultValue),_=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:i}=n;e.exponentialRampToValueAtTime(i,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:i}=n;e.linearRampToValueAtTime(i,t)}else if("setTarget"===n.type){const{startTime:t,target:i,timeConstant:s}=n;e.setTargetAtTime(i,t,s)}else if("setValue"===n.type){const{startTime:t,value:i}=n;e.setValueAtTime(i,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,t)}}}}))(v):null,y={get defaultValue(){return f.defaultValue},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===g?f.minValue:g},get value(){return f.value},set value(t){f.value=t,y.setValueAtTime(t,i.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof f.cancelAndHoldAtTime)null===_&&v.flush(i.context.currentTime),v.add(s(t)),f.cancelAndHoldAtTime(t);else{const e=Array.from(v).pop();null===_&&v.flush(i.context.currentTime),v.add(s(t));const n=Array.from(v).pop();f.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return y},cancelScheduledValues:t=>(null===_&&v.flush(i.context.currentTime),v.add(r(t)),f.cancelScheduledValues(t),y),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===_&&v.flush(i.context.currentTime),v.add(a(t,e)),f.exponentialRampToValueAtTime(t,e),y},linearRampToValueAtTime:(t,e)=>(null===_&&v.flush(i.context.currentTime),v.add(l(t,e)),f.linearRampToValueAtTime(t,e),y),setTargetAtTime:(t,e,n)=>(null===_&&v.flush(i.context.currentTime),v.add(c(t,e,n)),f.setTargetAtTime(t,e,n),y),setValueAtTime:(t,e)=>(null===_&&v.flush(i.context.currentTime),v.add(u(t,e)),f.setValueAtTime(t,e),y),setValueCurveAtTime(t,e,n){const s=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,r=i.context.sampleRate,o=Math.ceil(e*r),a=Math.floor(t*r),l=a-o,c=new Float32Array(l);for(let t=0;t<l;t+=1){const i=(s.length-1)/n*((o+t)/r-e),a=Math.floor(i),l=Math.ceil(i);c[t]=a===l?s[a]:(1-(i-a))*s[a]+(1-(l-i))*s[l]}null===_&&v.flush(i.context.currentTime),v.add(h(c,e,n)),f.setValueCurveAtTime(c,e,n);const u=a/r;u<t&&y.setValueAtTime(c[c.length-1],u),y.setValueAtTime(s[s.length-1],t)}else null===_&&v.flush(i.context.currentTime),v.add(h(s,e,n)),f.setValueCurveAtTime(s,e,n);return y}};return n.set(y,f),e.set(y,i),t(y,_),y})((Ye=u,(t,e)=>{Ye.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Ae,h,0,o.createCancelAndHoldAutomationEvent,o.createCancelScheduledValuesAutomationEvent,o.createExponentialRampToValueAutomationEvent,o.createLinearRampToValueAutomationEvent,o.createSetTargetAutomationEvent,o.createSetValueAutomationEvent,o.createSetValueCurveAutomationEvent,Oe);var Ye;const Xe=((t,e,n,i,s,r,o,a)=>class extends t{constructor(t,i){const a=r(t),l={...V,...i},c=s(a,l),u=o(a),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,j,F)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){C(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),q(this)&&M(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Re,Qe,Ke,Ct,He,ke,Ce,ce),Ze=((t,e,n,i,s,r,o,a)=>class extends t{constructor(t,e){const n=r(t),i=o(n),l=s(n,e,i);super(t,!1,l,i?(t=>{let e=null;return{render:(n,i,s)=>(null===e&&(e=(async(e,n,i)=>{const s=n.destination;return await t(e,n,s,i),s})(n,i,s)),e)}})(a):null),this._isNodeOfNativeOfflineAudioContext=i,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Re,0,R,Ct,((t,e)=>(n,i,s)=>{const r=n.destination;if(r.channelCount!==i)try{r.channelCount=i}catch{}s&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:i});const o=t(n,{channelCount:i,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{r.channelCount=e}catch(t){if(e>r.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(Ut,ne),ke,Ce,we),Je=((t,e,n,i,s)=>()=>{const r=new WeakMap;return{render(o,a,l){const c=r.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=P(c,a);if(!u){const t={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,t)}return r.set(a,c),u?(await t(a,o.Q,c.Q,l),await t(a,o.detune,c.detune,l),await t(a,o.frequency,c.frequency,l),await t(a,o.gain,c.gain,l)):(await i(a,o.Q,c.Q,l),await i(a,o.detune,c.detune,l),await i(a,o.frequency,c.frequency,l),await i(a,o.gain,c.gain,l)),await s(o,a,c,l),c})(o,a,l)}}})($e,Vt,et,Ge,we),tn=(t=>(e,n)=>t.set(e,n))(pe),en=((t,e,n,i,s,r,o,a)=>class extends t{constructor(t,i){const l=r(t),c={...vt,...i},u=s(l,c),h=o(l);super(t,!1,u,h?n():null),this._Q=e(this,h,u.Q,j,F),this._detune=e(this,h,u.detune,1200*Math.log2(j),-1200*Math.log2(j)),this._frequency=e(this,h,u.frequency,t.sampleRate/2,0),this._gain=e(this,h,u.gain,40*Math.log10(j),F),this._nativeBiquadFilterNode=u,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){if(this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n),t.length!==e.length||e.length!==n.length)throw i()}})(Re,Ke,Je,At,Vt,ke,Ce,tn),nn=((t,e)=>(n,i,s)=>{const r=new Set;return n.connect=(s=>(o,a=0,l=0)=>{const c=0===r.size;if(e(o))return s.call(n,o,a,l),t(r,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),c&&i(),o;s.call(n,o,a),t(r,[o,a],(t=>t[0]===o&&t[1]===a),!0),c&&i()})(n.connect),n.disconnect=(t=>(i,o,a)=>{const l=r.size>0;if(void 0===i)t.apply(n),r.clear();else if("number"==typeof i){t.call(n,i);for(const t of r)t[1]===i&&r.delete(t)}else{e(i)?t.call(n,i,o,a):t.call(n,i,o);for(const t of r)t[0]!==i||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||r.delete(t)}const c=0===r.size;l&&c&&s()})(n.disconnect),n})(H,Pe),sn=((t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(i,(()=>{const t=i.numberOfInputs;for(let e=0;e<t;e+=1)s.connect(i,0,e)}),(()=>s.disconnect(i)))})(Ct,nn),rn=((t,e)=>(n,i)=>{const s=n.createChannelMerger(i.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,s),Rt(s,i),s})(Oe,sn),on=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,r,o){const a=i.get(r);return void 0!==a?Promise.resolve(a):(async(s,r,o)=>{let a=e(s);if(!P(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(r,e)}return i.set(r,a),await n(s,r,a,o),a})(s,r,o)}}})(rn,et,we),an=((t,e,n,i,s)=>class extends t{constructor(t,r){const o=i(t),a={..._t,...r};super(t,!1,n(o,a),s(o)?e():null)}})(Re,on,rn,ke,Ce),ln=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,r,o){const a=i.get(r);return void 0!==a?Promise.resolve(a):(async(s,r,o)=>{let a=e(s);if(!P(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(r,e)}return i.set(r,a),await n(s,r,a,o),a})(s,r,o)}}})(Lt,et,we),cn=((t,e,n,i,s,r)=>class extends t{constructor(t,r){const o=i(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...yt,...r});super(t,!1,n(o,a),s(o)?e():null)}})(Re,ln,Lt,ke,Ce),un=((t,e,n,i)=>(s,{offset:r,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...o,gain:r}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(s,l),i(zt(h,c),(()=>l.connect(c)),(()=>l.disconnect(c)))})(Ue,He,Ut,nn),hn=((t,e,n,i,s)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return Rt(a,o),It(a,o,"offset"),e(i,(()=>i(r)))||Ft(a),e(s,(()=>s(r)))||jt(a),t(r,a),a})(Ue,me,un,ie,re),dn=((t,e,n,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c,u){const h=r.get(c);return void 0!==h?Promise.resolve(h):(async(l,c,u)=>{let h=n(l);const d=P(h,c);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return r.set(c,h),d?await t(c,l.offset,h.offset,u):await i(c,l.offset,h.offset,u),await s(l,c,h,u),h})(l,c,u)}}})($e,hn,et,Ge,we),pn=((t,e,n,i,s,r,o)=>class extends t{constructor(t,o){const a=s(t),l={...bt,...o},c=i(a,l),u=r(a),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,j,F),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){C(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),q(this)&&M(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Re,Ke,dn,hn,ke,Ce,ce),fn=((t,e)=>(n,i)=>{const s=n.createConvolver();if(Rt(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),Dt(s,i,"buffer"),i.channelCount>2)throw t();if(e(s,"channelCount",(t=>()=>t.call(s)),(e=>n=>{if(n>2)throw t();return e.call(s,n)})),"max"===i.channelCountMode)throw t();return e(s,"channelCountMode",(t=>()=>t.call(s)),(e=>n=>{if("max"===n)throw t();return e.call(s,n)})),s})(Gt,ne),mn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,r,o){const a=i.get(r);return void 0!==a?Promise.resolve(a):(async(s,r,o)=>{let a=e(s);if(!P(a,r)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(r,e)}return i.set(r,a),K(a)?await n(s,r,a.inputs[0],o):await n(s,r,a,o),a})(s,r,o)}}})(fn,et,we),gn=((t,e,n,i,s,r)=>class extends t{constructor(t,o){const a=i(t),l={...wt,...o},c=n(a,l);super(t,!1,c,s(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Re,mn,fn,ke,Ce,tn),vn=((t,e,n,i,s)=>r=>{const o=new WeakMap;return{render(a,l,c){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l,c)=>{let u=n(a);const h=P(u,l);if(!h){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:r};u=e(l,t)}return o.set(l,u),h?await t(l,a.delayTime,u.delayTime,c):await i(l,a.delayTime,u.delayTime,c),await s(a,l,u,c),u})(a,l,c)}}})($e,Bt,et,Ge,we),_n=((t,e,n,i,s,r,o)=>class extends t{constructor(t,a){const l=s(t),c={...xt,...a},u=i(l,c),h=r(l);super(t,!1,u,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Re,Ke,vn,Bt,ke,Ce,tn),yn=(t=>(e,n)=>{const i=e.createDynamicsCompressor();if(Rt(i,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return It(i,n,"attack"),It(i,n,"knee"),It(i,n,"ratio"),It(i,n,"release"),It(i,n,"threshold"),i})(Gt),bn=((t,e,n,i,s)=>()=>{const r=new WeakMap;return{render(o,a,l){const c=r.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=P(c,a);if(!u){const t={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,t)}return r.set(a,c),u?(await t(a,o.attack,c.attack,l),await t(a,o.knee,c.knee,l),await t(a,o.ratio,c.ratio,l),await t(a,o.release,c.release,l),await t(a,o.threshold,c.threshold,l)):(await i(a,o.attack,c.attack,l),await i(a,o.knee,c.knee,l),await i(a,o.ratio,c.ratio,l),await i(a,o.release,c.release,l),await i(a,o.threshold,c.threshold,l)),await s(o,a,c,l),c})(o,a,l)}}})($e,yn,et,Ge,we),wn=((t,e,n,i,s,r,o,a)=>class extends t{constructor(t,s){const l=r(t),c={...St,...s},u=i(l,c),h=o(l);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Re,Ke,bn,yn,Gt,ke,Ce,tn),xn=((t,e,n,i,s)=>()=>{const r=new WeakMap;return{render(o,a,l){const c=r.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=P(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,t)}return r.set(a,c),u?await t(a,o.gain,c.gain,l):await i(a,o.gain,c.gain,l),await s(o,a,c,l),c})(o,a,l)}}})($e,Ut,et,Ge,we),kn=((t,e,n,i,s,r)=>class extends t{constructor(t,o){const a=s(t),l={...Tt,...o},c=i(a,l),u=r(a);super(t,!1,c,u?n():null),this._gain=e(this,u,c.gain,j,F)}get gain(){return this._gain}})(Re,Ke,xn,Ut,ke,Ce),Sn=((t,e,n,i)=>(s,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=qt(r,s.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw i();if(0===d[0])throw e();if(0===m||m>20)throw i();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const v=n(s,h,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=l;const _=[],y=[],b=[];for(let t=0;t<o;t+=1){_.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),b.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,i=e.numberOfChannels;for(let t=0;t<i;t+=1){const i=e.getChannelData(t),s=n.getChannelData(t);_[t]=Ot(d,f,p,m,g,y[t],b[t],_[t],32,i,s)}};const w=s.sampleRate/2;return zt({get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),getFrequencyResponse(e,n,i){if(e.length!==n.length||n.length!==i.length)throw t();const s=e.length;for(let t=0;t<s;t+=1){const s=-Math.PI*(e[t]/w),r=[Math.cos(s),Math.sin(s)],o=Wt($t(p,r),$t(d,r));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),i[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])},v)})(At,Ct,Ht,Gt),Tn=((t,e,n,i)=>s=>t(Pt,(()=>Pt(s)))?Promise.resolve(t(i,i)).then((t=>{if(!t){const t=n(s,512,0,1);s.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>s.currentTime,t.connect(s.destination)}return s.startRendering()})):new Promise((t=>{const n=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(s.destination),s.startRendering()})))(me,Ut,Ht,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{i.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Ut,Te)),Cn=((t,e,n,i,s)=>(r,o)=>{const a=new WeakMap;let l=null;return{render(c,u,h){const d=a.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,h)=>{let d=null,p=e(c);const f=P(p,u);if(void 0===u.createIIRFilter?d=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=u.createIIRFilter(o,r)),a.set(u,null===d?p:d),null!==d){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>(await i(c,t,t.destination,h),((t,e,n,i)=>{const s=n instanceof Float64Array?n:new Float64Array(n),r=i instanceof Float64Array?i:new Float64Array(i),o=s.length,a=r.length,l=Math.min(o,a);if(1!==s[0]){for(let t=0;t<o;t+=1)r[t]/=s[0];for(let t=1;t<a;t+=1)s[t]/=s[0]}const c=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),i=h.getChannelData(e);c.fill(0),u.fill(0),Ot(s,o,r,a,l,c,u,0,32,n,i)}return h})(await s(t),u,r,o)))()}const t=await l;return d.buffer=t,d.start(0),d}return await i(c,u,p,h),p})(c,u,h)}}})(He,et,Te,we,Tn),An=(t=>(e,n,i)=>{if(void 0===e.createIIRFilter)return t(e,n,i);const s=e.createIIRFilter(i.feedforward,i.feedback);return Rt(s,i),s})(Sn),Mn=((t,e,n,i,s,r)=>class extends t{constructor(t,o){const a=i(t),l=s(a),c={...Mt,...o},u=e(a,l?null:t.baseLatency,c);super(t,!1,u,l?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,i,s)=>{if(n.length!==i.length||i.length!==s.length)throw At();return e.call(t,n,i,s)})})(u),this._nativeIIRFilterNode=u,r(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Re,An,Cn,ke,Ce,tn),On=((t,e,n,i,s)=>(r,o)=>{const a=o.listener,{forwardX:l,forwardY:c,forwardZ:u,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const l=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),c=s(o),u=i(o,256,9,0),h=(e,i)=>{const s=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:i});return s.connect(l,0,e),s.start(),Object.defineProperty(s.offset,"defaultValue",{get:()=>i}),t({context:r},c,s.offset,j,F)};let d=[0,0,-1,0,1,0],p=[0,0,0];return u.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some(((t,e)=>t!==d[e]))&&(a.setOrientation(...e),d=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some(((t,e)=>t!==p[e]))&&(a.setPosition(...n),p=n)},l.connect(u),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return l},get forwardY(){return c},get forwardZ(){return u},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(Ke,rn,hn,Ht,Ce),En=new WeakMap,Pn=((t,e,n,i,s,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,d.set(this,n),i(n)&&s.set(n,new Set),this._destination=new t(this,r),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?r(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Ze,On,Me,Ce,En,ce),Dn=((t,e,n,i,s,r)=>(o,a)=>{const l=o.createOscillator();return Rt(l,a),It(l,a,"detune"),It(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Dt(l,a,"type"),e(n,(()=>n(o)))||Ft(l),e(i,(()=>i(o)))||r(l,o),e(s,(()=>s(o)))||jt(l),t(o,l),l})(Ue,me,ie,se,re,le),Rn=((t,e,n,i,s)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(c,u,h){const d=r.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,h)=>{let d=n(c);const p=P(d,u);if(!p){const t={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=e(u,t),null!==a&&d.start(a),null!==l&&d.stop(l)}return r.set(u,d),p?(await t(u,c.detune,d.detune,h),await t(u,c.frequency,d.frequency,h)):(await i(u,c.detune,d.detune,h),await i(u,c.frequency,d.frequency,h)),await s(c,u,d,h),d})(c,u,h)}}})($e,Dn,et,Ge,we),Nn=((t,e,n,i,s,r,o)=>class extends t{constructor(t,o){const a=s(t),l={...Kt,...o},c=n(a,l),u=r(a),h=u?i():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){C(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),q(this)&&M(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Re,Ke,Dn,Rn,ke,Ce,ce),In=(t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}})(He),Fn=((t,e,n,i,s)=>(r,{curve:o,oversample:a,...l})=>{const c=r.createWaveShaper(),u=r.createWaveShaper();Rt(c,l),Rt(u,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,v=null;const _={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,p.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),i=new Float32Array(t+2-t%2);e[0]=n[0],i[0]=-n[t-1];const s=Math.ceil((t+1)/2),r=(t+1)/2-1;for(let o=1;o<s;o+=1){const a=o/s*r,l=Math.floor(a),c=Math.ceil(a);e[o]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],i[o]=l===c?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(c-a))*n[t-1-c]}e[s]=t%2==1?n[s-1]:(n[s-2]+n[s-1])/2,c.curve=e,u.curve=i}v=n,g&&(i(v)&&null===m?m=t(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(_.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==_.oversample&&(_.oversample=a),s(zt(_,p),(()=>{h.connect(c).connect(p),h.connect(d).connect(u).connect(f).connect(p),g=!0,i(v)&&(m=t(r,h))}),(()=>{h.disconnect(c),c.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(In,Ct,Ut,ee,nn),jn=((t,e,n,i,s,r,o)=>(a,l)=>{const c=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name)return n(a,l);Rt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();Dt(c,{curve:u},"curve"),Dt(c,l,"oversample");let h=null,d=!1;return o(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),d&&(i(n)&&null===h?h=t(a,c):i(n)||null===h||(h(),h=null)),n))),s(c,(()=>{d=!0,i(c.curve)&&(h=t(a,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(In,Ct,Fn,ee,nn,Oe,ne),qn=((t,e,n,i,s,r,o,a,l)=>(c,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:v,panningModel:_,positionX:y,positionY:b,positionZ:w,refDistance:x,rolloffFactor:k,...S})=>{const T=c.createPanner();if(S.channelCount>2)throw o();if("max"===S.channelCountMode)throw o();Rt(T,S);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,{...C,channelInterpretation:"speakers",numberOfInputs:6}),M=i(c,{...S,gain:1}),O=i(c,{...C,gain:1}),E=i(c,{...C,gain:0}),P=i(c,{...C,gain:0}),D=i(c,{...C,gain:0}),R=i(c,{...C,gain:0}),N=i(c,{...C,gain:0}),I=s(c,256,6,1),F=r(c,{...C,curve:new Float32Array([1,1]),oversample:"none"});let j=[m,g,v],q=[y,b,w];I.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some(((t,e)=>t!==j[e]))&&(T.setOrientation(...e),j=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some(((t,e)=>t!==q[e]))&&(T.setPosition(...n),q=n)},Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0});const V={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(t){if(t>2)throw o();M.channelCount=t,T.channelCount=t},get channelCountMode(){return T.channelCountMode},set channelCountMode(t){if("max"===t)throw o();M.channelCountMode=t,T.channelCountMode=t},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(t){M.channelInterpretation=t,T.channelInterpretation=t},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(t){T.coneInnerAngle=t},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(t){T.coneOuterAngle=t},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();T.coneOuterGain=t},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(t){T.distanceModel=t},get inputs(){return[M]},get maxDistance(){return T.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;T.maxDistance=t},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return O.gain},get orientationY(){return E.gain},get orientationZ(){return P.gain},get panningModel(){return T.panningModel},set panningModel(t){T.panningModel=t},get positionX(){return D.gain},get positionY(){return R.gain},get positionZ(){return N.gain},get refDistance(){return T.refDistance},set refDistance(t){if(t<0)throw new RangeError;T.refDistance=t},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;T.rolloffFactor=t},addEventListener:(...t)=>M.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>M.dispatchEvent(t[0]),removeEventListener:(...t)=>M.removeEventListener(t[0],t[1],t[2])};return u!==V.coneInnerAngle&&(V.coneInnerAngle=u),h!==V.coneOuterAngle&&(V.coneOuterAngle=h),d!==V.coneOuterGain&&(V.coneOuterGain=d),p!==V.distanceModel&&(V.distanceModel=p),f!==V.maxDistance&&(V.maxDistance=f),m!==V.orientationX.value&&(V.orientationX.value=m),g!==V.orientationY.value&&(V.orientationY.value=g),v!==V.orientationZ.value&&(V.orientationZ.value=v),_!==V.panningModel&&(V.panningModel=_),y!==V.positionX.value&&(V.positionX.value=y),b!==V.positionY.value&&(V.positionY.value=b),w!==V.positionZ.value&&(V.positionZ.value=w),x!==V.refDistance&&(V.refDistance=x),k!==V.rolloffFactor&&(V.rolloffFactor=k),1===j[0]&&0===j[1]&&0===j[2]||T.setOrientation(...j),0===q[0]&&0===q[1]&&0===q[2]||T.setPosition(...q),l(zt(V,T),(()=>{M.connect(T),t(M,F,0,0),F.connect(O).connect(A,0,0),F.connect(E).connect(A,0,1),F.connect(P).connect(A,0,2),F.connect(D).connect(A,0,3),F.connect(R).connect(A,0,4),F.connect(N).connect(A,0,5),A.connect(I).connect(c.destination)}),(()=>{M.disconnect(T),a(M,F,0,0),F.disconnect(O),O.disconnect(A),F.disconnect(E),E.disconnect(A),F.disconnect(P),P.disconnect(A),F.disconnect(D),D.disconnect(A),F.disconnect(R),R.disconnect(A),F.disconnect(N),N.disconnect(A),A.disconnect(I),I.disconnect(c.destination)}))})(Y,Ct,rn,Ut,Ht,jn,Gt,tt,nn),Vn=(t=>(e,n)=>{const i=e.createPanner();return void 0===i.orientationX?t(e,n):(Rt(i,n),It(i,n,"orientationX"),It(i,n,"orientationY"),It(i,n,"orientationZ"),It(i,n,"positionX"),It(i,n,"positionY"),It(i,n,"positionZ"),Dt(i,n,"coneInnerAngle"),Dt(i,n,"coneOuterAngle"),Dt(i,n,"coneOuterGain"),Dt(i,n,"distanceModel"),Dt(i,n,"maxDistance"),Dt(i,n,"panningModel"),Dt(i,n,"refDistance"),Dt(i,n,"rolloffFactor"),i)})(qn),Ln=((t,e,n,i,s,r,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(d,p,f){const m=u.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=r(d);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},_={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=P(g,p);if("bufferSize"in g)m=i(p,{...v,gain:1});else if(!y){const t={..._,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=s(p,t)}if(u.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),i=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});i.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,i)=>{const s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===i?1:0});return await a(t,e,s.offset,f),s})));for(let t=0;t<6;t+=1)e[t].connect(i,0,t),e[t].start(0);return c(t)})()}const t=await h,r=i(p,{...v,gain:1});await l(d,p,r,f);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let g=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],b=i(p,{...v,gain:1}),w=s(p,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});r.connect(b).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some(((t,e)=>t!==g[e]))||n.some(((t,e)=>t!==y[e]))){g=t,y=n;const o=e/p.sampleRate;b.gain.setValueAtTime(0,o),b=i(p,{...v,gain:0}),w=s(p,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),b.gain.setValueAtTime(1,o),r.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return y?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),K(g)?await l(d,p,g.inputs[0],f):await l(d,p,g,f),g})(d,p,f)}}})($e,rn,hn,Ut,Vn,et,Te,Ge,we,Tn),zn=((t,e,n,i,s,r,o)=>class extends t{constructor(t,a){const l=s(t),c={...Yt,...a},u=n(l,c),h=r(l);super(t,!1,u,h?i():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,j,F),this._orientationY=e(this,h,u.orientationY,j,F),this._orientationZ=e(this,h,u.orientationZ,j,F),this._positionX=e(this,h,u.positionX,j,F),this._positionY=e(this,h,u.positionY,j,F),this._positionZ=e(this,h,u.positionZ,j,F),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Re,Ke,Vn,Ln,ke,Ce,tn),Bn=(t=>(e,{disableNormalization:n,imag:i,real:s})=>{const r=i instanceof Float32Array?i:new Float32Array(i),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(i).length<2)throw t();return a})(R),Un=((t,e,n,i)=>class i{constructor(i,s){const r=e(i),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Xt,...s}),a=t(r,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===i.prototype||n.has(t)}})(Bn,ke,new WeakSet),Wn=((t,e,n,i,s,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},h=(t,r,h,d,p)=>{if(1===r)return((t,e,s,r)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*l;h[t]=Math.cos(e),d[t]=Math.sin(e)}const p=n(t,{...c,gain:0}),f=i(t,{...u,curve:h}),m=i(t,{...u,curve:a}),g=n(t,{...c,gain:0}),v=i(t,{...u,curve:d});return{connectGraph(){e.connect(p),e.connect(m.inputs[0]),e.connect(g),m.connect(s),s.connect(f.inputs[0]),s.connect(v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(m.inputs[0]),e.disconnect(g),m.disconnect(s),s.disconnect(f.inputs[0]),s.disconnect(v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(t,h,d,p);if(2===r)return((t,s,r,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(t,{...c,gain:0}),y=i(t,{...u,curve:d}),b=n(t,{...c,gain:0}),w=i(t,{...u,curve:p}),x=i(t,{...u,curve:a}),k=n(t,{...c,gain:0}),S=i(t,{...u,curve:f}),T=n(t,{...c,gain:0}),C=i(t,{...u,curve:m});return{connectGraph(){s.connect(v),s.connect(x.inputs[0]),v.connect(_,0),v.connect(b,0),v.connect(k,1),v.connect(T,1),x.connect(r),r.connect(y.inputs[0]),r.connect(w.inputs[0]),r.connect(S.inputs[0]),r.connect(C.inputs[0]),y.connect(_.gain),w.connect(b.gain),S.connect(k.gain),C.connect(T.gain),_.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){s.disconnect(v),s.disconnect(x.inputs[0]),v.disconnect(_,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(T,1),x.disconnect(r),r.disconnect(y.inputs[0]),r.disconnect(w.inputs[0]),r.disconnect(S.inputs[0]),r.disconnect(C.inputs[0]),y.disconnect(_.gain),w.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),_.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,d,p);throw s()};return(e,{channelCount:i,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw s();const c=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),u=n(e,{...l,channelCount:i,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(e,i,u,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(e,t,u,d,c)),g&&p()),u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw s();u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[u]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2])};let g=!1;return r(zt(m,c),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(rn,Lt,Ut,jn,Gt,nn),$n=((t,e)=>(n,i)=>{const s=i.channelCountMode;if("clamped-max"===s)throw e();if(void 0===n.createStereoPanner)return t(n,i);const r=n.createStereoPanner();return Rt(r,i),It(r,i,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>s,set:t=>{if(t!==s)throw e()}}),r})(Wn,Gt),Hn=((t,e,n,i,s)=>()=>{const r=new WeakMap;return{render(o,a,l){const c=r.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=P(c,a);if(!u){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,t)}return r.set(a,c),u?await t(a,o.pan,c.pan,l):await i(a,o.pan,c.pan,l),K(c)?await s(o,a,c.inputs[0],l):await s(o,a,c,l),c})(o,a,l)}}})($e,$n,et,Ge,we),Gn=((t,e,n,i,s,r)=>class extends t{constructor(t,o){const a=s(t),l={...Zt,...o},c=n(a,l),u=r(a);super(t,!1,c,u?i():null),this._pan=e(this,u,c.pan)}get pan(){return this._pan}})(Re,Ke,$n,Hn,ke,Ce),Qn=((t,e,n)=>()=>{const i=new WeakMap;return{render(s,r,o){const a=i.get(r);return void 0!==a?Promise.resolve(a):(async(s,r,o)=>{let a=e(s);if(!P(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(r,e)}return i.set(r,a),K(a)?await n(s,r,a.inputs[0],o):await n(s,r,a,o),a})(s,r,o)}}})(jn,et,we),Kn=((t,e,n,i,s,r,o)=>class extends t{constructor(t,e){const a=s(t),l={...te,...e},c=n(a,l);super(t,!0,c,r(a)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Re,Ct,jn,Qn,ke,Ce,tn),Yn=(t=>null!==t&&t.isSecureContext)(_e),Xn=(t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(_e),Zn=new WeakMap,Jn=((t,e)=>n=>{let i=t.get(n);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,8e3),t.set(n,i),i})(Zn,Te),ti=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(_e),ei=Yn?((t,e,n,i,s,r,o,a,l,c,u,h)=>(d,p,f={credentials:"omit"})=>{const g=r(d),v=new URL(p,h.location.href).toString();if(void 0!==g.audioWorklet)return Promise.all([s(p),Promise.resolve(t(u,u))]).then((([t,e])=>{const[n,i]=y(t,v),s=e?i:i.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),r=new Blob([`${n};(registerProcessor=>{${s}\n})((n,p)=>registerProcessor(n,class extends p{${e?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${e?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(r);return g.audioWorklet.addModule(l,f).then((()=>{if(!a(g))return o(g).audioWorklet.addModule(l,f)})).finally((()=>URL.revokeObjectURL(l)))}));const _=c.get(d);if(void 0!==_&&_.has(p))return Promise.resolve();const x=l.get(d);if(void 0!==x){const t=x.get(p);if(void 0!==t)return t}const k=s(p).then((t=>{const[e,i]=y(t,v);return n(`${e};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=h._AWGS.pop();if(void 0===t)throw new SyntaxError;i(g.currentTime,g.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const i=m.get(g);if(void 0!==i){if(i.has(t))throw e();w(n),b(n.parameterDescriptors),i.set(t,n)}else w(n),b(n.parameterDescriptors),m.set(g,new Map([[t,n]]))}),g.sampleRate,void 0,void 0)))}));return void 0===x?l.set(d,new Map([[p,k]])):x.set(p,k),k.then((()=>{const t=c.get(d);void 0===t?c.set(d,new Set([p])):t.add(p)})).finally((()=>{const t=l.get(d);void 0!==t&&t.delete(p)})),k})(me,Gt,(t=>e=>new Promise(((n,i)=>{if(null===t)return void i(new SyntaxError);const s=t.document.head;if(null===s)i(new SyntaxError);else{const r=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,s,r,o)=>n===a||n===t.location.href&&1===s&&1===r?(c(),i(o),!1):null!==l?l(e,n,s,r,o):void 0,r.onerror=()=>{c(),i(new SyntaxError)},r.onload=()=>{c(),n()},r.src=a,r.type="module",s.appendChild(r)}})))(_e),Xn,(async t=>{try{const e=await fetch(t);if(e.ok)return e.text()}catch{}throw new DOMException("","AbortError")}),ke,Jn,Ce,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,8e3),s=URL.createObjectURL(n);let r=!1,o=!1;try{await i.audioWorklet.addModule(s);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>r=!0,e.onprocessorerror=()=>o=!0,n.connect(e),await i.startRendering()}catch{}finally{URL.revokeObjectURL(s)}return r&&!o})(ti,Te),_e):void 0,ni=((t,e)=>n=>t(n)||e(n))(Ee,Ce),ii=((t,e,n,i,s,r,o,a,l,c,u)=>(n,i)=>{const h=o(n)?n:r(n);if(s.has(i)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{s.add(i)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(i).then((n=>(e(a,(()=>a(n)))||u(n),t.add(n),n))):new Promise(((e,n)=>{const s=()=>{try{(t=>{const{port1:e}=new MessageChannel;e.postMessage(t,[t])})(i)}catch{}},r=t=>{n(t),s()};try{h.decodeAudioData(i,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),N(n)),t.add(n),s(),e(n)}),(t=>{r(null===t?new DOMException("","EncodingError"):t)}))}catch(t){r(t)}}))})(Fe,me,0,0,new WeakSet,ke,ni,D,Pt,Le,ze),si=((t,e,n,i,s,r,o,a,l,c,u,h,d,p,f,m,g,v,_,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(t,e,i){return new n({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new i(this)}createChannelMerger(t=6){return new r(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new _(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t))).catch((t=>{throw"function"==typeof n&&n(t),t}))}})(ei,Ie,Be,Xe,en,an,cn,pn,gn,ii,_n,wn,kn,Mn,Pn,Nn,zn,Un,Gn,Kn),ri=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),r=((t,e)=>t.createMediaElementSource(e.mediaElement))(s,e);if(i(s))throw TypeError();super(t,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Re,0,ke,Ce),oi=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t);if(i(s))throw new TypeError;const r=((t,e)=>{const n=t.createMediaStreamDestination();return Rt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(s,{...Et,...e});super(t,!1,r,null),this._nativeMediaStreamAudioDestinationNode=r}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Re,0,ke,Ce),ai=((t,e,n,i)=>class extends t{constructor(t,e){const s=n(t),r=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const i=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:e}),s})(s,e);if(i(s))throw new TypeError;super(t,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Re,0,ke,Ce),li=((t,e)=>(n,{mediaStreamTrack:i})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),r=n.createMediaStreamSource(s);if("audio"!==i.kind)throw t();if(e(n))throw new TypeError;return r})(Ct,Ce),ci=((t,e,n)=>class extends t{constructor(t,i){const s=n(t);super(t,!0,e(s,i),null)}})(Re,li,ke),ui=((t,e,n,i,s,r,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");const e=new l(t);if(null===e)throw i();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:s}=t,{sampleRate:r}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===s?512/r:"interactive"===s||void 0===s?256/r:"playback"===s?1024/r:128*Math.max(2,Math.min(128,Math.round(s*r/128)))/r,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),U(this)})))}createMediaElementSource(t){return new s(this,{mediaElement:t})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(si,Ct,Gt,Jt,ri,oi,ai,ci,Oe),hi=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(En),di=(t=>(e,n)=>{t(e).add(n)})(hi),pi=(t=>(e,n,i=0,s=0)=>{const r=e[i];if(void 0===r)throw t();return at(n)?r.connect(n,0,s):r.connect(n,0)})(R),fi=(t=>(e,n)=>{t(e).delete(n)})(hi),mi=(t=>(e,n,i,s=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?kt(t,e,n).disconnect():at(n)?void 0===i?e.forEach((t=>t.disconnect(n))):void 0===s?kt(t,e,i).disconnect(n,0):kt(t,e,i).disconnect(n,0,s):void 0===i?e.forEach((t=>t.disconnect(n))):kt(t,e,i).disconnect(n,0))(R),gi=new WeakMap,vi=((t,e)=>n=>e(t,n))(gi,x),_i=((t,e,n,i,s,r,o,a,l,c,u,h,d)=>(p,f,m,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw l();const _=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(_.some((t=>t<1)))throw l();if(_.length!==v.numberOfOutputs)throw e();if("explicit"!==v.channelCountMode)throw l();const y=v.channelCount*v.numberOfInputs,b=_.reduce(((t,e)=>t+e),0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(y+w>6||b>6)throw l();const x=new MessageChannel,k=[],S=[];for(let t=0;t<v.numberOfInputs;t+=1)k.push(o(p,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),S.push(s(p,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const T=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:i}of m.parameterDescriptors){const s=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[i]?v.parameterData[i]:void 0===t?0:t});Object.defineProperties(s.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?j:e},minValue:{get:()=>void 0===n?F:n}}),T.push(s)}const C=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+w)}),A=qt(f,p.sampleRate),M=a(p,A,y+w,Math.max(1,b)),O=s(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),E=[];for(let t=0;t<v.numberOfOutputs;t+=1)E.push(i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[t]}));for(let t=0;t<v.numberOfInputs;t+=1){k[t].connect(S[t]);for(let e=0;e<v.channelCount;e+=1)S[t].connect(C,e,t*v.channelCount+e)}const P=new ht(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=T[e];return n.connect(C,0,y+e),n.start(0),[t,n.offset]})));C.connect(M);let D=v.channelInterpretation,R=null;const N=0===v.numberOfOutputs?[M]:E,I={get bufferSize(){return A},get channelCount(){return v.channelCount},set channelCount(t){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return D},set channelInterpretation(t){for(const e of k)e.channelInterpretation=t;D=t},get context(){return M.context},get inputs(){return k},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(t){"function"==typeof R&&I.removeEventListener("processorerror",R),R="function"==typeof t?t:null,"function"==typeof R&&I.addEventListener("processorerror",R)},get parameters(){return P},get port(){return x.port2},addEventListener:(...t)=>M.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,N),disconnect:c.bind(null,N),dispatchEvent:(...t)=>M.dispatchEvent(t[0]),removeEventListener:(...t)=>M.removeEventListener(t[0],t[1],t[2])},q=new Map;var V,L;x.port1.addEventListener=(V=x.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=q.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(p.currentTime,p.sampleRate,(()=>e(t)))},q.set(e,t[1]))}}return V.call(x.port1,t[0],t[1],t[2])}),x.port1.removeEventListener=(L=x.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=q.get(t[1]);void 0!==e&&(q.delete(t[1]),t[1]=e)}return L.call(x.port1,t[0],t[1],t[2])});let z=null;Object.defineProperty(x.port1,"onmessage",{get:()=>z,set:t=>{"function"==typeof z&&x.port1.removeEventListener("message",z),z="function"==typeof t?t:null,"function"==typeof z&&(x.port1.addEventListener("message",z),x.port1.start())}}),m.prototype.port=x.port1;let B=null;const U=((t,e,n,i)=>{let s=g.get(t);void 0===s&&(s=new WeakMap,g.set(t,s));const r=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:t})=>{i.close(),s.close(),e(t)},i.onmessageerror=({data:t})=>{i.close(),s.close(),n(t)},s.postMessage(t)})))(e);return new t(n)})(n,i);return s.set(e,r),r})(p,I,m,v);U.then((t=>B=t));const W=mt(v.numberOfInputs,v.channelCount),$=mt(v.numberOfOutputs,_),H=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let G=!0;const Q=()=>{v.numberOfOutputs>0&&M.disconnect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=E[t];for(let i=0;i<_[t];i+=1)O.disconnect(n,e+i,i);e+=_[t]}},K=new Map;M.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==B){const n=h(I);for(let i=0;i<A;i+=128){for(let e=0;e<v.numberOfInputs;e+=1)for(let n=0;n<v.channelCount;n+=1)pt(t,W[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{pt(t,H,e,y+n,i)}));for(let t=0;t<v.numberOfInputs;t+=1)for(let e=0;e<_[t];e+=1)0===$[t][e].byteLength&&($[t][e]=new Float32Array(128));try{const t=W.map(((t,e)=>{if(n[e].size>0)return K.set(e,A/128),t;const i=K.get(e);return void 0===i?[]:(t.every((t=>t.every((t=>0===t))))&&(1===i?K.delete(e):K.set(e,i-1)),t)})),s=u(p.currentTime+i/p.sampleRate,p.sampleRate,(()=>B.process(t,$,H)));G=s;for(let t=0,n=0;t<v.numberOfOutputs;t+=1){for(let s=0;s<_[t];s+=1)ft(e,$[t],s,n+s,i);n+=_[t]}}catch(t){G=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!G){for(let t=0;t<v.numberOfInputs;t+=1){k[t].disconnect(S[t]);for(let e=0;e<v.channelCount;e+=1)S[i].disconnect(C,e,t*v.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=T[e];t.disconnect(C,0,y+e),t.stop()}}C.disconnect(M),M.onaudioprocess=null,Y?Q():J();break}}}};let Y=!1;const X=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>M.connect(X).connect(p.destination),J=()=>{M.disconnect(X),X.disconnect()};return Z(),d(I,(()=>{if(G){J(),v.numberOfOutputs>0&&M.connect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=E[t];for(let i=0;i<_[t];i+=1)O.connect(n,e+i,i);e+=_[t]}}Y=!0}),(()=>{G&&(Z(),Q()),Y=!1}))})(pi,R,Ct,rn,Lt,hn,Ut,Ht,Gt,mi,Xn,vi,nn),yi=((t,e,n,i,s)=>(r,o,a,l,c,u)=>{if(null!==a)try{const e=new a(r,l,u),i=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=i.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},i.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=i.get(t[1]);void 0!==e&&(i.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(r.destination),s(e,(()=>t.disconnect()),(()=>t.connect(r.destination)))}return e}catch(t){if(11===t.code)throw i();throw t}var h,d;if(void 0===c)throw i();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(r,o,c,u)})(Ct,_i,Ut,Gt,nn),bi=((t,e,n,i,s,r,o,a,l,c,u,h,d,p,f,m)=>(g,v,_)=>{const y=new WeakMap;let b=null;return{render(w,x,k){a(x,w);const S=y.get(x);return void 0!==S?Promise.resolve(S):(async(a,w,x)=>{let k=u(a),S=null;const T=P(k,w),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=s(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),r=[];for(let t=0;t<a.numberOfOutputs;t+=1)r.push(i(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const c=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=e.bind(null,r),c.disconnect=l.bind(null,r),S=[n,r,c]}else T||(k=new h(w,g));if(y.set(w,null===S?k:S[2]),null!==S){if(null===b){if(void 0===_)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),c=[],u=[];for(let t=0;t<v.numberOfInputs;t+=1)c.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(s(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset,x),e}))),g=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<v.channelCount;e+=1)u[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(c.map((t=>f(a,l,t,x)))),m(l)};b=gt(a,0===n?null:await l(),w,v,C,_,c)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=S;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=u[t];for(let i=0;i<C[t];i+=1)l.connect(n,e+i,i);e+=C[t]}return h}if(T)for(const[e,n]of a.parameters.entries())await t(w,n,k.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(w,e,k.parameters.get(t),x);return await f(a,w,k,x),k})(w,x,k)}}})($e,pi,He,rn,Lt,hn,Ut,fi,mi,Xn,et,ti,Te,Ge,we,Tn),wi=(t=>e=>t.get(e))(Zn),xi=(t=>(e,n)=>{t.set(e,n)})(gi),ki=Yn?((t,e,n,i,s,r,o,a,l,c,u,h,d)=>class extends e{constructor(e,u,d){var p;const f=a(e),g=l(f),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...dt,...d}),_=m.get(f),y=null==_?void 0:_.get(u),b=g||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,w=s(b,g?null:e.baseLatency,c,u,y,v);super(e,!0,w,g?i(u,v,y):null);const x=[];w.parameters.forEach(((t,e)=>{const i=n(this,g,t);x.push([e,i])})),this._nativeAudioWorkletNode=w,this._onprocessorerror=null,this._parameters=new ht(x),g&&t(f,this);const{activeInputs:k}=r(this);h(w,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(di,Re,Ke,bi,yi,L,wi,ke,Ce,ti,0,xi,ce):void 0,Si=((t,e)=>(n,i,s)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,s)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Gt,Te),Ti=((t,e,n,i,s,r,o,a)=>{const l=[];return(c,u)=>n(c).render(c,u,l).then((()=>Promise.all(Array.from(i(u)).map((t=>n(t).render(t,u,l)))))).then((()=>s(u))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),N(n)):e(r,(()=>r(n)))||a(n),t.add(n),n)))})(Fe,me,be,hi,Tn,D,Le,ze),Ci=((t,e,n,i,s)=>class extends t{constructor(t,n,s){let r;if("number"==typeof t&&void 0!==n&&void 0!==s)r={length:n,numberOfChannels:t,sampleRate:s};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");r=t}const{length:o,numberOfChannels:a,sampleRate:l}={...Qt,...r},c=i(a,o,l);e(Pt,(()=>Pt(c)))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,U(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(si,me,Ct,Si,Ti),Ai=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Ee),Mi=((t,e)=>n=>t.has(n)||e(n))(c,Pe),Oi=((t,e)=>n=>t.has(n)||e(n))(h,De),Ei=((t,e)=>n=>{const i=t.get(n);return e(i)||e(n)})(d,Ce),Pi=()=>(async(t,e,n,i,s,r,o,a,l,c,u,h,d,p,f,m)=>!!(t(e,e)&&t(n,n)&&t(s,s)&&t(r,r)&&t(a,a)&&t(l,l)&&t(c,c)&&t(u,u)&&t(h,h)&&t(d,d)&&t(p,p))&&(await Promise.all([t(i,i),t(o,o),t(f,f),t(m,m)])).every((t=>t)))(me,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(Te),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(Oe),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise((t=>{let n=!0;const i=i=>{n&&(n=!1,e.startRendering(),t(i instanceof TypeError))};let s;try{s=e.decodeAudioData(null,(()=>{}),i)}catch(t){i(t)}void 0!==s&&s.catch(i)}))})(Te),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(Oe),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Te),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,8e3),s=URL.createObjectURL(n);let r=!1;try{await i.audioWorklet.addModule(s);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();e.port.onmessage=()=>r=!0,n.connect(e),n.start(0),await i.startRendering(),r||await new Promise((t=>setTimeout(t,5)))}catch{}finally{URL.revokeObjectURL(s)}return r})(ti,Te),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Te),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);return void 0===e.createConstantSource||e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Te),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(Te),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Te),oe,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(_e),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(Oe),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),i=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,i.channelCount=1,n.start(),n.connect(i).connect(e.destination),e.startRendering().then((t=>1!==t.getChannelData(0)[0]))})(Te),ae);function Di(t,e){if(!t)throw new Error(e)}function Ri(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Ni(t){t.isOffline||"running"===t.state||qi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ii=console;function Fi(t){Ii=t}function ji(...t){Ii.log(...t)}function qi(...t){Ii.warn(...t)}function Vi(t){return void 0===t}function Li(t){return!Vi(t)}function zi(t){return"function"==typeof t}function Bi(t){return"number"==typeof t}function Ui(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Wi(t){return"boolean"==typeof t}function $i(t){return Array.isArray(t)}function Hi(t){return"string"==typeof t}function Gi(t){return Hi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Qi="object"==typeof self?self:null,Ki=Qi&&(Qi.hasOwnProperty("AudioContext")||Qi.hasOwnProperty("webkitAudioContext"));function Yi(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function Xi(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}Object.create,Object.create;class Zi{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ji(t){return Oi(t)}function ts(t){return Mi(t)}function es(t){return Ei(t)}function ns(t){return Ai(t)}function is(t){return t instanceof AudioBuffer}function ss(t,e){return"value"===t||Ji(e)||ts(e)||is(e)}function rs(t,...e){if(!e.length)return t;const n=e.shift();if(Ui(t)&&Ui(n))for(const e in n)ss(e,n[e])?t[e]=n[e]:Ui(n[e])?(t[e]||Object.assign(t,{[e]:{}}),rs(t[e],n[e])):Object.assign(t,{[e]:n[e]});return rs(t,...e)}function os(t,e,n=[],i){const s={},r=Array.from(e);if(Ui(r[0])&&i&&!Reflect.has(r[0],i)&&(Object.keys(r[0]).some((e=>Reflect.has(t,e)))||(rs(s,{[i]:r[0]}),n.splice(n.indexOf(i),1),r.shift())),1===r.length&&Ui(r[0]))rs(s,r[0]);else for(let t=0;t<n.length;t++)Li(r[t])&&(s[n[t]]=r[t]);return rs(t,s)}function as(t,e){return Vi(t)?e:t}function ls(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class cs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Qi&&this.toString()===Qi.TONE_DEBUG_CLASS)&&ji(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}cs.version=r;const us=1e-6;function hs(t,e){return t>e+us}function ds(t,e){return hs(t,e)||fs(t,e)}function ps(t,e){return t+us<e}function fs(t,e){return Math.abs(t-e)<us}function ms(t,e,n){return Math.max(Math.min(t,n),e)}class gs extends cs{constructor(){super(),this.name="Timeline",this._timeline=[];const t=os(gs.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Di(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Di(ds(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(fs(this._timeline[e].time,t)){for(let n=e;n>=0&&fs(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&ds(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][e]<=t)return i-1;for(;n<s;){let i=Math.floor(n+(s-n)/2);const r=this._timeline[i],o=this._timeline[i+1];if(fs(r[e],t)){for(let n=i;n<this._timeline.length&&fs(this._timeline[n][e],t);n++)i=n;return i}if(ps(r[e],t)&&hs(o[e],t))return i;hs(r[e],t)?s=i:n=i+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let i=this._search(t),s=this._search(e);return-1!==i&&-1!==s?(this._timeline[i].time!==t&&(i+=1),this._timeline[s].time===e&&(s-=1),this._iterate(n,i,s)):-1===i&&this._iterate(n,0,s),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&fs(this._timeline[n].time,t)){let i=n;for(let e=n;e>=0&&fs(this._timeline[e].time,t);e--)i=e;this._iterate((t=>{e(t)}),i,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const vs=[];function _s(t){vs.push(t)}const ys=[];function bs(t){ys.push(t)}class ws extends cs{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Vi(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...i)=>{e(...i),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(Vi(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Vi(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,i=n.length;t<i;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(ws.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class xs extends ws{constructor(){super(...arguments),this.isOffline=!1}}class ks extends xs{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new gs,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=os(ks.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new ui(t)}({latencyHint:t.latencyHint}),this._ticker=new Zi(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,vs.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Di(ns(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaStreamDestination(){return Di(ns(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Di(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Di(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Di(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Di(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Di(Li(ki),"This node only works in a secure context (https or localhost)"),new ki(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Xi(this,void 0,void 0,(function*(){Di(Li(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Xi(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Hi(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return"suspended"===this._context.state&&ns(this._context)?this._context.resume():Promise.resolve()}close(){return Xi(this,void 0,void 0,(function*(){var t;ns(this._context)&&(yield this._context.close()),this._initialized&&(t=this,ys.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants.set(t,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{t(),i()},id:n,time:s+e})};return i(),n}}function Ss(t,e){$i(e)?e.forEach((e=>Ss(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ts(t,e){$i(e)?e.forEach((e=>Ts(t,e))):Object.defineProperty(t,e,{writable:!0})}const Cs=()=>{};class As extends cs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Cs;const t=os(As.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&is(t.url)||t.url instanceof As?this.set(t.url):Hi(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Cs,onload:Cs,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ps().sampleRate}set(t){return t instanceof As?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Xi(this,void 0,void 0,(function*(){const e=As.load(t).then((t=>{this.set(t),this.onload(this)}));As.downloads.push(e);try{yield e}finally{const t=As.downloads.indexOf(e);As.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=$i(t)&&t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,s=Ps(),r=s.createBuffer(n,i,s.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)r.copyToChannel(o[t],t);return this._buffer=r,this}toMono(t){if(Bi(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Bi(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),i=Math.floor(e*this.sampleRate);Di(n<i,"The start time must be less than the end time");const s=i-n,r=Ps().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)r.copyToChannel(this.getChannelData(t).subarray(n,i),t);return new As(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new As).fromArray(t)}static fromUrl(t){return Xi(this,void 0,void 0,(function*(){const e=new As;return yield e.load(t)}))}static load(t){return Xi(this,void 0,void 0,(function*(){const e=t.match(/\[(.+\|?)+\]$/);if(e){const n=e[1].split("|");let i=n[0];for(const t of n)if(As.supportsType(t)){i=t;break}t=t.replace(e[0],i)}const n=""===As.baseUrl||As.baseUrl.endsWith("/")?As.baseUrl:As.baseUrl+"/",i=yield fetch(n+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const s=yield i.arrayBuffer();return yield Ps().decodeAudioData(s)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Xi(this,void 0,void 0,(function*(){for(yield Promise.resolve();As.downloads.length;)yield As.downloads[0]}))}}As.baseUrl="",As.downloads=[];class Ms extends ks{constructor(){var t,e,n;super({clockSource:"offline",context:es(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Ci(t,e,n)),lookAhead:0,updateInterval:es(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=es(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Xi(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return Xi(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new As(e)}))}close(){return Promise.resolve()}}const Os=new class extends xs{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Xi(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Es=Os;function Ps(){return Es===Os&&Ki&&Ds(new ks),Es}function Ds(t){Es=ns(t)?new ks(t):es(t)?new Ms(t):t}function Rs(){return Es.resume()}if(Qi&&!Qi.TONE_SILENCE_LOGGING){let t="v";"dev"===r&&(t="");const e=` * Tone.js ${t}${r} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Ns(t){return Math.pow(10,t/20)}function Is(t){return Math.log(t)/Math.LN10*20}function Fs(t){return Math.pow(2,t/12)}let js=440;function qs(t){return Math.round(Vs(t))}function Vs(t){return 69+12*Math.log2(t/js)}function Ls(t){return js*Math.pow(2,(t-69)/12)}class zs extends cs{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),i="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/n)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof zs&&this.fromType(this._val),Vi(this._val))return this._noArg();if(Hi(this._val)&&Vi(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Ui(this._val)){let t=0;for(const e in this._val)if(Li(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Li(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Hi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Bs extends zs{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Bs(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),i=this.valueOf();return i+(Math.round(i/n)*n-i)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],i=new Bs(this.context,e[0]).toSeconds();return e.forEach((e=>{const s=new Bs(this.context,e).toSeconds();Math.abs(s-t)<Math.abs(i-t)&&(n=e,i=s)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let i=e%1*4;e=Math.floor(e)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[n,e,i].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return qs(this.toFrequency())}_now(){return this.context.now()}}function Us(t,e){return new Bs(Ps(),t,e)}class Ws extends Bs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return js}static set A4(t){!function(t){js=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Ws.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=$s[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Ws.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}})}transpose(t){return new Ws(this.context,this.valueOf()*Fs(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return qs(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Ws.A4);let n=Math.round(12*e)+57;const i=Math.floor(n/12);return i<0&&(n+=-12*i),Hs[n%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Ls(t)}static ftom(t){return qs(t)}}const $s={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Hs=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Gs(t,e){return new Ws(Ps(),t,e)}class Qs extends Bs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Ks(t,e){return new Qs(Ps(),t,e)}class Ys extends cs{constructor(){super();const t=os(Ys.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Ps()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Bs(this.context,t).toSeconds()}toFrequency(t){return new Ws(this.context,t).toFrequency()}toTicks(t){return new Qs(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Vi(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Li(n)&&Li(n.value)&&Li(n.setValueAtTime)?t[e]=n.value:n instanceof Ys?t[e]=n._getPartialProperties(t[e]):$i(n)||Bi(n)||Hi(n)||Wi(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Li(this[e])&&(this[e]&&Li(this[e].value)&&Li(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Ys?this[e].set(t[e]):this[e]=t[e])})),this}}class Xs extends gs{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ri(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class Zs extends Ys{constructor(){super(os(Zs.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=os(Zs.getDefaults(),arguments,["param","units","convert"]);for(Di(Li(t.param)&&(Ji(t.param)||t.param instanceof Zs),"param must be an AudioParam");!Ji(t.param);)t.param=t.param._param;this._swappable=!!Li(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new gs(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Li(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ys.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Li(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Li(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Li(this.maxValue)&&Li(this.minValue)&&Ri(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ns(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Is(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),i=this._fromType(t);return Di(isFinite(i)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),i=this._events.get(e);let s=this._initialValue;if(null===i)s=this._initialValue;else if("setTargetAtTime"!==i.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)s=i.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=i.value;if("setTargetAtTime"===i.type){const e=this._events.getBefore(i.time);t=null===e?this._initialValue:e.value}s="linearRampToValueAtTime"===n.type?this._linearInterpolate(i.time,t,n.time,n.value,e):this._exponentialInterpolate(i.time,t,n.time,n.value,e)}else s=i.value;else{const t=this._events.getBefore(i.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===i.type&&(s=this._exponentialApproach(i.time,n,i.value,i.constant,e))}return this._toType(s)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:i,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,i),this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Math.max(this._minOutput,n),this._assertRange(n);const i=this.toSeconds(e);return Di(isFinite(n)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,i),this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const i=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const i=this._fromType(t);Di(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(e);return this._assertRange(i),Di(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",t,s,n),this._param.setTargetAtTime(i,s,n),this}setValueCurveAtTime(t,e,n,i=1){n=this.toSeconds(n),e=this.toSeconds(e);const s=this._fromType(t[0])*i;this.setValueAtTime(this._toType(s),e);const r=n/(t.length-1);for(let n=1;n<t.length;n++){const s=this._fromType(t[n])*i;this.linearRampToValueAtTime(this._toType(s),e+n*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Di(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Di(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const i=this._events.get(e),s=this._events.getAfter(e);return i&&fs(i.time,e)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),"linearRampToValueAtTime"===s.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===s.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const i=this._events.getAfter(n.time),s=i?i.time:e+2,r=(s-e)/10;for(let n=e;n<s;n+=r)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Di(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,i,s){return n+(e-n)*Math.exp(-(s-t)/i)}_linearInterpolate(t,e,n,i,s){return e+(s-t)/(n-t)*(i-e)}_exponentialInterpolate(t,e,n,i,s){return e*Math.pow(i/e,(s-t)/(n-t))}}class Js extends Ys{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Li(this.input)?Ji(this.input)||this.input instanceof Zs?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Li(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Li(t)&&(t instanceof Js||ts(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Di(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return er(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return qi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return nr(this,t,e,n),this}chain(...t){return tr(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Li(this.input)&&(this.input instanceof Js?this.input.dispose():ts(this.input)&&this.input.disconnect()),Li(this.output)&&(this.output instanceof Js?this.output.dispose():ts(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function tr(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof Js?t.connect(e):ts(t)&&er(t,e),e)),e)}function er(t,e,n=0,i=0){for(Di(Li(t),"Cannot connect from undefined node"),Di(Li(e),"Cannot connect to undefined node"),(e instanceof Js||ts(e))&&Di(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Di(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Js||e instanceof Zs;)Li(e.input)&&(e=e.input);for(;t instanceof Js;)Li(t.output)&&(t=t.output);Ji(e)?t.connect(e,n):t.connect(e,n,i)}function nr(t,e,n=0,i=0){if(Li(e))for(;e instanceof Js;)e=e.input;for(;!ts(t);)Li(t.output)&&(t=t.output);Ji(e)?t.disconnect(e,n):ts(e)?t.disconnect(e,n,i):t.disconnect()}class ir extends Js{constructor(){super(os(ir.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=os(ir.getDefaults(),arguments,["gain","units"]);this.gain=new Zs({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ss(this,"gain")}static getDefaults(){return Object.assign(Js.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class sr extends Js{constructor(t){super(t),this.onended=Cs,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ir({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Js.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Cs})}_startGain(t,e=1){Di(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Di(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Cs&&(this.onended(this),this.onended=Cs,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Di(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class rr extends sr{constructor(){super(os(rr.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=os(rr.getDefaults(),arguments,["offset"]);er(this._source,this._gainNode),this.offset=new Zs({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(sr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class or extends Js{constructor(){super(os(or.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=os(or.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new rr({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Js.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return ar(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,i){return this._param.setValueCurveAtTime(t,e,n,i),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function ar(t,e,n,i){(e instanceof Zs||Ji(e)||e instanceof or&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof or&&(e.overridden=!0)),er(t,e,n,i)}class lr extends Zs{constructor(){super(os(lr.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new gs(1/0),this._multiplier=1;const t=os(lr.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Zs.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const i=this._fromType(t),s=this._events.get(e),r=Math.round(Math.max(1/n,1));for(let t=0;t<=r;t++){const r=n*t+e,o=this._exponentialApproach(s.time,s.value,i,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),r=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const i=this._events.get(n),s=this._events.previousEvent(i),r=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(10*(e-i.time),1)),r=(e-i.time)/s;for(let t=0;t<=s;t++){const s=r*t+i.time,o=this._exponentialInterpolate(i.time,i.value,e,n,s);this.linearRampToValueAtTime(this._toType(o),s)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Vi(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let i=this._fromType(this.getValueAtTime(e));const s=this._events.get(e);return s&&s.time===e&&"setValueAtTime"===s.type&&(i=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+i)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const i=this._fromType(this.getValueAtTime(e.time)),s=(this._fromType(this.getValueAtTime(n.time))-i)/(n.time-e.time),r=Math.sqrt(Math.pow(i,2)-2*s*(e.ticks-t)),o=(-i+r)/s,a=(-i-r)/s;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),i=this.toSeconds(t),s=this.getTicksAtTime(n);return this.getTicksAtTime(n+i)-s}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class cr extends or{constructor(){super(os(cr.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=os(cr.getDefaults(),arguments,["value"]);this.input=this._param=new lr({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(or.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ur extends Ys{constructor(){super(os(ur.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Xs,this._tickOffset=new gs;const t=os(ur.getDefaults(),arguments,["frequency"]);this.frequency=new cr({context:this.context,units:t.units,value:t.frequency}),Ss(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ys.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Li(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let s=n,r=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(r=n.ticks,e=n.time),"started"===s.state&&"started"!==t.state&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),s=t})),this._state.remove(i),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let i=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.seconds,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=t.time-e),i=t})),this._state.remove(n),s}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),i=this._state.get(e),s=Math.max(n.time,i.time),r=this.frequency.getTicksAtTime(s)+t-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,n){let i=this._state.get(t);this._state.forEachBetween(t,e,(e=>{i&&"started"===i.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(i.time,t),e.time-this.sampleTime,n),i=e}));let s=null;if(i&&"started"===i.state){const r=Math.max(i.time,t),o=this.frequency.getTicksAtTime(r),a=o-this.frequency.getTicksAtTime(i.time);let l=Math.ceil(a)-a;l=fs(l,1)?0:l;let c=this.frequency.getTimeOfTick(o+l);for(;c<e;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(t){s=t;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class hr extends Ys{constructor(){super(os(hr.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Cs,this._lastUpdate=0,this._state=new Xs("stopped"),this._boundLoop=this._loop.bind(this);const t=os(hr.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new ur({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ss(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ys.getDefaults(),{callback:Cs,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Ni(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),i=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(i+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ws.mixin(hr);class dr extends Js{constructor(){super(os(dr.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=os(dr.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Zs({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ss(this,"delayTime")}static getDefaults(){return Object.assign(Js.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function pr(t,e,n=2,i=Ps().sampleRate){return Xi(this,void 0,void 0,(function*(){const s=Ps(),r=new Ms(n,e,i);Ds(r),yield t(r);const o=r.render();Ds(s);const a=yield o;return new As(a)}))}class fr extends cs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=os(fr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Cs,onload:Cs,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Di(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=Cs,i=Cs){return Hi(e)?this._buffers.set(t.toString(),new As(this.baseUrl+e,n,i)):this._buffers.set(t.toString(),new As(e,n,i)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class mr extends Ws{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return qs(super._frequencyToUnits(t))}_ticksToUnits(t){return qs(super._ticksToUnits(t))}_beatsToUnits(t){return qs(super._beatsToUnits(t))}_secondsToUnits(t){return qs(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Ls(this.toMidi())}transpose(t){return new mr(this.context,this.toMidi()+t)}}function gr(t,e){return new mr(Ps(),t,e)}class vr extends Qs{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function _r(t,e){return new vr(Ps(),t,e)}class yr extends Ys{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new gs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_s((t=>{t.draw=new yr({context:t})})),bs((t=>{t.draw.dispose()}));class br extends cs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Di(Li(t.time),"Events must have a time property"),Di(Li(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new wr(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),i=t.right;i&&(t.right=i.left,i.left=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),i=t.left;i&&(t.left=i.right,i.right=t),null!==e?n?e.left=i:e.right=i:this._setRoot(i)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class wr{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class xr extends Js{constructor(){super(os(xr.getDefaults(),arguments,["volume"])),this.name="Volume";const t=os(xr.getDefaults(),arguments,["volume"]);this.input=this.output=new ir({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Ss(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kr extends Js{constructor(){super(os(kr.getDefaults(),arguments)),this.name="Destination",this.input=new xr({context:this.context}),this.output=new ir({context:this.context}),this.volume=this.input.volume;const t=os(kr.getDefaults(),arguments);tr(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Js.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),tr(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_s((t=>{t.destination=new kr({context:t})})),bs((t=>{t.destination.dispose()}));class Sr extends cs{constructor(t){super(),this.name="TimelineValue",this._timeline=new gs({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Tr{constructor(t,e){this.id=Tr._eventId++;const n=Object.assign(Tr.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Cs,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Tr._eventId=0;class Cr extends Tr{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Cr.getDefaults(),e);this.duration=new vr(t.context,n.duration).valueOf(),this._interval=new vr(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Tr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vr(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new vr(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vr(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Ar extends Ys{constructor(){super(os(Ar.getDefaults(),arguments)),this.name="Transport",this._loop=new Sr(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new gs,this._repeatedEvents=new br,this._syncedSignals=[],this._swingAmount=0;const t=os(Ar.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new hr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ss(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Ys.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(n*Math.PI)*this._swingAmount;t+=new vr(this.context,2*this._swingTicks/3).toSeconds()*i}this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new Tr(this,{callback:t,time:new Qs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,i=1/0){const s=new Cr(this,{callback:t,duration:new Bs(this.context,i).toTicks(),interval:new Bs(this.context,e).toTicks(),time:new Qs(this.context,n).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(t,e){const n=new Tr(this,{callback:t,once:!0,time:new Qs(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new vr(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Li(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){$i(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Bs(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Bs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new vr(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new vr(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),i=this._clock.getTimeOfTick(Math.ceil(n));this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/i}else e=0}const n=new ir(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ts(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ws.mixin(Ar),_s((t=>{t.transport=new Ar({context:t})})),bs((t=>{t.transport.dispose()}));class Mr extends Js{constructor(t){super(t),this.input=void 0,this._state=new Xs("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Cs,this._syncedStop=Cs,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new xr({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ss(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Js.getDefaults(),{mute:!1,onstop:Cs,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let i=Vi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._synced||"started"!==this._state.getValueAtTime(i))if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const t=this._state.get(i);t&&(t.offset=this.toSeconds(as(e,0)),t.duration=n?this.toSeconds(n):void 0);const s=this.context.transport.schedule((t=>{this._start(t,e,n)}),i);this._scheduled.push(s),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ni(this.context),this._start(i,e,n);else Di(hs(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,e,n);return this}stop(t){let e=Vi(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Li(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const i=e-this.toSeconds(n.time);let s;n.duration&&(s=this.toSeconds(n.duration)-i),this._start(t,this.toSeconds(n.offset)+i,s)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Cs,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Or extends sr{constructor(){super(os(Or.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=os(Or.getDefaults(),arguments,["url","onload"]);er(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Zs({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new As(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(sr.getDefaults(),{url:new As,loop:!1,loopEnd:0,loopStart:0,onload:Cs,onerror:Cs,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,i=1){Di(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(t);this._startGain(s,i),e=this.loop?as(e,this.loopStart):as(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;ds(r,t)&&(r=(r-e)%n+e),fs(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ps(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,r)),Li(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(s+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Er extends Mr{constructor(){super(os(Er.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=os(Er.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Mr.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Di(t in Rr,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=Rr[this._type];this._source=new Or({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Pr=220500,Dr={brown:null,pink:null,white:null},Rr={get brown(){if(!Dr.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Pr);t[e]=n;let i=0;for(let t=0;t<Pr;t++){const e=2*Math.random()-1;n[t]=(i+.02*e)/1.02,i=n[t],n[t]*=3.5}}Dr.brown=(new As).fromArray(t)}return Dr.brown},get pink(){if(!Dr.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Pr);let i,s,r,o,a,l,c;t[e]=n,i=s=r=o=a=l=c=0;for(let t=0;t<Pr;t++){const e=2*Math.random()-1;i=.99886*i+.0555179*e,s=.99332*s+.0750759*e,r=.969*r+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=i+s+r+o+a+l+c+.5362*e,n[t]*=.11,c=.115926*e}}Dr.pink=(new As).fromArray(t)}return Dr.pink},get white(){if(!Dr.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(Pr);t[e]=n;for(let t=0;t<Pr;t++)n[t]=2*Math.random()-1}Dr.white=(new As).fromArray(t)}return Dr.white}};class Nr extends Js{constructor(){super(os(Nr.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=os(Nr.getDefaults(),arguments,["volume"]);this._volume=this.output=new xr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ss(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(Js.getDefaults(),{mute:!1,volume:0})}open(t){return Xi(this,void 0,void 0,(function*(){Di(Nr.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield Nr.enumerateDevices();Bi(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),Di(Li(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const i=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=i;const t=this.context.createMediaStreamSource(i);er(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Xi(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Li(navigator.mediaDevices)&&Li(navigator.mediaDevices.getUserMedia)}}function Ir(t,e){return Xi(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,i=new Ms(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)}))}class Fr extends sr{constructor(){super(os(Fr.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=os(Fr.getDefaults(),arguments,["frequency","type"]);er(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Zs({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Zs({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Ss(this,["frequency","detune"])}static getDefaults(){return Object.assign(sr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class jr extends Mr{constructor(){super(os(jr.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=os(jr.getDefaults(),arguments,["frequency","type"]);this.frequency=new or({context:this.context,units:"frequency",value:t.frequency}),Ss(this,"frequency"),this.detune=new or({context:this.context,units:"cents",value:t.detune}),Ss(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Mr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Fr({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return jr._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=jr._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Li(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e,n);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),jr._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),jr._periodicWaveCache.length>100&&jr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ri(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const i=new Float32Array(n),s=new Float32Array(n);let r=1;if("custom"===t){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[i,s]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(r=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=r?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(i[o]=-a*Math.sin(e*o),s[o]=a*Math.cos(e*o)):(i[o]=0,s[o]=0)}return[i,s]}_inverseFFT(t,e,n){let i=0;const s=t.length;for(let r=0;r<s;r++)i+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return i}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const i=2*Math.PI;for(let s=0;s<32;s++)n=Math.max(this._inverseFFT(t,e,s/32*i),n);return ms(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}jr._periodicWaveCache=[];class qr extends Js{constructor(){super(Object.assign(os(qr.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return ar(this,t,e,n),this}}class Vr extends qr{constructor(){super(Object.assign(os(Vr.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=os(Vr.getDefaults(),arguments,["mapping","length"]);$i(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):zi(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(or.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let i=0,s=e;i<s;i++){const e=i/(s-1)*2-1;n[i]=t(e,i)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Di(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Lr extends qr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Vr({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class zr extends or{constructor(){super(Object.assign(os(zr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=os(zr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ir({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(or.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Br extends Mr{constructor(){super(os(Br.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Lr({context:this.context}),this._modulationNode=new ir({context:this.context});const t=os(Br.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new jr({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new zr({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ss(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(jr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ur extends Mr{constructor(){super(os(Ur.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ir({context:this.context,gain:0});const t=os(Ur.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new jr({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new or({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new jr({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new zr({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new zr({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ss(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(jr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Wr extends Mr{constructor(){super(os(Wr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ir({context:this.context,gain:0}),this._thresh=new Vr({context:this.context,mapping:t=>t<=0?-1:1});const t=os(Wr.getDefaults(),arguments,["frequency","width"]);this.width=new or({context:this.context,units:"audioRange",value:t.width}),this._triangle=new jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ss(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Mr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class $r extends Mr{constructor(){super(os($r.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=os($r.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new or({context:this.context,units:"frequency",value:t.frequency}),this.detune=new or({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ss(this,["frequency","detune"])}static getDefaults(){return Object.assign(jr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+n*i))}}get count(){return this._oscillators.length}set count(t){if(Ri(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new jr({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Cs});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Hr extends Mr{constructor(){super(os(Hr.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new zr({context:this.context,value:2});const t=os(Hr.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Wr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ss(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Mr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Gr={am:Br,fat:$r,fm:Ur,oscillator:jr,pulse:Wr,pwm:Hr};class Qr extends Mr{constructor(){super(os(Qr.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=os(Qr.getDefaults(),arguments,["frequency","type"]);this.frequency=new or({context:this.context,units:"frequency",value:t.frequency}),this.detune=new or({context:this.context,units:"cents",value:t.detune}),Ss(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(jr.getDefaults(),Ur.getDefaults(),Br.getDefaults(),$r.getDefaults(),Wr.getDefaults(),Hr.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Gr[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Gr[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Bi(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Bi(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Hi(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){return Ir(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Kr extends or{constructor(){super(Object.assign(os(Kr.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new ir({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,tr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(or.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Yr extends qr{constructor(){super(Object.assign(os(Yr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=os(Yr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new zr({context:this.context,value:t.max-t.min}),this._add=this.output=new Kr({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(qr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Xr extends qr{constructor(){super(Object.assign(os(Xr.getDefaults(),arguments))),this.name="Zero",this._gain=new ir({context:this.context}),this.output=this._gain,this.input=void 0,er(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),nr(this.context.getConstant(0),this._gain),this}}class Zr extends Js{constructor(){super(os(Zr.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Zs.prototype._fromType,this._toType=Zs.prototype._toType,this._is=Zs.prototype._is,this._clampValue=Zs.prototype._clampValue;const t=os(Zr.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new jr({context:this.context,frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ir({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new or({context:this.context,units:"audioRange",value:0}),this._zeros=new Xr({context:this.context}),this._a2g=new Lr({context:this.context}),this._scaler=this.output=new Yr({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._a2g,this._amplitudeGain,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ss(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Js.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,phase:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof Zs||t instanceof or)&&(this.convert=t.convert,this.units=t.units),ar(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Jr(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(i,t,e),n.set(this,i)}})}}function to(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Ri(this.toSeconds(i),t,e),n.set(this,i)}})}}class eo extends Mr{constructor(){super(os(eo.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=os(eo.getDefaults(),arguments,["url","onload"]);this._buffer=new As({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Mr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Cs,onerror:Cs,playbackRate:1,reverse:!1})}load(t){return Xi(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Cs){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?as(e,this._loopStart):as(e,0);let i=this.toSeconds(e);this._synced&&(i*=this._playbackRate);const s=n;n=as(n,Math.max(this._buffer.duration-i,0));let r=this.toSeconds(n);r/=this._playbackRate,t=this.toSeconds(t);const o=new Or({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+r),this._state.setStateAtTime("stopped",t+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Vi(s)?o.start(t,i):o.start(t,i,r-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Yi([to(0)],eo.prototype,"fadeIn",void 0),Yi([to(0)],eo.prototype,"fadeOut",void 0);class no extends Js{constructor(){super(os(no.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=os(no.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new xr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ss(this,"volume"),this._buffers=new fr({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Mr.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Cs,onerror:Cs,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach((e=>{e.fadeIn=t}))}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach((e=>{e.fadeOut=t}))}get state(){return Array.from(this._players).some((([t,e])=>"started"===e.state))?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(Di(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new eo({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return Di(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach((e=>e.stop(t))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((t=>t.dispose())),this._buffers.dispose(),this}}class io extends Mr{constructor(){super(os(io.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=os(io.getDefaults(),arguments,["url","onload"]);this.buffer=new As({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new hr({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(Mr.getDefaults(),{onload:Cs,onerror:Cs,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=as(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const i=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/i),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach((e=>{e.fadeOut=0,e.stop(t)})),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const i=n<this._overlap?0:this._overlap,s=new Or({context:this.context,url:this.buffer,fadeIn:i,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Fs(this.detune/100)}).connect(this.output);s.start(t,this._grainSize*e),s.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(s),s.onended=()=>{const t=this._activeSources.indexOf(s);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){Ri(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&Ri(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);Ri(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((t=>t.dispose())),this}}class so extends qr{constructor(){super(...arguments),this.name="Abs",this._abs=new Vr({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class ro extends qr{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Vr({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class oo extends qr{constructor(){super(...arguments),this.name="Negate",this._multiply=new zr({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class ao extends or{constructor(){super(Object.assign(os(ao.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new ir({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new oo({context:this.context}),this.subtrahend=this._param,tr(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(or.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class lo extends qr{constructor(){super(Object.assign(os(lo.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Vr({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new zr({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class co extends or{constructor(){super(Object.assign(os(co.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=os(co.getDefaults(),arguments,["value"]);this._subtract=this.input=new ao({context:this.context,value:t.value}),this._gtz=this.output=new lo({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ss(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(or.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class uo extends qr{constructor(){super(Object.assign(os(uo.getDefaults(),arguments,["value"]))),this.name="Pow";const t=os(uo.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Vr({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(qr.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ho extends Yr{constructor(){super(Object.assign(os(ho.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=os(ho.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new uo({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Yr.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class po extends or{constructor(){super(os(or.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=os(or.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new rr({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new Qs(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new Qs(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new Qs(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new Qs(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const i=new Qs(this.context,e).toSeconds();return super.setTargetAtTime(t,i,n),this}cancelScheduledValues(t){const e=new Qs(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,i){const s=new Qs(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,s,n,i),this}cancelAndHoldAtTime(t){const e=new Qs(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new Qs(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const i=new Qs(this.context,n).toSeconds();return super.exponentialRampTo(t,e,i),this}linearRampTo(t,e,n){const i=new Qs(this.context,n).toSeconds();return super.linearRampTo(t,e,i),this}targetRampTo(t,e,n){const i=new Qs(this.context,n).toSeconds();return super.targetRampTo(t,e,i),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class fo extends Js{constructor(){super(os(fo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new or({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=os(fo.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Js.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Hi(t))return t;{let n;for(n in mo)if(mo[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Hi(n)&&Reflect.has(mo,n)){const i=mo[n];Ui(i)?"_decayCurve"!==t&&(this[t]=i[e]):this[t]=i}else{if(!$i(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Di(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),s=this.getValueAtTime(t);if(s>0&&(n=(1-s)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let t=1;t<i.length;t++)if(i[t-1]<=s&&s<=i[t]){i=this._attackCurve.slice(t),i[0]=s;break}this._sig.setValueCurveAtTime(i,t,n,e)}if(i&&this.sustain<1){const s=e*this.sustain,r=t+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(s,i+r):this._sig.exponentialApproachValueAtTime(s,r,i)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Di($i(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return ar(this,t,e,n),this}asArray(t=1024){return Xi(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Ms(1,e,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),r=.1*s,o=s+r,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(i+r)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Yi([to(0)],fo.prototype,"attack",void 0),Yi([to(0)],fo.prototype,"decay",void 0),Yi([Jr(0,1)],fo.prototype,"sustain",void 0),Yi([to(0)],fo.prototype,"release",void 0);const mo=(()=>{const t=128;let e,n;const i=[];for(e=0;e<t;e++)i[e]=Math.sin(e/127*(Math.PI/2));const s=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;s[e]=t/10+.83*n}s[127]=1;const r=[];for(e=0;e<t;e++)r[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,i=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(i*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:i,Out:(c=i,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:s,Out:l(s)},sine:{In:o,Out:l(o)},step:{In:r,Out:l(r)}};var c})();class go extends Js{constructor(){super(os(go.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=os(go.getDefaults(),arguments);this._volume=this.output=new xr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ss(this,"volume")}static getDefaults(){return Object.assign(Js.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const i=t[e],s=this.context.transport.schedule((i=>{t[e]=i,n.apply(this,t)}),i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,i){const s=this.toSeconds(n),r=this.toSeconds(e);return this.triggerAttack(t,s,i),this.triggerRelease(s+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class vo extends go{constructor(){super(os(vo.getDefaults(),arguments));const t=os(vo.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(go.getDefaults(),{detune:0,onsilence:Cs,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const i=this.toSeconds(e);return this._triggerEnvelopeAttack(i,n),this.setNote(t,i),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),i=t instanceof Ws?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,t,n)}else this.frequency.setValueAtTime(i,n);return this}}Yi([to(0)],vo.prototype,"portamento",void 0);class _o extends fo{constructor(){super(os(_o.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ir({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class yo extends vo{constructor(){super(os(yo.getDefaults(),arguments)),this.name="Synth";const t=os(yo.getDefaults(),arguments);this.oscillator=new Qr(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new _o(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ss(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(vo.getDefaults(),{envelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ls(Qr.getDefaults(),[...Object.keys(Mr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class bo extends vo{constructor(){super(os(bo.getDefaults(),arguments)),this.name="ModulationSynth";const t=os(bo.getDefaults(),arguments);this._carrier=new yo({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new yo({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new or({context:this.context,units:"frequency"}),this.detune=new or({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new zr({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new ir({context:this.context,gain:0}),Ss(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(vo.getDefaults(),{harmonicity:3,oscillator:Object.assign(ls(Qr.getDefaults(),[...Object.keys(Mr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ls(Qr.getDefaults(),[...Object.keys(Mr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class wo extends bo{constructor(){super(os(wo.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Lr({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class xo extends Js{constructor(){super(os(xo.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=os(xo.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Zs({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Zs({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Zs({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Zs({context:this.context,units:"gain",value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Js.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Di(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const i=19980*Math.pow(n/t,2)+20;e[n]=i}const n=new Float32Array(t),i=new Float32Array(t),s=this.context.createBiquadFilter();return s.type=this.type,s.Q.value=this.Q.value,s.frequency.value=this.frequency.value,s.gain.value=this.gain.value,s.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class ko extends Js{constructor(){super(os(ko.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this._filters=[];const t=os(ko.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new or({context:this.context,units:"positive",value:t.Q}),this.frequency=new or({context:this.context,units:"frequency",value:t.frequency}),this.detune=new or({context:this.context,units:"cents",value:t.detune}),this.gain=new or({context:this.context,units:"decibels",value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ss(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Js.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Di(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Bi(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let i=n.indexOf(e);Di(-1!==i,`rolloff can only be ${n.join(", ")}`),i+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(i);for(let t=0;t<i;t++){const e=new xo({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,tr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new xo({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),Ts(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class So extends fo{constructor(){super(os(So.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=os(So.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new uo({context:this.context,value:t.exponent}),this._scale=this.output=new Yr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(fo.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);Ri(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){Ri(t,0),this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class To extends vo{constructor(){super(os(To.getDefaults(),arguments)),this.name="MonoSynth";const t=os(To.getDefaults(),arguments);this.oscillator=new Qr(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new ko(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new So(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new _o(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ss(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(vo.getDefaults(),{envelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(ls(ko.getDefaults(),Object.keys(Js.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(ls(So.getDefaults(),Object.keys(Js.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(ls(Qr.getDefaults(),Object.keys(Mr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Co extends vo{constructor(){super(os(Co.getDefaults(),arguments)),this.name="DuoSynth";const t=os(Co.getDefaults(),arguments);this.voice0=new To(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new To(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new zr({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new Zr({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new ir({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new or({context:this.context,units:"frequency",value:440}),this.detune=new or({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ss(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return rs(vo.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:rs(ls(To.getDefaults(),Object.keys(vo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:rs(ls(To.getDefaults(),Object.keys(vo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Ao extends bo{constructor(){super(os(Ao.getDefaults(),arguments)),this.name="FMSynth";const t=os(Ao.getDefaults(),arguments);this.modulationIndex=new zr({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(bo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Mo=[1,1.483,1.932,2.546,2.63,3.897];class Oo extends vo{constructor(){super(os(Oo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=os(Oo.getDefaults(),arguments);this.detune=new or({context:this.context,units:"cents",value:t.detune}),this.frequency=new or({context:this.context,units:"frequency"}),this._amplitude=new ir({context:this.context,gain:0}).connect(this.output),this._highpass=new ko({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<Mo.length;e++){const n=new Ur({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):Cs,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const i=new zr({context:this.context,value:Mo[e]});this._freqMultipliers[e]=i,this.frequency.chain(i,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Yr({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new fo({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return rs(vo.getDefaults(),{envelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Eo extends yo{constructor(){super(os(Eo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=os(Eo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ss(this,["oscillator","envelope"])}static getDefaults(){return rs(vo.getDefaults(),yo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),i=this.toFrequency(t instanceof Ws?t.toFrequency():t),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,n),this.oscillator.frequency.exponentialRampToValueAtTime(i,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Yi([Jr(0)],Eo.prototype,"octaves",void 0),Yi([to(0)],Eo.prototype,"pitchDecay",void 0);class Po extends go{constructor(){super(os(Po.getDefaults(),arguments)),this.name="NoiseSynth";const t=os(Po.getDefaults(),arguments);this.noise=new Er(Object.assign({context:this.context},t.noise)),this.envelope=new _o(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(go.getDefaults(),{envelope:Object.assign(ls(fo.getDefaults(),Object.keys(Js.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(ls(Er.getDefaults(),Object.keys(Mr.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Do=new Set;function Ro(t){Do.add(t)}function No(t,e){const n=`registerProcessor("${t}", ${e})`;Do.add(n)}class Io extends Js{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Cs;const e=URL.createObjectURL(new Blob([Array.from(Do).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}Ro('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Ro("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Ro("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const Fo="feedback-comb-filter";No(Fo,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class jo extends Io{constructor(){super(os(jo.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=os(jo.getDefaults(),arguments,["delayTime","resonance"]);this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this.delayTime=new Zs({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Zs({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Ss(this,["resonance","delayTime"])}_audioWorkletName(){return Fo}static getDefaults(){return Object.assign(Js.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){tr(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class qo extends Js{constructor(){super(os(qo.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=os(qo.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Js.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(t),t.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const i=19980*Math.pow(n/t,2)+20;e[n]=i}const n=new Float32Array(t),i=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,i),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Vo extends Js{constructor(){super(os(Vo.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=os(Vo.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new jo({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new qo({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Js.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Lo extends go{constructor(){super(os(Lo.getDefaults(),arguments)),this.name="PluckSynth";const t=os(Lo.getDefaults(),arguments);this._noise=new Er({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Vo({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return rs(go.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const i=1/n;return this._lfcf.delayTime.setValueAtTime(i,e),this._noise.start(e),this._noise.stop(e+i*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class zo extends go{constructor(){super(os(zo.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=os(zo.getDefaults(),arguments,["voice","options"]);Di(!Bi(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(go.getDefaults(),{maxPolyphony:32,options:{},voice:yo})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}qi("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const i=new mr(this.context,t).toMidi(),s=this._getNextAvailableVoice();s&&(s.triggerAttack(t,e,n),this._activeVoices.push({midi:i,voice:s,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new mr(this.context,t).toMidi(),i=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));i&&(i.voice.triggerRelease(e),i.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,i){Di(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,i):this._triggerRelease(e,n):this.context.setTimeout((()=>{this._scheduleEvent(t,e,n,i)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const i=this.toSeconds(e);return this._scheduleEvent("attack",t,i,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,i){const s=this.toSeconds(n);if(this.triggerAttack(t,s,i),$i(e)){Di($i(t),"If the duration is an array, the notes must also be an array"),t=t;for(let n=0;n<t.length;n++){const i=e[Math.min(n,e.length-1)],r=this.toSeconds(i);Di(r>0,"The duration must be greater than 0"),this.triggerRelease(t[n],s+r)}}else{const n=this.toSeconds(e);Di(n>0,"The duration must be greater than 0"),this.triggerRelease(t,s+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=ls(t,["onsilence","context"]);return this.options=rs(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Bo extends go{constructor(){super(os(Bo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=os(Bo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const i=parseInt(n,10);if(Di(Gi(n)||Bi(i)&&isFinite(i),`url key is neither a note or midi pitch: ${n}`),Gi(n)){const i=new Ws(this.context,n).toMidi();e[i]=t.urls[n]}else Bi(i)&&isFinite(i)&&(e[i]=t.urls[i])})),this._buffers=new fr({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(go.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Cs,onerror:Cs,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const i=Vs(new Ws(this.context,t).toFrequency()),s=Math.round(i),r=i-s,o=this._findClosest(s),a=s-o,l=this._buffers.get(a),c=Fs(o+r),u=new Or({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(e,0,l.duration/c,n),$i(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){const t=this._activeSources.get(s),e=t.indexOf(u);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Ws(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,i=1){const s=this.toSeconds(n);return this.triggerAttack(t,s,i),$i(e)?(Di($i(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const i=e[Math.min(n,e.length-1)];this.triggerRelease(t,s+this.toSeconds(i))}))):this.triggerRelease(t,s+this.toSeconds(e)),this}add(t,e,n){if(Di(Gi(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Gi(t)){const i=new Ws(this.context,t).toMidi();this._buffers.add(i,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Yi([to(0)],Bo.prototype,"attack",void 0),Yi([to(0)],Bo.prototype,"release",void 0);class Uo extends Ys{constructor(){super(os(Uo.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Xs("stopped"),this._startOffset=0;const t=os(Uo.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ys.getDefaults(),{callback:Cs,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Bi(this._loop)&&this._loop>1){e=1/0,Bi(this._loop)&&(e=this._loop*this._getLoopDuration());const i=this._state.getAfter(n);null!==i&&(e=Math.min(e,i.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new vr(this.context,e));const s=new vr(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),s,new vr(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new vr(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=as(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Wi(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new vr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new vr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Wo extends Ys{constructor(){super(os(Wo.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=os(Wo.getDefaults(),arguments,["callback","interval"]);this._event=new Uo({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(Ys.getDefaults(),{interval:"4n",callback:Cs,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class $o extends Uo{constructor(){super(os($o.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Xs("stopped"),this._events=new Set;const t=os($o.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{$i(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(Uo.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=as(e,this._loop?this._loopStart:0),e=this._loop?as(e,this._loopStart):as(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new vr(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new vr(this.context,e))):t.startOffset>=n&&t.start(new vr(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new Qs(this.context,t).toTicks(),i=new vr(this.context,1).toSeconds(),s=this._events.values();let r=s.next();for(;!r.done;){const t=r.value;if(Math.abs(n-t.startOffset)<i)return Li(e)&&(t.value=e),t;r=s.next()}return Li(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let i;return e instanceof Uo?(i=e,i.callback=this._tick.bind(this)):i=new Uo({callback:this._tick.bind(this),context:this.context,value:e}),i.startOffset=n,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new vr(this.context,e.time))}))}remove(t,e){return Ui(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(Vi(e)||Li(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof $o?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new vr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new vr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Ho(t){let e=0;for(;e<t.length;)e=Ko(e,t),yield t[e],e++}function*Go(t){let e=t.length-1;for(;e>=0;)e=Ko(e,t),yield t[e],e--}function*Qo(t,e){for(;;)yield*e(t)}function Ko(t,e){return ms(t,0,e.length-1)}function*Yo(t,e){let n=e?0:t.length-1;for(;;)n=Ko(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*Xo(t){let e=0,n=0;for(;e<t.length;)e=Ko(e,t),yield t[e],n++,e+=n%2?2:-1}function*Zo(t){let e=t.length-1,n=0;for(;e>=0;)e=Ko(e,t),yield t[e],n++,e+=n%2?-2:1}function*Jo(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=Ko(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[n]}}function*ta(t,e="up",n=0){switch(Di(t.length>0,"The array must have more than one value in it"),e){case"up":yield*Qo(t,Ho);case"down":yield*Qo(t,Go);case"upDown":yield*Yo(t,!0);case"downUp":yield*Yo(t,!1);case"alternateUp":yield*Qo(t,Xo);case"alternateDown":yield*Qo(t,Zo);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case"randomOnce":yield*Qo(t,Jo);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class ea extends Wo{constructor(){super(os(ea.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=os(ea.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=ta(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Wo.getDefaults(),{pattern:"up",values:[],callback:Cs})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=ta(this._values,this._type)}}class na extends Uo{constructor(){super(os(na.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new $o({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=os(na.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(ls(Uo.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new vr(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(Hi(e)&&isFinite(parseInt(e,10))&&$i(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,i)=>{const s=i*e+n;if($i(t))this._rescheduleSequence(t,e/t.length,s);else{const e=new vr(this.context,s,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new vr(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ia extends Js{constructor(){super(Object.assign(os(ia.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new ro({context:this.context}),this.a=new ir({context:this.context,gain:0}),this.b=new ir({context:this.context,gain:0}),this.output=new ir({context:this.context}),this._internalChannels=[this.a,this.b];const t=os(ia.getDefaults(),arguments,["fade"]);this.fade=new or({context:this.context,units:"normalRange",value:t.fade}),Ss(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",er(this._split,this.a.gain,0),er(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Js.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class sa extends Js{constructor(t){super(t),this.name="Effect",this._dryWet=new ia({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ir({context:this.context}),this.effectReturn=new ir({context:this.context}),this.input=new ir({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ss(this,"wet")}static getDefaults(){return Object.assign(Js.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class ra extends sa{constructor(t){super(t),this.name="LFOEffect",this._lfo=new Zr({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ss(this,["frequency","depth"])}static getDefaults(){return Object.assign(sa.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class oa extends ra{constructor(){super(os(oa.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=os(oa.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new ko(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(ra.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class aa extends Js{constructor(){super(Object.assign(os(aa.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=os(aa.getDefaults(),arguments,["pan"]);this.pan=new Zs({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Ss(this,"pan")}static getDefaults(){return Object.assign(Js.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class la extends ra{constructor(){super(os(la.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=os(la.getDefaults(),arguments,["frequency"]);this._panner=new aa({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(ra.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class ca extends Js{constructor(){super(os(ca.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=os(ca.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new so({context:this.context}),this._lowpass=this.output=new qo({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(Js.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class ua extends sa{constructor(){super(os(ua.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=os(ua.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new ca({context:this.context,smoothing:t.follower}),this._sweepRange=new ho({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new ir({context:this.context}),this._bandpass=new ko({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new ko({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ss(this,["gain","Q"])}static getDefaults(){return Object.assign(sa.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return Is(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Ns(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const ha="bit-crusher";No(ha,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class da extends sa{constructor(){super(os(da.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=os(da.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new pa({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(sa.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class pa extends Io{constructor(){super(os(pa.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=os(pa.getDefaults(),arguments);this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this.bits=new Zs({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Io.getDefaults(),{bits:12})}_audioWorkletName(){return ha}onReady(t){tr(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class fa extends sa{constructor(){super(os(fa.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=os(fa.getDefaults(),arguments,["order"]);this._shaper=new Vr({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(sa.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap((e=>this._getCoefficient(e,t,new Map)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class ma extends Js{constructor(){super(os(ma.getDefaults(),arguments,["channels"])),this.name="Split";const t=os(ma.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Js.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class ga extends Js{constructor(){super(os(ga.getDefaults(),arguments,["channels"])),this.name="Merge";const t=os(ga.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(Js.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class va extends Js{constructor(t){super(t),this.name="StereoEffect",this.input=new ir({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new ia({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new ma({context:this.context,channels:2}),this._merge=new ga({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ss(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),tr(...t),er(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),tr(...t),er(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Js.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class _a extends va{constructor(t){super(t),this.feedback=new or({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new ir({context:this.context}),this._feedbackR=new ir({context:this.context}),this._feedbackSplit=new ma({context:this.context,channels:2}),this._feedbackMerge=new ga({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ss(this,["feedback"])}static getDefaults(){return Object.assign(va.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class ya extends _a{constructor(){super(os(ya.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=os(ya.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new Zr({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Zr({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new dr({context:this.context}),this._delayNodeR=new dr({context:this.context}),this.frequency=this._lfoL.frequency,Ss(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(_a.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class ba extends sa{constructor(){super(os(ba.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=os(ba.getDefaults(),arguments,["distortion"]);this._shaper=new Vr({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(sa.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap((t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class wa extends sa{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new ir({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Ss(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(sa.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class xa extends wa{constructor(){super(os(xa.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=os(xa.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new dr({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ss(this,"delayTime")}static getDefaults(){return Object.assign(wa.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class ka extends Js{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this.offset90=new ir({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),tr(this.input,...this._bank0,this._oneSampleDelay,this.output),tr(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map((t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((t=>t.disconnect())),this._bank1.forEach((t=>t.disconnect())),this._oneSampleDelay.disconnect(),this}}class Sa extends sa{constructor(){super(os(Sa.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=os(Sa.getDefaults(),arguments,["frequency"]);this.frequency=new or({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Fr({context:this.context,type:"sine"}),this._cosine=new jr({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new zr({context:this.context}),this._cosineMultiply=new zr({context:this.context}),this._negate=new oo({context:this.context}),this._add=new Kr({context:this.context}),this._phaseShifter=new ka({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(sa.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Ta=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Ca=[225,556,441,341];class Aa extends va{constructor(){super(os(Aa.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=os(Aa.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new or({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=Ca.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._allpassFiltersR=Ca.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._combFilters=Ta.map(((e,n)=>{const i=new Vo({context:this.context,dampening:t.dampening,delayTime:e});return n<Ta.length/2?this.connectEffectLeft(i,...this._allpassFiltersL):this.connectEffectRight(i,...this._allpassFiltersR),this.roomSize.connect(i.resonance),i})),Ss(this,["roomSize"])}static getDefaults(){return Object.assign(va.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach((e=>e.dampening=t))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((t=>t.disconnect())),this._allpassFiltersR.forEach((t=>t.disconnect())),this._combFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this}}const Ma=[.06748,.06404,.08212,.09004],Oa=[.773,.802,.753,.733],Ea=[347,113,37];class Pa extends va{constructor(){super(os(Pa.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=os(Pa.getDefaults(),arguments,["roomSize"]);this.roomSize=new or({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new Yr({context:this.context,min:-.733,max:.197}),this._allpassFilters=Ea.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._feedbackCombFilters=Ma.map(((t,e)=>{const n=new jo({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=Oa[e],e<Ma.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Ss(this,["roomSize"])}static getDefaults(){return Object.assign(va.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((t=>t.disconnect())),this._feedbackCombFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Da extends _a{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ss(this,["feedback"])}}class Ra extends Da{constructor(){super(os(Ra.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=os(Ra.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new dr({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new dr({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new dr({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new or({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ss(this,["delayTime"])}static getDefaults(){return Object.assign(Da.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Na extends wa{constructor(){super(os(Na.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=os(Na.getDefaults(),arguments,["pitch"]);this._frequency=new or({context:this.context}),this._delayA=new dr({maxDelay:1,context:this.context}),this._lfoA=new Zr({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new dr({maxDelay:1,context:this.context}),this._lfoB=new Zr({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new ia({context:this.context}),this._crossFadeLFO=new Zr({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new dr({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ss(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(wa.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=Fs(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=Fs(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Ia extends va{constructor(){super(os(Ia.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=os(Ia.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new Zr({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Zr({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new or({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ss(this,["frequency","Q"])}static getDefaults(){return Object.assign(va.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let i=0;i<t;i++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((t=>t.disconnect())),this._filtersR.forEach((t=>t.disconnect())),this.frequency.dispose(),this}}class Fa extends sa{constructor(){super(os(Fa.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=os(Fa.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(sa.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Ri(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Ri(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Xi(this,void 0,void 0,(function*(){const t=this.ready,e=new Ms(2,this._decay+this._preDelay,this.context.sampleRate),n=new Er({context:e}),i=new Er({context:e}),s=new ga({context:e});n.connect(s,0,0),i.connect(s,0,1);const r=new ir({context:e}).toDestination();s.connect(r),n.start(0),i.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(Cs),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ja extends Js{constructor(){super(os(ja.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new ma({channels:2,context:this.context}),this._midAdd=new Kr({context:this.context}),this.mid=new zr({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new ao({context:this.context}),this.side=new zr({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class qa extends Js{constructor(){super(os(qa.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new ir({context:this.context}),this.side=new ir({context:this.context}),this._left=new Kr({context:this.context}),this._leftMult=new zr({context:this.context,value:Math.SQRT1_2}),this._right=new ao({context:this.context}),this._rightMult=new zr({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new ga({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Va extends sa{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new qa({context:this.context}),this._midSideSplit=new ja({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class La extends Va{constructor(){super(os(La.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=os(La.getDefaults(),arguments,["width"]);this.width=new or({context:this.context,value:t.width,units:"normalRange"}),Ss(this,["width"]),this._twoTimesWidthMid=new zr({context:this.context,value:2}),this._twoTimesWidthSide=new zr({context:this.context,value:2}),this._midMult=new zr({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new ao({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),er(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new zr({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Va.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class za extends va{constructor(){super(os(za.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=os(za.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new Zr({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new Zr({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new ir({context:this.context}),this._amplitudeR=new ir({context:this.context}),this.frequency=new or({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new or({context:this.context,value:t.depth,units:"normalRange"}),Ss(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(va.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ba extends sa{constructor(){super(os(Ba.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=os(Ba.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new dr({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new Zr({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ss(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(sa.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ua extends Js{constructor(){super(os(Ua.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=os(Ua.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new ir({context:this.context}),this._split=new ma({context:this.context,channels:t.channels}),this.input.connect(this._split),Ri(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(Js.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Di("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class Wa extends Js{constructor(){super(os(Wa.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Ua({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class $a extends Wa{constructor(){super(os($a.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=os($a.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Ua({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Wa.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return qi("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map((t=>{const e=t.reduce(((t,e)=>t+e*e),0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:Is(this._rms)}));return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Ha extends Wa{constructor(){super(os(Ha.getDefaults(),arguments,["size"])),this.name="FFT";const t=os(Ha.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(Js.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?Ns(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Di(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class Ga extends Wa{constructor(){super(os(Ga.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Qa extends Wa{constructor(){super(os(Qa.getDefaults(),arguments,["size"])),this.name="Waveform";const t=os(Qa.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(Wa.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Ka extends Js{constructor(){super(os(Ka.getDefaults(),arguments,["solo"])),this.name="Solo";const t=os(Ka.getDefaults(),arguments,["solo"]);this.input=this.output=new ir({context:this.context}),Ka._allSolos.has(this.context)||Ka._allSolos.set(this.context,new Set),Ka._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Js.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Ka._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Ka._soloed.has(this.context)||Ka._soloed.set(this.context,new Set),Ka._soloed.get(this.context).add(this)}_removeSolo(){Ka._soloed.has(this.context)&&Ka._soloed.get(this.context).delete(this)}_isSoloed(){return Ka._soloed.has(this.context)&&Ka._soloed.get(this.context).has(this)}_noSolos(){return!Ka._soloed.has(this.context)||Ka._soloed.has(this.context)&&0===Ka._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ka._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ka._allSolos=new Map,Ka._soloed=new Map;class Ya extends Js{constructor(){super(os(Ya.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=os(Ya.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new aa({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new xr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ss(this,["pan","volume"])}static getDefaults(){return Object.assign(Js.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Xa extends Js{constructor(){super(os(Xa.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=os(Xa.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ka({solo:t.solo,context:this.context}),this._panVol=this.output=new Ya({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ss(this,["pan","volume"])}static getDefaults(){return Object.assign(Js.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Xa.buses.has(t)||Xa.buses.set(t,new ir({context:this.context})),Xa.buses.get(t)}send(t,e=0){const n=this._getBus(t),i=new ir({context:this.context,units:"decibels",gain:e});return this.connect(i),i.connect(n),i}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Xa.buses=new Map;class Za extends Js{constructor(){super(os(Za.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new ir({context:this.context}),this.output=void 0,this.low=new ko({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new ko({context:this.context,frequency:0,type:"highpass"}),this.mid=new ko({context:this.context,frequency:0,type:"lowpass"}),this.high=new ko({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=os(Za.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new or({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new or({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new or({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ss(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Js.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Ts(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Ja extends Js{constructor(){super(...arguments),this.name="Listener",this.positionX=new Zs({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Zs({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Zs({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Zs({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Zs({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Zs({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Zs({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Zs({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Zs({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Js.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_s((t=>{t.listener=new Ja({context:t})})),bs((t=>{t.listener.dispose()}));class tl extends Js{constructor(){super(os(tl.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=os(tl.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Zs({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Zs({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Zs({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Zs({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Zs({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Zs({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(Js.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class el extends Js{constructor(){super(os(el.getDefaults(),arguments)),this.name="Recorder";const t=os(el.getDefaults(),arguments);this.input=new ir({context:this.context}),Di(el.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return Js.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==Qi&&Reflect.has(Qi,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return Xi(this,void 0,void 0,(function*(){Di("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return Xi(this,void 0,void 0,(function*(){Di("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return Di("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class nl extends Js{constructor(){super(os(nl.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=os(nl.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Zs({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Zs({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Zs({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Zs({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Zs({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Ss(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Js.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class il extends Js{constructor(){super(Object.assign(os(il.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=os(il.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new ca({context:this.context,smoothing:t.smoothing}),this._gt=new co({context:this.context,value:Ns(t.threshold)}),this.input=new ir({context:this.context}),this._gate=this.output=new ir({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(Js.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Is(this._gt.value)}set threshold(t){this._gt.value=Ns(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class sl extends Js{constructor(){super(Object.assign(os(sl.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=os(sl.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new nl({context:this.context,ratio:20,attack:0,release:0,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ss(this,"threshold")}static getDefaults(){return Object.assign(Js.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class rl extends Js{constructor(){super(Object.assign(os(rl.getDefaults(),arguments))),this.name="MidSideCompressor";const t=os(rl.getDefaults(),arguments);this._midSideSplit=this.input=new ja({context:this.context}),this._midSideMerge=this.output=new qa({context:this.context}),this.mid=new nl(Object.assign(t.mid,{context:this.context})),this.side=new nl(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ss(this,["mid","side"])}static getDefaults(){return Object.assign(Js.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class ol extends Js{constructor(){super(Object.assign(os(ol.getDefaults(),arguments))),this.name="MultibandCompressor";const t=os(ol.getDefaults(),arguments);this._splitter=this.input=new Za({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new ir({context:this.context}),this.low=new nl(Object.assign(t.low,{context:this.context})),this.mid=new nl(Object.assign(t.mid,{context:this.context})),this.high=new nl(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ss(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Js.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class al extends Js{constructor(){super(os(al.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new ir({context:this.context}),this._internalChannels=[];const t=os(al.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Za({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new ir({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new ir({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new ir({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ss(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(Js.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Ts(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class ll extends Js{constructor(){super(os(ll.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=os(ll.getDefaults(),arguments,["url","onload"]);this._buffer=new As(t.url,(e=>{this.buffer=e,t.onload()})),this.input=new ir({context:this.context}),this.output=new ir({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(Js.getDefaults(),{normalize:!0,onload:Cs})}load(t){return Xi(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function cl(){return Ps().now()}function ul(){return Ps().immediate()}const hl=Ps().transport;function dl(){return Ps().transport}const pl=Ps().destination,fl=Ps().destination;function ml(){return Ps().destination}const gl=Ps().listener;function vl(){return Ps().listener}const _l=Ps().draw;function yl(){return Ps().draw}const bl=Ps();function wl(){return As.loaded()}const xl=As,kl=fr,Sl=Or},152:function(t,e,n){"use strict";var i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(294),r=n(935),o=n(199),a=n(630),l=n(457),c=n(911);window.__debug={Tonal:a,Tone:l};var u=n(538),h=n(596),d=new u.Store,p=d.storage.load();d.latestScales=p.latestScales,p.latestScales.length&&(d.scaleName=p.latestScales[0]);var f,m=c.css(f||(f=i(["\n    *:where(:not(iframe, canvas, img, svg, video):not(svg *)) {\n        all: unset;\n        display: revert;\n    }\n\n    /* Preferred box-sizing value */\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    /*\n    Remove list styles (bullets/numbers)\n    in case you use it with normalize.css\n    */\n    ol, ul {\n        list-style: none;\n    }\n\n    /* For images to not be able to exceed their container */\n    img {\n        max-width: 100%;\n    }\n\n    /* Removes spacing between cells in tables */\n    table {\n        border-collapse: collapse;\n    }\n\n    /* Revert the 'white-space' property for textarea elements on Safari */\n    textarea {\n        white-space: revert;\n    }\n"],["\n    *:where(:not(iframe, canvas, img, svg, video):not(svg *)) {\n        all: unset;\n        display: revert;\n    }\n\n    /* Preferred box-sizing value */\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    /*\n    Remove list styles (bullets/numbers)\n    in case you use it with normalize.css\n    */\n    ol, ul {\n        list-style: none;\n    }\n\n    /* For images to not be able to exceed their container */\n    img {\n        max-width: 100%;\n    }\n\n    /* Removes spacing between cells in tables */\n    table {\n        border-collapse: collapse;\n    }\n\n    /* Revert the 'white-space' property for textarea elements on Safari */\n    textarea {\n        white-space: revert;\n    }\n"]))),g=s.createElement(o.BrowserRouter,{basename: '/apps/music-theory'},s.createElement(c.Global,{styles:m}),s.createElement(o.Switch,null,s.createElement(o.Route,{path:"/",exact:!0},s.createElement(h.MainView,{store:d}))));r.render(g,document.getElementById("react-root"))},863:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FretboardBlock=void 0;var i=n(294),s=n(540);e.FretboardBlock=s.observer((function(t){var e=t.model,n=i.useRef(null);return i.useEffect((function(){n.current&&e.render(n.current)}),[]),i.createElement("div",{ref:n})}))},452:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardBlock=void 0;var i=n(294),s=n(540);e.KeyboardBlock=s.observer((function(t){var e=t.model,n=i.useRef(null);return i.useEffect((function(){n.current&&e.render(n.current)}),[]),i.createElement("div",{ref:n})}))},859:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.NoteMarkTemplate=e.FretboardTemplate=void 0;var s=n(284);function r(t,e,n){var i={"background-color":"#777",position:"absolute",left:e.pos+e.width-t.opts.fretWidth/2+"px",bottom:"0px",width:t.opts.fretWidth+"px",height:t.totalHeight+"px"};return Object.assign(i,n),'<div style="'+s.styleString(i)+'"></div>'}e.FretboardTemplate=function(t){var n=t.frets.length;return'<div data-fretboard-container style="position: relative; line-height: 1; font-family: sans-serif; width: '+(t.totalWidth+t.zeroFretWidth)+"px; height: "+t.totalHeight+'px;">\n        <div style="position: absolute; width: '+t.zeroFretWidth+"px; height: "+t.totalHeight+'px; background-color: #fff">\n            '+t.opts.strings.map((function(e,n){return t.opts.stringAreaHeight,'<div style="'+s.styleString({})+'"></div>'})).join("")+'\n        </div>\n\n        <div data-fretboard style="position: absolute; left: '+t.zeroFretWidth+"px; width: "+t.totalWidth+"px; height: "+t.totalHeight+'px;">\n            '+new Array(n*t.opts.strings.length).fill(void 0).map((function(e,n){var i=Math.floor(n/t.opts.strings.length),r=t.frets[i],o=n%t.opts.strings.length,a=t.opts.stringAreaHeight*o,l=([3,5,7,9,15,17,19,21,22].map((function(t){return t-1})).includes(i)||[12,24].map((function(t){return t-1})).includes(i),{"background-color":"#f7f7f7",position:"absolute",left:r.pos+"px",bottom:a+"px",width:r.width+"px",height:t.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center"});return'<div data-string="'+o+'" data-fret="'+i+'" style="'+s.styleString(l)+'"></div>'})).join("")+"\n\n            <div>\n                "+t.frets.map((function(e,n){var i=[3,5,7,9,15,17,19,21],r=[12,24];if(!1===i.concat(r).includes(n+1))return"";var o=2*t.opts.stringAreaHeight/3,a=function(t){var n={"background-color":"grey",position:"absolute",left:e.pos+e.width/2-o/2+"px",width:o+"px",height:o+"px","border-radius":"100%"};return Object.assign(n,t),'<div style="'+s.styleString(n)+'"></div>'};return i.includes(n+1)?a({bottom:t.totalHeight/2-o/2+"px"}):r.includes(n+1)?"<div>\n                                "+a({bottom:t.totalHeight/4-o/2+"px"})+"\n                                "+a({bottom:3*t.totalHeight/4-o/2+"px"})+"\n                            </div>":void 0})).join("")+"\n            </div>\n\n            <div>\n                "+r(t,{pos:0,width:0},{"background-color":"Sienna"})+"\n\n                "+t.frets.map((function(e,n){return r(t,e)})).join("")+'\n            </div>\n        </div>\n\n        <div style="position: relative; left: 0; bottom: 0; width: 100%; height: '+t.totalHeight+'px;">\n            '+t.opts.strings.map((function(e,n){var i=t.opts.strings.length,r=t.opts.stringAreaHeight*(n%i)+t.opts.stringAreaHeight/2,o=s.lerp(t.opts.stringsSize[0],t.opts.stringsSize[1],n/(i-1)),a={"background-color":"LightGray",position:"absolute",left:"0px",bottom:r-o/2+"px",width:t.totalWidth+t.opts.fretWidth/2+t.zeroFretWidth+"px",height:o+"px"};return'<div style="'+s.styleString(a)+'"></div>'})).join("")+'\n        </div>\n\n        <div data-zero-fret-note-marks style="position: absolute; left: 0; bottom: 0; width: '+t.zeroFretWidth+"px; height: "+t.totalHeight+'px;">\n            \x3c!--'+t.opts.strings.map((function(n,i){return e.NoteMarkTemplate({fretboard:t,chroma:s.chroma(n),rootChroma:0,note:n,string:i,fret:{pos:0,width:t.zeroFretWidth},isActive:!1})})).join("")+'--\x3e\n        </div>\n\n        <div data-fretboard-note-marks style="position: absolute; left: '+t.zeroFretWidth+"px; bottom: 0; width: "+t.totalWidth+"px; height: "+t.totalHeight+'px;"></div>\n    </div>'},e.NoteMarkTemplate=function(t){var e=t.fretboard,n=t.note,r=t.chroma,o=t.rootChroma,a=(t.isRoot,t.string),l=t.fret,c=t.isActive,u=e.opts.stringAreaHeight*a,h={"box-sizing":"border-box",position:"absolute",left:l.pos+"px",bottom:u+"px",width:l.width+"px",height:e.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center"},d=(12+r-o)%12,p=i(i(i(i(i({"background-color":c?"hsla("+30*d+", 50%, 50%, .85)":"#fff",color:c?"white":"grey","font-size":.66*e.opts.stringAreaHeight+"px","font-weight":"bold"},![0,3,4,7].includes(d)&&{"border-radius":"100%"}),[10,11].includes(d)&&{"border-radius":"20%"}),!c&&{"border-radius":"100%"}),{width:.9*e.opts.stringAreaHeight+"px",height:.9*e.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center"}),!c&&{border:"1px solid grey"});return'<div data-mark-string="'+a+'" style="'+s.styleString(h)+'">\n        <div style="'+s.styleString(p)+'">'+n+"</div>\n    </div>"}},356:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoteMarkTemplate=e.FretboardTemplate=void 0;var i=n(284);function s(t,e,n){var s={"background-color":"#ddd",position:"absolute",left:e.pos+e.width-t.opts.fretWidth/2+"px",bottom:"0px",width:"1px",height:t.totalHeight+"px"};return'<div style="'+i.styleString(s)+'"></div>'}e.FretboardTemplate=function(t){var e=t.frets.length;return'<div data-fretboard style="position: relative; width: '+t.totalWidth+"px; height: "+t.totalHeight+'px; line-height: 1; font-family: sans-serif; background-color: #eee">\n        '+new Array(e*t.opts.strings.length).fill(void 0).map((function(e,n){var s=Math.floor(n/t.opts.strings.length),r=t.frets[s],o=n%t.opts.strings.length,a=t.opts.stringAreaHeight*o,l=([3,5,7,9,15,17,19,21,22].map((function(t){return t-1})).includes(s)||[12,24].map((function(t){return t-1})).includes(s),{position:"absolute",left:r.pos+"px",bottom:a+"px",width:r.width+"px",height:t.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center"});return'<div data-string="'+o+'" data-fret="'+s+'" style="'+i.styleString(l)+'"></div>'})).join("")+"\n\n        <div>\n            \x3c!--"+s(t,{pos:0,width:0})+"--\x3e\n\n            "+t.frets.map((function(e,n){return n===t.frets.length-1?"":s(t,e)})).join("")+"\n        </div>\n\n        \x3c!--\n        "+t.opts.strings.map((function(e,n){var s=t.opts.strings.length,r=t.opts.stringAreaHeight*(n%s)+t.opts.stringAreaHeight/2,o=i.lerp(t.opts.stringsSize[0],t.opts.stringsSize[1],n/(s-1)),a={"background-color":"LightGray",position:"absolute",left:-t.opts.fretWidth/2+"px",bottom:r-o/2+"px",width:t.totalWidth+t.opts.fretWidth+"px",height:o+"px"};return'<div style="'+i.styleString(a)+'"></div>'})).join("")+'\n        --\x3e\n\n        <div data-fretboard-note-marks style="position: absolute; left: 0px; width: '+t.totalWidth+"px; height: "+t.totalHeight+'px;"></div>\n    </div>'},e.NoteMarkTemplate=function(t){var e=t.fretboard,n=t.chroma,s=t.rootChroma,r=t.note,o=t.isRoot,a=t.string,l=t.fret,c=e.opts.stringAreaHeight*a,u={"box-sizing":"border-box",position:"absolute",left:l.pos+"px",bottom:c+"px",width:l.width+"px",height:e.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center"},h="hsl("+(12+n-s)%12*30+", 50%, 50%)",d={"background-color":o?h:"transparent",color:"white","font-weight":"bold","border-radius":"100%",width:.8*e.opts.stringAreaHeight+"px",height:.8*e.opts.stringAreaHeight+"px",display:"flex","justify-content":"center","align-items":"center","box-sizing":"border-box",border:"2px solid "+h,"flex-shrink":"0"};return'<div data-mark-string="'+a+'" style="'+i.styleString(u)+'">\n        <div style="'+i.styleString(d)+'">\n            \x3c!--'+r+"--\x3e\n        </div>\n    </div>"}},284:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lerp=e.chroma=e.styleString=void 0,e.styleString=function(t){return Object.entries(t).map((function(e){var n=e[0];return e[1],n+": "+t[n]})).join("; ")},e.chroma=function(t){var e={c:0,d:2,e:4,f:5,g:7,a:9,b:11},n=t.slice(0,1).toLowerCase(),i=t.slice(1);if(!e.hasOwnProperty(n))throw new Error("invalid note letter");for(var s=e[n],r=0;r<i.length;++r)"b"===i[r]?(s-=1)<0&&(s+=12):"#"===i[r]&&(s+=1)>11&&(s-=12);return s},e.lerp=function(t,e,n){return t+(e-t)*n}},837:(t,e,n)=>{"use strict";function i(t){var e={c:0,d:2,e:4,f:5,g:7,a:9,b:11},n=t.slice(0,1).toLowerCase(),i=t.slice(1);if(!e.hasOwnProperty(n))throw new Error("invalid note letter");for(var s=e[n],r=0;r<i.length;++r)"b"===i[r]?(s-=1)<0&&(s+=12):"#"===i[r]&&(s+=1)>11&&(s-=12);return s}Object.defineProperty(e,"__esModule",{value:!0}),e.Fretboard=e.FretboardTemplateShapes=e.FretboardTemplateFull=void 0,e.FretboardTemplateFull=n(859),e.FretboardTemplateShapes=n(356);var s=function(){function t(t){this.opts=t;var e=t.frets;this.notes=this.opts.strings.map((function(t){return new Array(e+1).fill(void 0).map((function(e,n){return(i(t)+n)%12}))})),this.totalHeight=this.opts.stringAreaHeight*t.strings.length,this.frets=new Array(e).fill(void 0).reduce((function(t,n,i){if(i===e-1)return t;var s={width:t[i].width/Math.pow(2,1/12),pos:t[i].pos+t[i].width};return t.push(s),t}),[{width:this.opts.firstFretAreaWidth,pos:0}]),this.zeroFretWidth=2*this.opts.stringAreaHeight;var n=this.frets[this.frets.length-1];this.totalWidth=n.pos+n.width}return t.prototype.render=function(t){this.root=t,t.innerHTML=this.opts.FretboardTemplate(this)},t.prototype.showNotes=function(t){var e=this;if(!this.root)throw new Error("root element not found");var n=t.map(i),s=(this.root.querySelector("[data-fretboard]"),this.root.querySelector("[data-fretboard-note-marks]"));if(!s)throw new Error("marks container not found");s.innerHTML="",Array.from(this.root.querySelectorAll("[data-string]")).forEach((function(i){var r=i.getAttribute("data-string");if(!r)throw new Error("data-string attribute not found");var o=parseInt(r),a=i.getAttribute("data-fret");if(!a)throw new Error("data-fret attribute not found");var l=parseInt(a),c=e.notes[o][l+1],u=n.indexOf(c);if(-1!==u){var h=0===u,d=t[u],p=e.opts.NoteMarkTemplate({fretboard:e,chroma:c,rootChroma:n[0],note:d,isRoot:h,string:o,fret:e.frets[l],isActive:!0});s.innerHTML+=p}else i.innerHTML=""}));var r=this.root.querySelector("[data-zero-fret-note-marks]");r&&(r.innerHTML="",this.opts.strings.forEach((function(t,s){var o=i(t);r.innerHTML+=e.opts.NoteMarkTemplate({fretboard:e,chroma:o,rootChroma:n[0],note:t,string:s,fret:{pos:0,width:e.zeroFretWidth},isActive:n.includes(o)})})))},t}();e.Fretboard=s},85:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard=void 0;var i=["C","D","E","F","G","A","B"],s=[["C#","D#"],["F#","G#","A#"]];function r(t){return Object.entries(t).map((function(e){var n=e[0];return e[1],n+": "+t[n]})).join("; ")}function o(t){var e={c:0,d:2,e:4,f:5,g:7,a:9,b:11},n=t.slice(0,1).toLowerCase(),i=t.slice(1);if(!e.hasOwnProperty(n))throw new Error("invalid note letter");for(var s=e[n],r=0;r<i.length;++r)"b"===i[r]?(s-=1)<0&&(s+=12):"#"===i[r]&&(s+=1)>11&&(s-=12);return s}var a=function(t,e,i,s){var o=(12+e-i)%12,a="hsl("+30*o+", 50%, 50%)";return'<div style="'+r(n(n(n(n({"box-sizing":"border-box",position:"absolute",bottom:"25px","text-align":"center",width:"1.6em",height:"1.6em"},![0,3,4,7].includes(o)&&{"border-radius":"100%"}),[10,11].includes(o)&&{"border-radius":"20%"}),{"background-color":a,color:"#fff","font-weight":"bold",display:"flex","justify-content":"center","align-items":"center"}),s&&{border:"2px solid "+a}))+'">'+t+"</div>"},l=function(){function t(t){this.opts=t,this.whiteKeyWidth=t.whiteKeyWidth*t.keySizeMultiplier,this.blackKeyWidth=t.blackKeyWidth*t.keySizeMultiplier,this.whiteKeyMargin=t.whiteKeyMargin,this.blackKeyMargin=5.4*this.whiteKeyMargin,this.blackKeysGrops=[{marginLeft:2*this.whiteKeyWidth/3+"px"},{marginLeft:3.925*this.whiteKeyWidth+"px"}]}return t.prototype.render=function(t){var e;this.root=t,t.innerHTML='<div class="keyboard" style="background-color: #222; display: inline-flex; padding: '+(e=this).whiteKeyMargin+'px; line-height: 1; font-family: sans-serif;">\n        '+new Array(e.opts.octaves).fill(void 0).map((function(t,n){return function(t,e){var n={width:t.whiteKeyWidth*i.length+t.whiteKeyMargin*(i.length-1)+"px",height:t.opts.whiteKeyHeight*t.opts.keySizeMultiplier+"px",position:"relative"};return'<div class="octave-keyboard-wrapper" style="'+(e?"margin-right: "+t.whiteKeyMargin+"px":"")+'">\n        <div class="octave-keyboard" style="'+r(n)+'">\n            '+i.map((function(e,n){return'<div class="octave-keyboard-white-key" style="'+r({"background-color":"white",display:"flex","justify-content":"center",width:t.opts.whiteKeyWidth*t.opts.keySizeMultiplier+"px",height:t.opts.whiteKeyHeight*t.opts.keySizeMultiplier+"px",position:"absolute",left:(t.whiteKeyWidth+t.whiteKeyMargin)*n+"px",top:"0"})+'"></div>'})).join("")+"\n\n            "+s.map((function(e,n){return'<div class="octave-keyboard-black-key-group" style="'+r({position:"absolute",top:"0",left:""+t.blackKeysGrops[n].marginLeft})+'">\n                        '+e.map((function(e,n){return'<div class="octave-keyboard-black-key" style="'+r({background:"linear-gradient(#555 90%, #444 90%, #444 95%, #333 95%)",display:"flex","justify-content":"center",width:t.opts.blackKeyWidth*t.opts.keySizeMultiplier+"px",height:t.opts.blackKeyHeight*t.opts.keySizeMultiplier+"px",position:"absolute",top:"0",left:(t.blackKeyWidth+t.blackKeyMargin)*n+"px","box-sizing":"border-box","border-width":"0 "+t.whiteKeyMargin+"px "+t.whiteKeyMargin+"px "+t.whiteKeyMargin+"px","border-style":"solid","border-color":"#222"})+'"></div>'})).join("")+"\n                    </div>"})).join("")+"\n        </div>\n    </div>"}(e,n!==e.opts.octaves-1)})).join("")+"\n    </div>"},t.prototype.showNotes=function(t){if(!this.root)throw new Error("no root element found");var e=t.map(o);Array.from(this.root.querySelectorAll(".octave-keyboard-white-key")).forEach((function(n,s){n.innerHTML="";var r=i.map(o);e.forEach((function(i){if(r.indexOf(i)===s%r.length){var o=e.indexOf(i),l=0===o,c=t[o];n.innerHTML=a(c,i,e[0],l)}}))})),Array.from(this.root.querySelectorAll(".octave-keyboard-black-key")).forEach((function(n,i){n.innerHTML="";var r=s.flat().map(o);e.forEach((function(s){if(r.indexOf(s)===i%r.length){var o=e.indexOf(s),l=0===o,c=t[o];n.innerHTML=a(c,s,e[0],l)}}))}))},t}();e.Keyboard=l},538:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Store=e.scaleNotes=void 0;var i=n(949),s=n(630),r=function(){function t(){}return t.prototype.load=function(){var t=localStorage.getItem("latestScales");return{latestScales:t?JSON.parse(t):[]}},t.prototype.save=function(t){var e=JSON.stringify(t);localStorage.setItem("latestScales",e)},t}();function o(t){return t?s.Scale.get(t).notes:[]}e.scaleNotes=o;var a=function(){function t(){this.storage=new r,this.scaleName="C major",this.latestScales=[],i.makeObservable(this,{scaleName:i.observable,latestScales:i.observable,scaleNotes:i.computed})}return Object.defineProperty(t.prototype,"scaleNotes",{get:function(){return o(this.scaleName)},enumerable:!1,configurable:!0}),t}();e.Store=a},404:function(t,e,n){"use strict";var i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ChordsTable=void 0;var r,o=n(294),a=n(540),l=n(630),c=n(524).default.table(r||(r=i(["\n    /* background: silver; */\n    /* line-height: 1.4; */\n    th {\n        font-weight: bold;\n        text-align: center;\n    }\n\n    td, th {\n        padding: .25em .5em;\n    }\n"],["\n    /* background: silver; */\n    /* line-height: 1.4; */\n    th {\n        font-weight: bold;\n        text-align: center;\n    }\n\n    td, th {\n        padding: .25em .5em;\n    }\n"])));e.ChordsTable=a.observer((function(t){var e=t.store,n=l.Scale.modeNames(e.scaleName).map((function(t){var e=t.join(" ");return[e,l.Scale.scaleChords(e)]}));return o.createElement("div",{style:{fontFamily:"Consolas, monospace",lineHeight:1}},o.createElement(c,null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null),o.createElement("th",null,"note"),o.createElement("th",null,"mode"),o.createElement("th",null,"aliases"),o.createElement("th",null,"chords"))),o.createElement("tbody",null,n.map((function(t,e){var n=function(){if("string"!=typeof t[0])throw new Error;var e=t[0].match("^([A-G][b#]{0,2}) (.+)$");if(!e)throw new Error;return[e[1],e[2]]}(),i=n[0],r=n[1],a=i+" "+r,c=function(){var e=t[1];if(e instanceof Array)return e.map((function(t){if("string"!=typeof t)throw new Error;return t}));throw new Error}(),u=["M","m","maj7","m7","7","dim","m7b5","dim7","aug","sus2","sus4"];return o.createElement("tr",{key:a},o.createElement("td",null,"#",e+1),o.createElement("th",null,i),o.createElement("th",null,r),o.createElement("td",{style:{textAlign:"center"}},l.Scale.get(a).aliases.join(", ")||"-"),o.createElement("td",null,c.sort((function(t,e){var n=function(t){return-1===t?999:t};return n(u.indexOf(t))-n(u.indexOf(e))})).map((function(t){var e,n=((e={})["hsl(90, 50%, 50%)"]=["m","m7"],e["hsl(120, 50%, 50%)"]=["M","maj7","7"],e["hsl(180, 50%, 50%)"]=["dim","m7b5","dim7"],e["hsl(240, 50%, 50%)"]=["aug"],e["hsl(60, 50%, 50%)"]=["sus2"],e["hsl(150, 50%, 50%)"]=["sus4"],e),i=s({padding:".1em .25em",display:"inline-block",boxSizing:"border-box",marginRight:".5em"},Object.values(n).flat().includes(t)?{color:"#fff"}:{color:"grey",border:"1px solid lightgrey"});for(var r in t.includes("7")&&(i.borderLeft=".5em solid hsl("+30*{maj7:11,m7:10,m7b5:10,7:10,dim7:9}[t]+", 50%, 50%)"),n)if(n[r].includes(t)){i.backgroundColor=r;break}return o.createElement("span",{key:t,style:i},t)}))))})))))}))},102:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FretboardShapesBox=void 0;var i=n(294),s=n(540),r=n(630),o=n(837),a=n(863),l=[{id:"minor-scale",label:"Minor",shapes:[{scale:"F minor",frets:4},{scale:"G minor",frets:5},{scale:"G# minor",frets:4,strings:4}]},{id:"major-scale",label:"Major",shapes:[{scale:"F# major",frets:4},{scale:"F major",frets:5},{scale:"G# major",frets:4,strings:4}]},{id:"minor-triad",label:"Minor triad",shapes:[{chord:"G#m",frets:4,strings:3},{chord:"Fm",frets:4,strings:2},{chord:"Gm",frets:5,strings:2},{chord:"G#m",frets:8,strings:4}]},{id:"minor-triad-I-inv",label:"Minor triad I inv.",shapes:[{chord:"D#m",frets:2,strings:3},{chord:"D#m",frets:6,strings:2},{chord:"Dm",frets:5,strings:2}]},{id:"minor-triad-II-inv",label:"Minor triad II inv.",shapes:[{chord:"Cm",frets:4,strings:3},{chord:"A#m",frets:4,strings:2},{chord:"A#m",frets:6,strings:2}]},{id:"major-triad",label:"Major triad",shapes:[{chord:"F#",frets:4,strings:2},{chord:"F",frets:5,strings:2},{chord:"G#",frets:4,strings:3},{chord:"G#",frets:8,strings:4}]},{id:"major-triad-I-inv",label:"Major triad I inv.",shapes:[{chord:"C#",frets:4,strings:2},{chord:"D#",frets:6,strings:2},{chord:"D#",frets:4,strings:3}]},{id:"major-triad-II-inv",label:"Major triad II inv.",shapes:[{chord:"A#",frets:5,strings:2},{chord:"A#",frets:6,strings:2},{chord:"B",frets:2,strings:3}]},{id:"m7_maj7_7",label:"m7, maj7, 7",shapes:[{chord:"G#m7",frets:8,strings:4},{chord:"G#maj7",frets:8,strings:4},{chord:"G#7",frets:8,strings:4}]},{id:"m7b5_dim7_aug",label:"m7b5, dim7, aug",shapes:[{chord:"Fm7b5",frets:13,strings:4},{chord:"Fdim7",frets:13,strings:4},{chord:"F+",frets:13,strings:4}]},{id:"sus2_sus4",label:"sus2, sus4",shapes:[{chord:"Fsus2",frets:13,strings:4},{chord:"Fsus4",frets:13,strings:4}]}];e.FretboardShapesBox=s.observer((function(){return i.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:".5em"}},l.map((function(t){return i.createElement("div",{key:t.id,style:{padding:".5em",backgroundColor:"#fff"}},i.createElement("div",{style:{textAlign:"center"}},t.label),t.shapes?i.createElement("div",null,t.shapes.map((function(t,e){return i.createElement(u,{key:e,shape:t})}))):i.createElement("div",{id:"fretboard-shapes-box_${shape.id}"}))})))}));var c=function(t){return 1.5*t},u=function(t){var e=t.shape,n=e.strings||3,s=i.useState(new o.Fretboard({FretboardTemplate:o.FretboardTemplateShapes.FretboardTemplate,NoteMarkTemplate:o.FretboardTemplateShapes.NoteMarkTemplate,frets:e.frets,strings:["E","A","D","G","B","E"].slice(0,n),stringsSize:[c(2),c((6-(n-1))/3)],firstFretAreaWidth:c(35/3),stringAreaHeight:c(10),fretWidth:c(1)}))[0];return i.useEffect((function(){var t=function(){if(function(t){return t.hasOwnProperty("scale")}(e))return r.Scale.get(e.scale).notes;if(function(t){return t.hasOwnProperty("chord")}(e))return r.Chord.get(e.chord).notes;throw new Error("unknown scale shape")}();s.showNotes(t)}),[]),i.createElement("div",{style:{marginBottom:".5em"}},i.createElement("div",{id:"fretboard-shapes-box_${shape.id}_${i}",style:{marginBottom:".5em"}}),i.createElement(a.FretboardBlock,{model:s}))}},596:function(t,e,n){"use strict";var i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};Object.defineProperty(e,"__esModule",{value:!0}),e.MainView=void 0;var s,r,o,a,l=n(294),c=n(949),u=n(540),h=n(524),d=n(85),p=n(837),f=n(452),m=n(863),g=n(102),v=n(404),_=n(483),y=h.default.div(s||(s=i(["\n    /* background: silver; */\n    font-family: 'Lato', sans-serif;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    overflow: hidden;\n"],["\n    /* background: silver; */\n    font-family: 'Lato', sans-serif;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    overflow: hidden;\n"]))),b=h.default.div(r||(r=i(["\n    overflow: auto;\n    padding: 2em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2em;\n"],["\n    overflow: auto;\n    padding: 2em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 2em;\n"]))),w=h.default.div(o||(o=i(["\n    background: hsl(30, 50%, 80%);\n    padding: .5em;\n"],["\n    background: hsl(30, 50%, 80%);\n    padding: .5em;\n"]))),x=h.default.div(a||(a=i(["\n    background: hsl(240, 50%, 95%);\n    padding: .5em;\n"],["\n    background: hsl(240, 50%, 95%);\n    padding: .5em;\n"]))),k=function(t){return 3*t};e.MainView=u.observer((function(t){var e=t.store,n=l.useState(new d.Keyboard({octaves:3,whiteKeyWidth:21,whiteKeyHeight:68,blackKeyWidth:14,blackKeyHeight:42,whiteKeyMargin:5,keySizeMultiplier:3}))[0],i=l.useState(new p.Fretboard({FretboardTemplate:p.FretboardTemplateFull.FretboardTemplate,NoteMarkTemplate:p.FretboardTemplateFull.NoteMarkTemplate,frets:24,strings:["E","A","D","G","B","E"],stringsSize:[k(2),k(1/3)],firstFretAreaWidth:k(35),stringAreaHeight:k(10),fretWidth:k(3)}))[0];function s(){n.showNotes(e.scaleNotes),i.showNotes(e.scaleNotes)}return l.useEffect(c.action((function(){s()})),[]),l.createElement(y,null,l.createElement("div",null,l.createElement(_.ScaleFormBlock,{store:e,onScaleChange:function(t){s()}})),l.createElement(b,null,l.createElement(f.KeyboardBlock,{model:n}),l.createElement(w,null,l.createElement(m.FretboardBlock,{model:i})),l.createElement(x,null,l.createElement(g.FretboardShapesBox,null)),l.createElement(v.ChordsTable,{store:e})))}))},483:function(t,e,n){"use strict";var i=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleFormBlock=void 0;var s,r,o,a,l,c,u,h=n(294),d=n(949),p=n(540),f=n(524),m=n(538),g=f.default.div(s||(s=i(["\n    background-color: hsl(240, 10%, 80%);\n    padding: 1em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1em;\n"],["\n    background-color: hsl(240, 10%, 80%);\n    padding: 1em;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1em;\n"]))),v=f.default.form(r||(r=i(["\n    display: flex;\n    gap: 1em;\n"],["\n    display: flex;\n    gap: 1em;\n"]))),_=f.default.input(o||(o=i(["\n    background-color: rgba(255, 255, 255, .66);\n    font-size: 1.1em;\n    color: rgba(0, 0, 0, .75);\n    padding: .5em 1em;\n    border: 1px solid rgba(0, 0, 0, .25);\n    border-radius: .25em;\n\n    &:focus {\n        background-color: rgba(255, 255, 255, .75);\n        border-color: dodgerblue;\n    }\n"],["\n    background-color: rgba(255, 255, 255, .66);\n    font-size: 1.1em;\n    color: rgba(0, 0, 0, .75);\n    padding: .5em 1em;\n    border: 1px solid rgba(0, 0, 0, .25);\n    border-radius: .25em;\n\n    &:focus {\n        background-color: rgba(255, 255, 255, .75);\n        border-color: dodgerblue;\n    }\n"]))),y=f.default.button(a||(a=i(["\n    font-size: 1.1em;\n    padding: .5em 1em;\n    border: 1px solid rgba(0, 0, 0, .25);\n    border-radius: .25em;\n\n    [disabled] {\n        background-color: rgba(255, 255, 255, .5);\n        color: rgba(0, 0, 0, .75);\n    }\n\n    &:not([disabled]) {\n        cursor: pointer;\n        background-color: hsl(210, 66%, 50%);\n        color: rgba(255, 255, 255, .75);\n\n        &:hover {\n            background-color: hsl(210, 66%, 60%);\n        }\n    }\n"],["\n    font-size: 1.1em;\n    padding: .5em 1em;\n    border: 1px solid rgba(0, 0, 0, .25);\n    border-radius: .25em;\n\n    [disabled] {\n        background-color: rgba(255, 255, 255, .5);\n        color: rgba(0, 0, 0, .75);\n    }\n\n    &:not([disabled]) {\n        cursor: pointer;\n        background-color: hsl(210, 66%, 50%);\n        color: rgba(255, 255, 255, .75);\n\n        &:hover {\n            background-color: hsl(210, 66%, 60%);\n        }\n    }\n"]))),b=f.default.div(l||(l=i(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: baseline;\n    gap: .5em;\n"],["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: baseline;\n    gap: .5em;\n"]))),w=f.default.ul(c||(c=i(["\n    display: flex;\n    flex-wrap: wrap;\n    gap: .5em;\n"],["\n    display: flex;\n    flex-wrap: wrap;\n    gap: .5em;\n"]))),x=f.default.button(u||(u=i(["\n    cursor: pointer;\n    background-color: rgba(255, 255, 255, .5);\n    padding: .25em .5em;\n\n    &:hover {\n        background-color: rgba(255, 255, 255, .75);\n    }\n"],["\n    cursor: pointer;\n    background-color: rgba(255, 255, 255, .5);\n    padding: .25em .5em;\n\n    &:hover {\n        background-color: rgba(255, 255, 255, .75);\n    }\n"])));e.ScaleFormBlock=p.observer((function(t){var e=t.store,n=t.onScaleChange,i=h.useState(e.scaleName),s=i[0],r=i[1],o=h.useState([]),a=o[0],l=o[1];function c(t){return function(){r(t),u(t),n(t)}}h.useEffect((function(){l(m.scaleNotes(function(t){return t.trim().replace(/ {2,}/g," ").toLowerCase()}(s)))}),[s]);var u=d.action((function(t){e.scaleName=t;var n=[t].concat(e.latestScales.filter((function(e){return e!==t})));e.latestScales=n,e.storage.save(n)}));return h.createElement(g,null,h.createElement(v,{onSubmit:function(t){t.preventDefault(),u(s),n(s)}},h.createElement(_,{placeholder:"Scale name, e.g. F# minor",type:"text",value:s,onChange:function(t){r(t.currentTarget.value)}}),a.length>0&&h.createElement("div",null,h.createElement("div",null,"Scale found:"),h.createElement("div",null,a.join(", "))),h.createElement(y,{disabled:0==a.length},"Show")),e.latestScales.length>0&&h.createElement(b,null,h.createElement("div",null,"recent scales:"),h.createElement(w,null,e.latestScales.slice(0,7).map((function(t){return h.createElement("li",{key:t},h.createElement(x,{style:{fontWeight:t===s?"bold":"normal"},onClick:c(t)},t))})))))}))}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(152)})();
//# sourceMappingURL=bundle.min.js.map